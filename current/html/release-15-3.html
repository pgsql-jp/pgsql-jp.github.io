<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. リリース15.3</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release.html" title="付録E リリースノート" /><link rel="next" href="release-15-2.html" title="E.2. リリース15.2" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 15.3文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 15.3 : release-15-3.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.1. リリース15.3</td><td width="20%" align="right"> <a accesskey="n" href="release-15-2.html" title="E.2. リリース15.2">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-15-3"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. リリース15.3</h2></div></div></div><span class="original">
  &lt;title&gt;Release 15.3&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2023-05-11</p><p>
<span class="original">
   This release contains a variety of fixes from 15.2.
   For information about new features in major release 15, see
   &lt;xref linkend="release-15"/&gt;.
</span>
このリリースは15.2に対し、様々な不具合を修正したものです。
15メジャーリリースにおける新機能については、<a class="xref" href="release-15.html" title="E.4. リリース 15">E.4</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.5.4"><div class="titlepage"><div><div><h3 class="title">E.1.1. バージョン15.3への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 15.3&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 15.X.
</span>
15.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you are upgrading from a version earlier than 15.1,
    see &lt;xref linkend="release-15-1"/&gt;.
</span>
しかしながら、15.1より前のバージョンからアップグレードする場合は、<a class="xref" href="release-15-1.html" title="E.3. Release 15.1">E.3</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.5.5"><div class="titlepage"><div><div><h3 class="title">E.1.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [681d9e462] 2023-05-08 06:14:07 -0700
Branch: REL_15_STABLE [dbd5795e7] 2023-05-08 06:14:11 -0700
Branch: REL_14_STABLE [01e8182c7] 2023-05-08 06:14:11 -0700
Branch: REL_13_STABLE [2212f7db8] 2023-05-08 06:14:12 -0700
Branch: REL_12_STABLE [78119a0bf] 2023-05-08 06:14:12 -0700
Branch: REL_11_STABLE [23cb8eaeb] 2023-05-08 06:14:12 -0700
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [8d525d7b9] 2023-05-08 11:24:47 -0400
Branch: REL_15_STABLE [1b761d896] 2023-05-08 11:24:47 -0400
Branch: REL_14_STABLE [1913f63dc] 2023-05-08 11:24:47 -0400
Branch: REL_13_STABLE [feb9e7fbb] 2023-05-08 11:24:47 -0400
Branch: REL_12_STABLE [2cd843cc9] 2023-05-08 11:24:47 -0400
Branch: REL_11_STABLE [766e06140] 2023-05-08 11:24:47 -0400
</span><p>
<span class="original">
      Prevent &lt;command&gt;CREATE SCHEMA&lt;/command&gt; from defeating changes
      in &lt;varname&gt;search_path&lt;/varname&gt; (Alexander Lakhin)
</span>
<code class="command">CREATE SCHEMA</code>が<code class="varname">search_path</code>の変更を無効にしないようにしました。
(Alexander Lakhin)
     </p><p>
<span class="original">
      Within a &lt;command&gt;CREATE SCHEMA&lt;/command&gt; command, objects in the
      prevailing &lt;varname&gt;search_path&lt;/varname&gt;, as well as those in the
      newly-created schema, would be visible even within a called
      function or script that attempted to set a
      secure &lt;varname&gt;search_path&lt;/varname&gt;.  This could allow any user
      having permission to create a schema to hijack the privileges of a
      security definer function or extension script.
</span>
<code class="command">CREATE SCHEMA</code>コマンド内では、一般的な<code class="varname">search_path</code>内のオブジェクトだけでなく、新しく作成されたスキーマ内のオブジェクトも、安全な<code class="varname">search_path</code>を設定しようとする呼び出された関数またはスクリプト内でも可視になります。
これにより、スキーマを作成する権限を持つユーザであれば、セキュリティ定義関数または拡張スクリプトの権限を乗っ取ることが可能になります。
     </p><p>
<span class="original">
      The &lt;productname&gt;PostgreSQL&lt;/productname&gt; Project thanks
      Alexander Lakhin for reporting this problem.
      (CVE-2023-2454)
</span>
<span class="productname">PostgreSQL</span>プロジェクトは、本問題を報告してくれたAlexander Lakhinに感謝します。
(CVE-2023-2454)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ca73753b0] 2023-05-08 10:12:44 -0400
Branch: REL_15_STABLE [04e560604] 2023-05-08 10:12:44 -0400
Branch: REL_14_STABLE [f8d799eda] 2023-05-08 10:12:44 -0400
Branch: REL_13_STABLE [b8e28f04f] 2023-05-08 10:12:44 -0400
Branch: REL_12_STABLE [ee87b482c] 2023-05-08 10:12:45 -0400
Branch: REL_11_STABLE [473626cf0] 2023-05-08 10:12:45 -0400
</span><p>
<span class="original">
      Enforce row-level security policies correctly after inlining a
      set-returning function (Stephen Frost, Tom Lane)
</span>
集合を返す関数をインライン化した後でも、行レベルセキュリティポリシーを正しく適用するようになりました。
(Stephen Frost, Tom Lane)
     </p><p>
<span class="original">
      If a set-returning SQL-language function refers to a table having
      row-level security policies, and it can be inlined into a calling
      query, those RLS policies would not get enforced properly in some
      cases involving re-using a cached plan under a different role.
      This could allow a user to see or modify rows that should have been
      invisible.
</span>
集合を返すSQL言語関数が行レベルセキュリティポリシーを持つテーブルを参照し、そのテーブルが呼び出し元問い合わせにインライン化できる場合、キャッシュされたプランを別のロールで再利用する状況では、これらのRLSポリシーが適切に実施されないことがありました。
これにより、ユーザは非表示になっている行を表示または変更できました。
     </p><p>
<span class="original">
      The &lt;productname&gt;PostgreSQL&lt;/productname&gt; Project thanks
      Wolfgang Walther for reporting this problem.
      (CVE-2023-2455)
</span>
<span class="productname">PostgreSQL</span>プロジェクトは、本問題を報告してくれたWolfgang Waltherに感謝します。
(CVE-2023-2455)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [8a8661828] 2023-02-22 10:14:52 +0900
Branch: REL_15_STABLE [fa5dd460c] 2023-02-22 10:14:56 +0900
</span><p>
<span class="original">
      Fix potential corruption of the template (source) database after
      &lt;command&gt;CREATE DATABASE&lt;/command&gt; with the &lt;literal&gt;STRATEGY
      WAL_LOG&lt;/literal&gt; option (Nathan Bossart, Ryo Matsumura)
</span>
<code class="literal">STRATEGY WAL_LOG</code>オプションを使用した<code class="command">CREATE DATABASE</code>コマンドの後にテンプレート(ソース)データベースの破損が発生する可能性があったのを修正しました。
(Nathan Bossart, Ryo Matsumura)
     </p><p>
<span class="original">
      Improper buffer handling created a risk that any later modification
      of the template's &lt;structname&gt;pg_class&lt;/structname&gt; catalog would be
      lost.
</span>
不適切なバッファ処理により、テンプレートの<code class="structname">pg_class</code>カタログのその後の変更が失われるリスクが生じていました。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [5df319f3d] 2023-03-22 09:20:34 -0700
Branch: REL_15_STABLE [560bb56c6] 2023-03-22 09:26:23 -0700
</span><p>
<span class="original">
      Fix memory leakage and unnecessary disk reads
      during &lt;command&gt;CREATE DATABASE&lt;/command&gt; with the &lt;literal&gt;STRATEGY
      WAL_LOG&lt;/literal&gt; option (Andres Freund)
</span>
<code class="literal">STRATEGY WAL_LOG</code>オプションを使用した<code class="command">CREATE DATABASE</code>コマンド実行中のメモリリークと不要なディスク読み込みを修正しました。
(Andres Freund)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [4dadd660f] 2023-04-28 19:29:12 +0900
Branch: REL_15_STABLE [b9ad73ad2] 2023-04-28 19:29:36 +0900
Branch: REL_14_STABLE [d29eba198] 2023-04-28 19:29:38 +0900
Branch: REL_13_STABLE [7e95a33b4] 2023-04-28 19:29:40 +0900
Branch: REL_12_STABLE [63f7e91ec] 2023-04-28 19:29:42 +0900
Branch: REL_11_STABLE [a9212716b] 2023-04-28 19:29:44 +0900
</span><p>
<span class="original">
      Avoid crash when the new schema name is omitted
      in &lt;command&gt;CREATE SCHEMA&lt;/command&gt; (Michael Paquier)
</span>
<code class="command">CREATE SCHEMA</code>で新しいスキーマ名が省略されている場合のクラッシュを回避しました。
(Michael Paquier)
     </p><p>
<span class="original">
      The SQL standard allows writing &lt;literal&gt;CREATE SCHEMA AUTHORIZATION
      &lt;replaceable&gt;owner_name&lt;/replaceable&gt;&lt;/literal&gt;, with the schema
      name defaulting to &lt;replaceable&gt;owner_name&lt;/replaceable&gt;.  However
      some code paths expected the schema name to be present and would
      fail.
</span>
SQL標準では、<code class="literal">CREATE SCHEMA AUTHORIZATION <em class="replaceable"><code>owner_name</code></em></code>と書くことができ、スキーマ名はデフォルトで<em class="replaceable"><code>owner_name</code></em>に設定されます。
ただし、一部のコードパスはスキーマ名が存在することを想定しており、障害が発生しました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [326a33a28] 2023-03-28 11:39:24 -0400
Branch: REL_15_STABLE [bf5c4b3d9] 2023-03-28 11:36:50 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e3ac85014] 2023-03-15 11:59:18 -0400
Branch: REL_15_STABLE [3908d6ae1] 2023-03-15 11:59:18 -0400
</span><p>
<span class="original">
      Fix various planner failures with &lt;command&gt;MERGE&lt;/command&gt;
      commands (Tom Lane)
</span>
<code class="command">MERGE</code>コマンドでのさまざまなプランナ障害を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Planning could fail with errors like &lt;quote&gt;variable not found in
      subplan target list&lt;/quote&gt; or &lt;quote&gt;PlaceHolderVar found where not
      expected&lt;/quote&gt;.
</span>
プラン作成時に<span class="quote">「<span class="quote">variable not found in subplan target list</span>」</span>または<span class="quote">「<span class="quote">PlaceHolderVar found where not expected</span>」</span>のようなエラーで失敗する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [7b14e20b1] 2023-03-13 11:12:20 +0000
Branch: REL_15_STABLE [da6257eee] 2023-03-13 11:11:10 +0000
Branch: master [80a48e0f2] 2023-02-22 09:39:09 +0000
Branch: REL_15_STABLE [018af1cc1] 2023-02-22 09:41:28 +0000
</span><p>
<span class="original">
      Fix the row count reported by &lt;command&gt;MERGE&lt;/command&gt; for some
      corner cases (Dean Rasheed)
</span>
一部の場合における<code class="command">MERGE</code>で報告される行数を修正しました。
(Dean Rasheed)
     </p><p>
<span class="original">
      The row count reported in the command tag counted rows that actually
      hadn't been modified due to a &lt;literal&gt;BEFORE ROW&lt;/literal&gt; trigger
      returning NULL.  This is inconsistent with what happens in
      plain &lt;command&gt;UPDATE&lt;/command&gt; or &lt;command&gt;DELETE&lt;/command&gt;, so
      change it to not count such rows.  Also, avoid counting a row twice
      when &lt;command&gt;MERGE&lt;/command&gt; moves it into a different partition of
      a partitioned table.
</span>
コマンドタグで報告された行数では、NULLを返す<code class="literal">BEFORE ROW</code>トリガにより、実際には変更されていない行がカウントされていました。
これは、通常の<code class="command">UPDATE</code>または<code class="command">DELETE</code>での動作と矛盾するため、このような行をカウントしないよう変更されました。
また、<code class="command">MERGE</code>が行をパーティションテーブルの別のパーティションに移動するときに、1行を2回カウントしないようになりました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [9321c79c8] 2023-03-13 10:22:22 +0000
Branch: REL_15_STABLE [7d9a75713] 2023-03-13 10:23:42 +0000
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [fd923b5de] 2023-02-15 20:37:44 +0100
Branch: REL_15_STABLE [5d8ec1b9f] 2023-02-15 20:37:44 +0100
</span><p>
<span class="original">
      Fix &lt;command&gt;MERGE&lt;/command&gt; problems with concurrent updates
      (Dean Rasheed, &amp;Aacute;lvaro Herrera)
</span>
同時更新を伴う<code class="command">MERGE</code>の問題を修正しました。
(Dean Rasheed, Álvaro Herrera)
     </p><p>
<span class="original">
      Some cases misbehaved if a row to be updated or deleted
      by &lt;command&gt;MERGE&lt;/command&gt; had just been updated by a concurrent
      transaction.  This could lead to a crash, or the wrong merge action
      being executed, or no action at all.
</span>
同時に実行されているトランザクションによって行が更新された直後に、<code class="command">MERGE</code>によってその行が更新または削除されると、誤動作が発生することがありました。
これにより、クラッシュ、または誤ったマージ動作、あるいは何も実行されない可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [41e2c52fd] 2023-05-07 11:01:15 -0400
Branch: REL_15_STABLE [f200b9695] 2023-05-07 11:01:15 -0400
</span><p>
<span class="original">
      Add support for decompiling &lt;command&gt;MERGE&lt;/command&gt;
      commands (&amp;Aacute;lvaro Herrera)
</span>
<code class="command">MERGE</code>コマンドの逆コンパイルを追加しました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      This was overlooked when &lt;command&gt;MERGE&lt;/command&gt; was added, but
      it's essential support for &lt;command&gt;MERGE&lt;/command&gt; in new-style SQL
      functions.
</span>
これは<code class="command">MERGE</code>が追加されたときには見過ごされていましたが、新しい形式のSQL関数での<code class="command">MERGE</code>にとって不可欠です。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [6949b921d] 2023-03-04 13:32:35 -0500
Branch: REL_15_STABLE [f61e60102] 2023-03-04 13:32:35 -0500
</span><p>
<span class="original">
      Fix enabling/disabling of foreign-key triggers in partitioned tables
      (Tom Lane)
</span>
パーティションテーブルでの外部キー制約のトリガの有効化/無効化を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      &lt;command&gt;ALTER TABLE ... ENABLE/DISABLE TRIGGER&lt;/command&gt; failed if
      applied to a partitioned table's foreign-key enforcement triggers,
      because it tried to locate the clone triggers for the partitions by
      name, and they do not have the same name.  Locate them by
      parent-trigger OID instead.
</span>
<code class="command">ALTER TABLE ... ENABLE/DISABLE TRIGGER</code>は、パーティションテーブルの外部キー強制トリガに適用されると失敗していました。
これは、名前によってパーティションのクローントリガを見つけようとしましたが、それらの名前が同じではないためです。
代わりに、親トリガのOIDによってそれらを見つけることにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [a3c9d35ae] 2023-03-27 15:04:15 -0400
Branch: REL_15_STABLE [d90d59e25] 2023-03-27 15:04:02 -0400
Branch: REL_14_STABLE [334cc4c96] 2023-03-27 15:04:02 -0400
Branch: REL_13_STABLE [29a20ff06] 2023-03-27 15:04:02 -0400
Branch: REL_12_STABLE [cd07163c0] 2023-03-27 15:04:02 -0400
Branch: REL_11_STABLE [78838bc3d] 2023-03-27 15:04:02 -0400
</span><p>
<span class="original">
      Disallow altering composite types that are stored in indexes
      (Tom Lane)
</span>
インデックスに格納されている複合型の変更が禁止されました。
(Tom Lane)
     </p><p>
<span class="original">
      &lt;command&gt;ALTER TYPE&lt;/command&gt; disallows non-binary-compatible
      modifications of composite types if they are stored in any table
      columns.  (Perhaps that will be allowed someday, but it hasn't
      happened yet; the locking implications of rewriting many tables are
      daunting.)  We overlooked the possibility that an index might
      contain a composite type that doesn't also appear in its table.
</span>
<code class="command">ALTER TYPE</code>は、複合型がテーブル列に格納されている場合、バイナリ互換性のない複合型の変更を許可しません。
(いつかは許可されるかもしれませんが、まだ行われていません。
多くのテーブルを書き換えることによるロックの影響は気が遠くなります。)
私たちは、インデックスがテーブルには含まれない複合型を含む可能性を見落としていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f0d65c0ea] 2023-03-31 11:18:49 -0400
Branch: REL_15_STABLE [6e3698173] 2023-03-31 11:18:49 -0400
Branch: REL_14_STABLE [b0b55d8b8] 2023-03-31 11:18:49 -0400
Branch: REL_13_STABLE [bfb993b1b] 2023-03-31 11:18:49 -0400
Branch: REL_12_STABLE [e8d74aac5] 2023-03-31 11:18:49 -0400
</span><p>
<span class="original">
      Disallow system columns as elements of foreign keys (Tom Lane)
</span>
システム列を外部キーの要素とすることが禁止されました。
(Tom Lane)
     </p><p>
<span class="original">
      Since the removal of OID as a system column, there is no plausible
      use-case for this, and various bits of code no longer support it.
      Disallow it rather than trying to fix all the cases.
</span>
OIDがシステム列から除外されて以来、システム列の妥当な用途はなく、コードの様々な部分はもはやサポートされていません。
すべてのケースを修正しようとするのではなく、禁止することにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d66bb048c] 2023-03-10 13:52:44 -0500
Branch: REL_15_STABLE [59947bac7] 2023-03-10 13:52:28 -0500
Branch: REL_14_STABLE [53a53ea33] 2023-03-10 13:52:28 -0500
Branch: REL_13_STABLE [866fd004d] 2023-03-10 13:52:28 -0500
Branch: REL_12_STABLE [a30310833] 2023-03-10 13:52:28 -0500
Branch: REL_11_STABLE [6e2674d77] 2023-03-10 13:52:28 -0500
</span><p>
<span class="original">
      Ensure that &lt;command&gt;COPY TO&lt;/command&gt; from an RLS-enabled parent
      table does not copy any rows from child tables (Antonin Houska)
</span>
行単位セキュリティ(RLS)が設定されている親テーブルからの<code class="command">COPY TO</code>が、子テーブルの行をコピーしないようにしました。
(Antonin Houska)
     </p><p>
<span class="original">
      The documentation is quite clear that &lt;command&gt;COPY TO&lt;/command&gt;
      copies rows from only the named table, not any inheritance children
      it may have.  However, if row-level security was enabled on the table
      then this stopped being true.
</span>
ドキュメントには<code class="command">COPY TO</code>が名前付きテーブルからのみ行をコピーし、そのテーブルが持つ継承子テーブルから行はコピーしないことが明確に記載されています。
ただし、行単位セキュリティがテーブルで有効になっている場合、誤って子テーブルの行がコピーされていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4c40995f6] 2023-05-04 11:48:23 -0400
Branch: REL_15_STABLE [ccb479e76] 2023-05-04 11:48:23 -0400
Branch: REL_14_STABLE [d5de344a5] 2023-05-04 11:48:23 -0400
Branch: REL_13_STABLE [9a72f499a] 2023-05-04 11:48:23 -0400
Branch: REL_12_STABLE [580df5078] 2023-05-04 11:48:23 -0400
Branch: REL_11_STABLE [4624aad61] 2023-05-04 11:48:23 -0400
</span><p>
<span class="original">
      Avoid possible crash when &lt;function&gt;array_position()&lt;/function&gt;
      or &lt;function&gt;array_positions()&lt;/function&gt; is passed an empty array
      (Tom Lane)
</span>
<code class="function">array_position()</code>または<code class="function">array_positions()</code>に空配列が渡された場合に発生するクラッシュの可能性を回避しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b081fe419] 2023-03-14 19:17:31 -0400
Branch: REL_15_STABLE [a67c75f82] 2023-03-14 19:17:31 -0400
Branch: REL_14_STABLE [7cac19105] 2023-03-14 19:17:31 -0400
Branch: REL_13_STABLE [386a26023] 2023-03-14 19:17:31 -0400
Branch: REL_12_STABLE [6d3a9a60f] 2023-03-14 19:17:31 -0400
Branch: REL_11_STABLE [8e33fb9ef] 2023-03-14 19:17:31 -0400
</span><p>
<span class="original">
      Fix possible out-of-bounds fetch in &lt;function&gt;to_char()&lt;/function&gt;
      (Tom Lane)
</span>
<code class="function">to_char()</code>で発生する可能性があった範囲外のフェッチを修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      With bad luck this could have resulted in a server crash.
</span>
運が悪ければ、サーバクラッシュにつながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d7056bc1c] 2023-03-01 11:30:31 -0500
Branch: REL_15_STABLE [eae09137d] 2023-03-01 11:30:17 -0500
Branch: REL_14_STABLE [1a9356f65] 2023-03-01 11:30:17 -0500
Branch: REL_13_STABLE [3b37e8442] 2023-03-01 11:30:17 -0500
Branch: REL_12_STABLE [b162660d3] 2023-03-01 11:30:17 -0500
Branch: REL_11_STABLE [b1a9d8ef2] 2023-03-01 11:30:17 -0500
</span><p>
<span class="original">
      Avoid buffer overread in &lt;function&gt;translate()&lt;/function&gt; function
      (Daniil Anisimov)
</span>
<code class="function">translate()</code>関数でのバッファオーバーラン読み出しを回避しました。
(Daniil Anisimov)
     </p><p>
<span class="original">
      When using the deletion feature, the function might fetch the byte
      just after the input string, creating a small risk of crash.
</span>
削除機能を利用する場合、関数は入力文字列の直後のバイトをフェッチし、可能性は低いですがクラッシュすることがありました。
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [f413941f4] 2023-03-17 12:08:46 -0700
Branch: REL_15_STABLE [8b87e9291] 2023-03-17 12:07:47 -0700
</span><p>
<span class="original">
      Adjust text-search-related character classification logic to
      correctly detect whether the prevailing locale
      is &lt;literal&gt;C&lt;/literal&gt; (Jeff Davis)
</span>
テキスト検索に関連する文字クラス処理のロジックを調整して、有効なロケールが<code class="literal">C</code>であるかどうかを正しく検出します。
(Jeff Davis)
     </p><p>
<span class="original">
      This code got confused if the database's default collation uses ICU.
</span>
データベースのデフォルト照合順序がICUを利用している場合に混乱がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [5e80d3515] 2023-02-12 12:50:55 -0500
Branch: REL_15_STABLE [0ef65d0f5] 2023-02-12 12:50:55 -0500
</span><p>
<span class="original">
      Avoid possible crash on empty input for type &lt;type&gt;interval&lt;/type&gt;
      (Tom Lane)
</span>
<code class="type">interval</code>型に対する空文字列の入力によるクラッシュ発生を回避しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f0d0394e8] 2023-02-20 16:55:59 -0500
Branch: REL_15_STABLE [ded5ede27] 2023-02-20 16:55:59 -0500
</span><p>
<span class="original">
      Re-allow exponential notation in ISO-8601 interval fields
      (Tom Lane)
</span>
ISO-8601形式のinterval値の表現で、フィールドの指数表現を再度使用可能にしました。
(Tom Lane)
     </p><p>
<span class="original">
      Interval input like &lt;literal&gt;P0.1e10D&lt;/literal&gt; isn't officially
      sanctioned by ISO-8601, but we accepted it for a long time before
      version 15, so re-allow it.
</span>
interval型に対する<code class="literal">P0.1e10D</code>のような入力は、ISO-8601で公式に認可されていませんが、PostgreSQLではバージョン15の前まで長い間受け入れていたので、本バージョンで再度許可しました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [25a7812cd] 2023-03-13 15:19:00 -0400
Branch: REL_15_STABLE [74a1a36d7] 2023-03-13 15:19:00 -0400
Branch: REL_14_STABLE [0ee9d685d] 2023-03-13 15:19:00 -0400
Branch: REL_13_STABLE [52e9a7816] 2023-03-13 15:19:00 -0400
Branch: REL_12_STABLE [c25a929a6] 2023-03-13 15:19:00 -0400
Branch: REL_11_STABLE [234941a3b] 2023-03-13 15:19:00 -0400
</span><p>
<span class="original">
      Fix error cursor setting for parse errors in JSON string literals
      (Tom Lane)
</span>
JSON文字列リテラルの解析エラーに対するエラーカーソル設定を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Most cases in which a syntax error is detected in a string literal
      within a JSON value failed to set the error cursor appropriately.
      This led at least to an unhelpful error message (pointing to the
      token before the string, rather than the actual trouble spot), and
      could even result in a crash in v14 and later.
</span>
JSON値の中の文字列リテラルで構文エラーが検出されたほとんどの場合では、エラーカーソルが適切に設定されていませんでした。
これにより、少なくとも役に立たないエラーメッセージ(実際のトラブルスポットではなく、トークンの前の文字列を指す)が発生し、v14以降ではクラッシュになる可能性さえありました。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [be504a3e9] 2023-03-07 21:52:32 -0800
Branch: REL_15_STABLE [391f08fd6] 2023-03-07 21:36:48 -0800
Branch: REL_14_STABLE [324281fd5] 2023-03-07 21:36:49 -0800
Branch: REL_13_STABLE [e6d77f22c] 2023-03-07 21:36:51 -0800
Branch: REL_12_STABLE [3c92f7e9d] 2023-03-07 21:36:52 -0800
</span><p>
<span class="original">
      Fix data corruption due to &lt;varname&gt;vacuum_defer_cleanup_age&lt;/varname&gt;
      being larger than the current 64-bit xid (Andres Freund)
</span>
現在の64-bit XIDよりも大きい<code class="varname">vacuum_defer_cleanup_age</code>設定によるビットの破損を修正しました。
(Andres Freund)
     </p><p>
<span class="original">
      In v14 and later with non-default settings
      of &lt;varname&gt;vacuum_defer_cleanup_age&lt;/varname&gt;, it was possible to
      compute a very large vacuum cleanup horizon xid, leading to vacuum
      removing rows that are still live.  v12 and v13 have a lesser form
      of the same problem affecting only GiST indexes, which could lead to
      index pages getting recycled too early.
</span>
v14以降では、デフォルト以外の<code class="varname">vacuum_defer_cleanup_age</code>設定を使用して、非常に大きいバキュームクリーンアップ範囲XIDを計算することができ、バキュームはまだ有効な行を削除することになりました。
v12およびv13では、GiSTインデックスのみに影響する同じ問題のより小規模な形式があり、インデックスページのリサイクルが早すぎる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [30dbdbe75] 2023-03-13 12:40:28 -0400
Branch: REL_15_STABLE [5fd61bdc1] 2023-03-13 12:40:28 -0400
Branch: REL_14_STABLE [096e70805] 2023-03-13 12:40:28 -0400
Branch: REL_13_STABLE [bc0bcce2e] 2023-03-13 12:40:28 -0400
Branch: REL_12_STABLE [62a91a1b0] 2023-03-13 12:40:28 -0400
Branch: REL_11_STABLE [0736b1131] 2023-03-13 12:40:28 -0400
</span><p>
<span class="original">
      Fix parser's failure to detect some cases of improperly-nested
      aggregates (Tom Lane)
</span>
パーサが不適切にネストされた集約を検出できなかった問題を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      This oversight could lead to executor failures for queries that
      should have been rejected as invalid.
</span>
この見落としは、無効として拒否されるはずだった問い合わせが実行され、エグゼキュータの失敗につながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [6c3b697b1] 2023-03-31 12:13:05 +1300
Branch: REL_15_STABLE [df567fbf6] 2023-03-31 12:13:34 +1300
Branch: REL_14_STABLE [211016220] 2023-03-31 12:14:04 +1300
Branch: REL_13_STABLE [8d684c445] 2023-03-31 12:14:31 +1300
Branch: REL_12_STABLE [33510bc64] 2023-03-31 12:15:07 +1300
Branch: REL_11_STABLE [07554c99d] 2023-03-31 12:15:39 +1300
</span><p>
<span class="original">
      Fix data structure corruption during parsing of
      serial &lt;literal&gt;SEQUENCE NAME&lt;/literal&gt; options (David Rowley)
</span>
serial型の<code class="literal">SEQUENCE NAME</code>オプションパース時のデータ構造の破損を修正しました。
(David Rowley)
     </p><p>
<span class="original">
      This can lead to trouble if an event trigger captures the corrupted
      parse tree.
</span>
イベントトリガが破損した構文解析ツリーを取得する場合に、トラブルにつながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [88ceac5d7] 2023-04-12 10:46:38 -0400
Branch: REL_15_STABLE [f4badbcf4] 2023-04-12 10:46:30 -0400
Branch: REL_14_STABLE [0dd55ef9b] 2023-04-12 10:46:30 -0400
Branch: REL_13_STABLE [96c698e3f] 2023-04-12 10:46:30 -0400
Branch: REL_12_STABLE [953ff99c2] 2023-04-12 10:46:30 -0400
Branch: REL_11_STABLE [60c8aeaf6] 2023-04-12 10:46:30 -0400
</span><p>
<span class="original">
      Correctly update plan nodes' parallel-safety markings when moving
      initplans from one node to another (Tom Lane)
</span>
initPlanを移動する際に、プランノードの並列安全性マークを正しく更新するようになりました。
(Tom Lane)
     </p><p>
<span class="original">
      This planner oversight could lead to &lt;quote&gt;subplan was not
      initialized&lt;/quote&gt; errors at runtime.
</span>
このプランナの見落としは、ランタイム時の<span class="quote">「<span class="quote">subplan was not initialized</span>」</span>エラーにつながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [684ffac8c] 2023-03-14 11:10:45 -0400
Branch: REL_15_STABLE [3b4594443] 2023-03-14 11:10:45 -0400
Branch: REL_14_STABLE [7c509f7e5] 2023-03-14 11:10:45 -0400
</span><p>
<span class="original">
      Avoid failure with PlaceHolderVars in extended-statistics code
      (Tom Lane)
</span>
拡張統計のコードでPlaceHolderVarsによる失敗を回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      Use of dependency-type extended statistics could fail with
      &lt;quote&gt;PlaceHolderVar found where not expected&lt;/quote&gt;.
</span>
依存関係型の拡張統計の使用は<span class="quote">「<span class="quote">PlaceHolderVar found where not expected</span>」</span>エラーで失敗する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [eb7d043c9] 2023-03-17 15:49:53 +1300
Branch: REL_15_STABLE [371e3daaa] 2023-03-17 15:51:00 +1300
</span><p>
<span class="original">
      Fix incorrect tests for whether a qual clause applied to a subquery
      can be transformed into a window aggregate &lt;quote&gt;run
      condition&lt;/quote&gt; within the subquery (David Rowley)
</span>
副問い合わせに適用される検索条件句が、副問い合わせ内のウィンドウ集約<span class="quote">「<span class="quote">run condition</span>」</span>に変換できるかどうかの誤ったテストを修正しました。
(David Rowley)
     </p><p>
<span class="original">
      A SubPlan within such a clause would cause assertion failures or
      incorrect answers, as would some other unusual cases.
</span>
そのような句内のSubPlanは他のいくつかの異常な場合と同様に、アサーション失敗または誤った回答を引き起こすことがありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [836c31ba5] 2023-02-13 17:11:03 +1300
Branch: REL_15_STABLE [a9fa6d79a] 2023-02-13 17:10:31 +1300
Branch: REL_14_STABLE [4aa43ba21] 2023-02-13 17:09:55 +1300
Branch: REL_13_STABLE [301eb3ee4] 2023-02-13 17:09:26 +1300
Branch: REL_12_STABLE [ac55abd33] 2023-02-13 17:08:46 +1300
Branch: REL_11_STABLE [8d2a8581b] 2023-02-13 17:07:04 +1300
</span><p>
<span class="original">
      Disable the inverse-transition optimization for window aggregates
      when the call contains sub-SELECTs (David Rowley)
</span>
呼び出しにサブSELECTが含まれる場合、ウィンドウ集約の逆遷移最適化を無効にします。
(David Rowley)
     </p><p>
<span class="original">
      This optimization requires that the aggregate's argument expressions
      have repeatable results, which might not hold for a sub-SELECT.
</span>
この最適化では、集約の引数式が繰り返し可能な結果を持つ必要がありますが、サブSELECTには当てはまらない場合がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [554841699] 2023-03-26 13:41:06 -0400
Branch: REL_15_STABLE [7c4873438] 2023-03-26 13:41:06 -0400
Branch: REL_14_STABLE [11213d446] 2023-03-26 13:41:06 -0400
Branch: REL_13_STABLE [1bbbe1460] 2023-03-26 13:41:06 -0400
Branch: REL_12_STABLE [ad5fe7420] 2023-03-26 13:41:06 -0400
Branch: REL_11_STABLE [ae320fc21] 2023-03-26 13:41:06 -0400
</span><p>
<span class="original">
      Fix oversights in execution of nested &lt;literal&gt;ARRAY[]&lt;/literal&gt;
      constructs (Alexander Lakhin, Tom Lane)
</span>
ネストされた<code class="literal">ARRAY[]</code>コンストラクタの実行で誤りを修正しました。
(Alexander Lakhin, Tom Lane)
     </p><p>
<span class="original">
      Correctly detect overflow of the total space needed for the result
      array, avoiding a possible crash due to undersized output
      allocation.  Also ensure that any trailing padding space in the
      result array is zeroed; while leaving garbage there is harmless for
      most purposes, it can result in odd behavior later.
</span>
結果の配列に必要な合計スペースのオーバーフローを正しく検出し、出力割り当てのサイズ不足によるクラッシュの可能性を回避します。
また、結果の配列内の末尾のパディングスペースはゼロになります。
ゴミを残すことはほとんどの目的に対して無害ですが、後で奇妙な動作を引き起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [064eb89e8] 2023-04-15 12:01:39 -0400
Branch: REL_15_STABLE [c53ed26ea] 2023-04-15 12:01:39 -0400
Branch: REL_14_STABLE [9b104a27c] 2023-04-15 12:01:39 -0400
Branch: REL_13_STABLE [7428aecdd] 2023-04-15 12:01:39 -0400
Branch: REL_12_STABLE [048caf8d7] 2023-04-15 12:01:39 -0400
</span><p>
<span class="original">
      Prevent crash when updating a field within an
      array-of-domain-over-composite-type column (Dmitry Dolgov)
</span>
複合型から作成した、ドメイン型の配列内のフィールドを更新する時のクラッシュを防止しました。
(Dmitry Dolgov)
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [e0693faf7] 2023-04-14 16:20:27 +1200
Branch: REL_15_STABLE [0c09160e1] 2023-04-14 16:21:07 +1200
Branch: REL_14_STABLE [ae85fb828] 2023-04-14 16:21:42 +1200
Branch: REL_13_STABLE [6848f0c67] 2023-04-14 16:22:11 +1200
Branch: REL_12_STABLE [0b2e77ce2] 2023-04-14 16:22:46 +1200
Branch: REL_11_STABLE [1c19e2863] 2023-04-14 16:23:11 +1200
</span><p>
<span class="original">
      Fix partition pruning logic for partitioning on boolean columns
      (David Rowley)
</span>
ブール型の列に対するパーティション除去のロジックを修正しました。
(David Rowley)
     </p><p>
<span class="original">
      Pruning with a condition like &lt;literal&gt;boolcol IS NOT TRUE&lt;/literal&gt;
      was done incorrectly, leading to possibly not returning rows in
      which &lt;literal&gt;boolcol&lt;/literal&gt; is NULL.  Also, the rather unlikely
      case of partitioning on &lt;literal&gt;NOT boolcol&lt;/literal&gt; was handled
      incorrectly.
</span>
<code class="literal">boolcol IS NOT TRUE</code>のような条件でのプルーニングが正しく行われなかったため、<code class="literal">boolcol</code>がNULLである行が返されない可能性がありました。
また、あまり一般的ではない<code class="literal">NOT boolcol</code>のパーティション化の場合も正しく処理されませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [8d578b9b2] 2023-03-21 14:29:34 +1300
Branch: REL_15_STABLE [c03c6e8cf] 2023-03-21 14:32:14 +1300
Branch: REL_14_STABLE [1b9e42e82] 2023-03-21 14:37:33 +1300
Branch: REL_13_STABLE [6e94d62e3] 2023-03-21 14:38:59 +1300
Branch: REL_12_STABLE [44d44aa97] 2023-03-21 14:41:35 +1300
Branch: REL_11_STABLE [ef16d2724] 2023-03-21 14:43:07 +1300
</span><p>
<span class="original">
      Fix race condition in per-batch cleanup during parallel hash join
      (Thomas Munro, Melanie Plageman)
</span>
パラレルハッシュ結合でバッチ毎のクリーンアップでの競合状態を修正しました。
(Thomas Munro, Melanie Plageman)
     </p><p>
<span class="original">
      A crash was possible given unlucky timing and
      &lt;varname&gt;parallel_leader_participation&lt;/varname&gt;
      = &lt;literal&gt;off&lt;/literal&gt; (which is not the default).
</span>
<code class="varname">parallel_leader_participation</code>=<code class="literal">off</code>(デフォルトではない)の場合にタイミングによってはクラッシュする可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7fee7871b] 2023-03-06 18:31:27 -0500
Branch: REL_15_STABLE [70ef50954] 2023-03-06 18:31:16 -0500
Branch: REL_14_STABLE [1e05ea51d] 2023-03-06 18:31:16 -0500
Branch: REL_13_STABLE [4a94cbd02] 2023-03-06 18:31:16 -0500
Branch: REL_12_STABLE [23b75dd03] 2023-03-06 18:31:16 -0500
</span><p>
<span class="original">
      Recalculate &lt;literal&gt;GENERATED&lt;/literal&gt; columns after an
      EvalPlanQual check (Tom Lane)
</span>
EvalPlanQualチェック後に<code class="literal">GENERATED</code>列を再計算します。
(Tom Lane)
     </p><p>
<span class="original">
      In &lt;literal&gt;READ COMMITTED&lt;/literal&gt; isolation mode, the effects of
      a row update might need to get reapplied to a newer version of the
      row than the query found originally.  If so, we need to recompute
      any &lt;literal&gt;GENERATED&lt;/literal&gt; columns, in case they depend on
      columns that were changed by the concurrent update.
</span>
<code class="literal">READ COMMITTED</code>分離モードでは、行更新の効果を、最初に検出された問い合わせよりも新しい行バージョンに再適用する必要がある場合があります。
その場合、<code class="literal">GENERATED</code>列が同時更新によって変更された列に依存している場合は、それらの列を再計算する必要があります。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [579ee5df1] 2023-03-20 13:28:47 +1300
Branch: REL_15_STABLE [8de4660a5] 2023-03-20 13:30:15 +1300
Branch: REL_14_STABLE [f654f343c] 2023-03-20 13:30:55 +1300
</span><p>
<span class="original">
      Fix memory leak in Memoize plan execution (David Rowley)
</span>
Memoizeプラン実行によるメモリリークを修正しました。
(David Rowley)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [806fad757] 2023-04-25 09:42:19 +0900
Branch: REL_15_STABLE [aa6177c88] 2023-04-25 09:42:33 +0900
Branch: REL_14_STABLE [4cc56f8ed] 2023-04-25 09:42:36 +0900
</span><p>
<span class="original">
      Fix buffer refcount leak when using batched inserts for a foreign
      table included in a partitioned tree (Alexander Pyhalov)
</span>
パーティションテーブルに含まれる外部テーブルに対してバッチ挿入を使用する場合のバッファの参照カウント漏れを修正しました。
(Alexander Pyhalov)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [720de00af] 2023-03-15 13:58:18 +1300
Branch: REL_15_STABLE [d9c9c43af] 2023-03-15 14:02:49 +1300
Branch: REL_14_STABLE [2bef57ee8] 2023-03-15 14:05:27 +1300
</span><p>
<span class="original">
      Restore support for
      sub-millisecond &lt;varname&gt;vacuum_cost_delay&lt;/varname&gt; settings
      (Thomas Munro)
</span>
ミリ秒以下の<code class="varname">vacuum_cost_delay</code>設定が再度利用可能になりました。
(Thomas Munro)
     </p></li><li class="listitem"><span class="original">
Author: Daniel Gustafsson &lt;dgustafsson@postgresql.org&gt;
Branch: master [bfac8f8bc] 2023-04-25 13:54:10 +0200
Branch: REL_15_STABLE [0319b306e] 2023-04-25 13:54:10 +0200
Branch: REL_14_STABLE [0e8e5e856] 2023-04-25 13:54:10 +0200
Branch: REL_13_STABLE [b95f36f86] 2023-04-25 13:54:10 +0200
Branch: REL_12_STABLE [cba3c8f6d] 2023-04-25 13:54:10 +0200
Branch: REL_11_STABLE [0151d2c5f] 2023-04-25 13:54:10 +0200
</span><p>
<span class="original">
      Don't balance vacuum cost delay when a table has a
      per-relation &lt;varname&gt;vacuum_cost_delay&lt;/varname&gt; setting of zero
      (Masahiko Sawada)
</span>
テーブルのリレーションごとの<code class="varname">vacuum_cost_delay</code>設定がゼロの時にバキュームコスト遅延のバランスを取らないようにしました。
(Masahiko Sawada)
     </p><p>
<span class="original">
      Delay balancing is supposed to be disabled whenever autovacuum is
      processing a table with a
      per-relation &lt;varname&gt;vacuum_cost_delay&lt;/varname&gt; setting, but this
      was done only for positive settings, not zero.
</span>
遅延のバランシングは、自動バキュームがリレーション単位の<code class="varname">vacuum_cost_delay</code>設定でテーブルを処理するときは常に無効になるはずですが、これは正の設定に対してのみ行われ、ゼロに対しては行われませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [99be6feec] 2023-03-07 18:21:53 -0500
Branch: REL_15_STABLE [76d2177fb] 2023-03-07 18:21:53 -0500
Branch: REL_14_STABLE [9f1e51b59] 2023-03-07 18:21:37 -0500
Branch: REL_13_STABLE [695b34ab3] 2023-03-07 18:21:37 -0500
Branch: REL_12_STABLE [5a19da58e] 2023-03-07 18:21:37 -0500
Branch: REL_11_STABLE [721626cb5] 2023-03-07 18:21:37 -0500
</span><p>
<span class="original">
      Fix corner-case crashes when columns have been added to the end of a
      view (Tom Lane)
</span>
ビューの最後に列が追加されたときに発生する稀なクラッシュを修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [87f3667ec] 2023-02-25 14:44:14 -0500
Branch: REL_15_STABLE [a033f9165] 2023-02-25 14:44:14 -0500
Branch: REL_14_STABLE [9eaba0602] 2023-02-25 14:44:14 -0500
Branch: REL_13_STABLE [1e199c259] 2023-02-25 14:44:14 -0500
Branch: REL_12_STABLE [904b171a4] 2023-02-25 14:44:14 -0500
Branch: REL_11_STABLE [ffec64ba8] 2023-02-25 14:44:14 -0500
</span><p>
<span class="original">
      Repair rare failure of MULTIEXPR_SUBLINK subplans in partitioned
      updates (Andres Freund, Tom Lane)
</span>
パーティションテーブル更新でのMULTIEXPR_SUBLINKサブプランのまれな障害を修正しました。
(Andres Freund, Tom Lane)
     </p><p>
<span class="original">
      Use of the syntax &lt;literal&gt;INSERT ... ON CONFLICT DO UPDATE SET (c1,
      ...) = (SELECT ...)&lt;/literal&gt; with a partitioned target table could
      result in failure if any child table is dissimilar from the parent
      (for example, different physical column order).
      This typically manifested as failure of consistency checks in the
      executor; but a crash or incorrect data updates are also possible.
</span>
構文<code class="literal">INSERT ... ON CONFLICT DO UPDATE SET (c1,...) = (SELECT ...)</code>をターゲットのパーティションテーブルに使用すると、子テーブルが親と異なる場合(例えば列の物理的順序が異なる)に失敗する可能性があります。
これは通常、エグゼキュータでの一貫性チェックの失敗として現れますが、クラッシュまたは不適切なデータの更新も発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [75c737636] 2023-02-23 10:53:01 +0000
Branch: REL_15_STABLE [940b54743] 2023-02-23 10:54:51 +0000
Branch: REL_14_STABLE [f0423bea7] 2023-02-23 10:55:48 +0000
Branch: REL_13_STABLE [226da3d47] 2023-02-23 10:56:41 +0000
Branch: REL_12_STABLE [98b83b734] 2023-02-23 10:57:46 +0000
Branch: REL_11_STABLE [e68b133c3] 2023-02-23 10:58:43 +0000
</span><p>
<span class="original">
      Fix handling of &lt;literal&gt;DEFAULT&lt;/literal&gt; markers within a
      multi-row &lt;literal&gt;INSERT ... VALUES&lt;/literal&gt; query on a view that
      has a &lt;literal&gt;DO ALSO INSERT ... SELECT&lt;/literal&gt; rule (Dean
      Rasheed)
</span>
<code class="literal">DO ALSO INSERT ... SELECT</code>ルールを持つビューに対する複数行の<code class="literal">INSERT ... VALUES</code>問い合わせ内の<code class="literal">DEFAULT</code>マーカーの処理を修正しました。
(Dean Rasheed)
     </p><p>
<span class="original">
      Such cases typically failed with &lt;quote&gt;unrecognized node
      type&lt;/quote&gt; errors or assertion failures.
</span>
このような場合は通常、<span class="quote">「<span class="quote">unrecognized node type</span>」</span>エラーまたはアサーション失敗となりました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [a7d71c41d] 2023-02-25 14:41:12 +0000
Branch: REL_15_STABLE [8e5b4e001] 2023-02-25 14:43:57 +0000
Branch: REL_14_STABLE [27ff93d18] 2023-02-25 14:44:49 +0000
Branch: REL_13_STABLE [39ad791e8] 2023-02-25 14:45:44 +0000
Branch: REL_12_STABLE [4fd093af7] 2023-02-25 14:47:03 +0000
Branch: REL_11_STABLE [79f194cc0] 2023-02-25 14:48:08 +0000
</span><p>
<span class="original">
      Support references to &lt;literal&gt;OLD&lt;/literal&gt;
      and &lt;literal&gt;NEW&lt;/literal&gt; within subqueries in rule actions
      (Dean Rasheed, Tom Lane)
</span>
ルールアクションの副問い合わせ内の<code class="literal">OLD</code>および<code class="literal">NEW</code>の参照がサポートされました。
(Dean Rasheed, Tom Lane)
     </p><p>
<span class="original">
      Such references are really lateral references, but the server could
      crash if the subquery wasn't explicitly marked
      with &lt;literal&gt;LATERAL&lt;/literal&gt;.  Arrange to do that implicitly when
      necessary.
</span>
このような参照は実際にはラテラル参照ですが、副問い合わせが明示的に<code class="literal">LATERAL</code>でマークされれていない場合、サーバはクラッシュする可能性があります。
必要に応じて、暗黙的にそれを行うようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [393430f57] 2023-02-17 16:40:34 -0500
Branch: REL_15_STABLE [c8a5f1685] 2023-02-17 16:40:34 -0500
Branch: REL_14_STABLE [14345f3c6] 2023-02-17 16:40:34 -0500
Branch: REL_13_STABLE [4efb4f0d4] 2023-02-17 16:40:34 -0500
Branch: REL_12_STABLE [3dd287c14] 2023-02-17 16:40:34 -0500
Branch: REL_11_STABLE [df931e9ab] 2023-02-17 16:40:34 -0500
</span><p>
<span class="original">
      When decompiling a rule or SQL function body
      containing &lt;command&gt;INSERT&lt;/command&gt;/&lt;command&gt;UPDATE&lt;/command&gt;/&lt;command&gt;DELETE&lt;/command&gt;
      within &lt;command&gt;WITH&lt;/command&gt;, take care to print the correct alias
      for the target table (Tom Lane)
</span>
<code class="command">WITH</code>句内に<code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE</code>を含むルールまたはSQL関数本体を逆コンパイルする場合は、ターゲットテーブルの別名を正しく出力するようにしました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [47c0accbe] 2023-03-06 15:07:15 +1300
Branch: REL_15_STABLE [055990904] 2023-03-06 16:05:47 +1300
Branch: REL_14_STABLE [e9051ecd5] 2023-03-06 16:17:22 +1300
Branch: REL_13_STABLE [a0f55fc86] 2023-03-06 16:28:34 +1300
Branch: REL_12_STABLE [afa122e41] 2023-03-06 16:41:34 +1300
Branch: master [65e388d41] 2023-03-09 16:33:24 +1300
Branch: REL_15_STABLE [af397c6c2] 2023-03-09 16:56:51 +1300
Branch: REL_14_STABLE [d811d74be] 2023-03-09 16:57:11 +1300
Branch: REL_13_STABLE [ae632f7a3] 2023-03-09 17:09:57 +1300
Branch: REL_12_STABLE [e30fd0942] 2023-03-09 17:25:20 +1300
Branch: REL_11_STABLE [d1c0f81e7] 2023-03-09 17:26:06 +1300
</span><p>
<span class="original">
      Fix glitches in &lt;literal&gt;SERIALIZABLE READ ONLY&lt;/literal&gt;
      optimization (Thomas Munro)
</span>
<code class="literal">SERIALIZABLE READ ONLY</code>最適化の不具合を修正しました。
(Thomas Munro)
     </p><p>
<span class="original">
      Transactions already marked as &lt;quote&gt;doomed&lt;/quote&gt; confused the
      safe-snapshot optimization for &lt;literal&gt;SERIALIZABLE READ
      ONLY&lt;/literal&gt; transactions.  The optimization was unnecessarily
      skipped in some cases.  In other cases an assertion failure occurred
      (but there was no problem in non-assert builds).
</span>
すでに<span class="quote">「<span class="quote">doomed</span>」</span>とマークされたトランザクションは、<code class="literal">SERIALIZABLE READ ONLY</code>トランザクションに対する安全なスナップショット最適化を混乱させていました。
場合によっては不必要に最適化がスキップされていました。
他の場合には、アサーション障害が発生しました(ただし、非アサートビルドでは問題はありませんでした)。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [05172f1f3] 2023-02-23 15:40:42 -0500
Branch: REL_15_STABLE [cef1c9c0c] 2023-02-23 15:40:28 -0500
Branch: REL_14_STABLE [0f78df719] 2023-02-23 15:40:28 -0500
Branch: REL_13_STABLE [861e9e486] 2023-02-23 15:40:28 -0500
Branch: REL_12_STABLE [95558bc8f] 2023-02-23 15:40:28 -0500
Branch: REL_11_STABLE [44dbc960f] 2023-02-23 15:40:28 -0500
</span><p>
<span class="original">
      Avoid leaking cache callback slots in
      the &lt;literal&gt;pgoutput&lt;/literal&gt; logical decoding plugin (Shi Yu)
</span>
論理デコードプラグインの<code class="literal">pgoutput</code>でキャッシュのコールバックスロットのリークを回避しました。
(Shi Yu)
     </p><p>
<span class="original">
      Multiple cycles of starting up and shutting down the plugin within a
      single session would eventually lead to an &lt;quote&gt;out of
      relcache_callback_list slots&lt;/quote&gt; error.
</span>
単一セッション内でプラグインの起動と停止を何度も繰り返すと、最終的に<span class="quote">「<span class="quote">out of relcache_callback_list slots</span>」</span>エラーが発生しました。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [cd115c353] 2023-04-23 13:58:41 +0300
Branch: REL_15_STABLE [6e7361c85] 2023-04-23 14:00:06 +0300
Branch: REL_14_STABLE [9ef5a3583] 2023-04-23 14:00:13 +0300
Branch: REL_13_STABLE [02191136c] 2023-04-23 14:00:16 +0300
</span><p>
<span class="original">
      Avoid unnecessary calls to custom validators for index operator
      class options (Alexander Korotkov)
</span>
インデックス演算子クラスのオプションに対するカスタムバリデータへの不要な呼び出しを回避しました。
(Alexander Korotkov)
     </p><p>
<span class="original">
      This change fixes some cases where an unexpected error was thrown.
</span>
この変更により、予期しないエラー発生が修正されました。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [e72910f80] 2023-02-19 01:46:58 +0100
Branch: REL_15_STABLE [305d89ad9] 2023-02-19 01:48:04 +0100
Branch: REL_14_STABLE [f3daa3116] 2023-02-19 01:48:22 +0100
</span><p>
<span class="original">
      Avoid useless work while scanning a multi-column BRIN index with
      multiple scan keys (Tomas Vondra)
</span>
複数列のBRINインデックスを複数のキーでスキャンする際の無駄な動作を回避しました。
(Tomas Vondra)
     </p><p>
<span class="original">
      The existing code effectively considered only the last scan key
      while deciding whether a range matched, thus usually scanning more
      of the index than it needed to.
</span>
既存のコードでは、スキャンキーが一致するかどうかを判断する際に、最後のレンジのみを実質的に考慮していたため、通常は必要以上にインデックスをスキャンしていました。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [e85831268] 2023-03-20 10:24:14 +0100
Branch: REL_15_STABLE [0c7726c28] 2023-03-20 10:20:35 +0100
Branch: REL_14_STABLE [6a78a42fe] 2023-03-20 10:16:54 +0100
</span><p>
<span class="original">
      Fix netmask handling in BRIN inet_minmax_multi_ops opclass
      (Tomas Vondra)
</span>
BRINのinet_minmax_multi_ops演算子クラスのネットマスク処理を修正しました。
(Tomas Vondra)
     </p><p>
<span class="original">
      This error triggered an assertion failure in assert-enabled builds,
      but is mostly harmless in production builds.
</span>
このエラーは、アサートが有効なビルドでアサーション障害を引き起こしましたが、稼動ビルドではほとんど無害です。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [8e5eef50c] 2023-03-29 11:31:30 -0400
Branch: REL_15_STABLE [2dc77adc7] 2023-03-29 11:31:30 -0400
Branch: REL_14_STABLE [a1904c9ce] 2023-03-29 11:31:30 -0400
Branch: REL_13_STABLE [2adb6adad] 2023-03-29 11:31:30 -0400
Branch: REL_12_STABLE [d2a1d4b19] 2023-03-29 11:31:30 -0400
Branch: REL_11_STABLE [b5c6776c1] 2023-03-29 11:31:30 -0400
</span><p>
<span class="original">
      Fix dereference of dangling pointer during buffering build of a GiST
      index (Alexander Lakhin)
</span>
GiSTインデックスのバッファリングビルド中の無効ポインタの参照を修正しました。
(Alexander Lakhin)
     </p><p>
<span class="original">
      This error seems to usually be harmless in production builds, as the
      fetched value is noncritical; but in principle it could cause a
      server crash.
</span>
このエラーは、取得された値が重要ではないため、通常、稼動ビルドでは無害のようですが、原理的にサーバクラッシュを引き起こす可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [adedf54e6] 2023-03-23 11:58:36 +0530
Branch: REL_15_STABLE [b6bf90edc] 2023-03-23 11:46:16 +0530
Branch: REL_14_STABLE [9dac02c77] 2023-03-23 11:32:22 +0530
Branch: REL_13_STABLE [be52fff91] 2023-03-23 11:21:13 +0530
Branch: REL_12_STABLE [0f2d4adbf] 2023-03-23 11:08:38 +0530
Branch: master [b797def59] 2023-03-21 09:47:21 +0530
Branch: REL_15_STABLE [3c12407f4] 2023-03-21 09:40:41 +0530
Branch: REL_14_STABLE [65ead7696] 2023-03-21 09:18:51 +0530
Branch: REL_13_STABLE [751d6676d] 2023-03-21 09:07:37 +0530
Branch: REL_12_STABLE [fc63e6ba8] 2023-03-21 08:50:23 +0530
Branch: REL_11_STABLE [4cdaea7a2] 2023-03-21 08:39:00 +0530
</span><p>
<span class="original">
      Ignore dropped columns and generated columns during logical
      replication of an update or delete action (Onder Kalaci, Shi Yu)
</span>
ロジカルレプリケーション中のUPDATEまたはDELETE処理で削除された列および生成列を無視するようにしました。
(Onder Kalaci, Shi Yu)
     </p><p>
<span class="original">
      Replication with the &lt;literal&gt;REPLICA IDENTITY FULL&lt;/literal&gt; option
      failed if the table contained such columns.
</span>
テーブルにこのような列が含まれている場合、<code class="literal">REPLICA IDENTITY FULL</code>オプションを指定したレプリケーションは失敗しました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [58f5edf84] 2023-05-05 21:25:44 +0900
Branch: REL_15_STABLE [d31dab9a5] 2023-05-05 21:25:50 +0900
Branch: REL_14_STABLE [ae4ffa722] 2023-05-05 21:25:56 +0900
Branch: REL_13_STABLE [cedcc4191] 2023-05-05 21:26:02 +0900
</span><p>
<span class="original">
      Correct the name of the wait event for SLRU buffer I/O for commit
      timestamps (Alexander Lakhin)
</span>
コミットタイムスタンプに対するSLRUバッファ入出力の待機イベント名を修正しました。
(Alexander Lakhin)
     </p><p>
<span class="original">
      This wait event is named &lt;literal&gt;CommitTsBuffer&lt;/literal&gt; according
      to the documentation, but the code had it
      as &lt;literal&gt;CommitTSBuffer&lt;/literal&gt;.  Change the code to match the
      documentation, as that way is more consistent with the naming of
      related wait events.
</span>
この待機イベントは、ドキュメントでは<code class="literal">CommitTsBuffer</code>という名前でしたが、コードでは<code class="literal">CommitTSBuffer</code>で実装されていました。
コードをドキュメントと一致するように変更すると、関連する待機イベント名との一貫性が高まります。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [84cc14267] 2023-04-26 07:10:06 +0900
Branch: REL_15_STABLE [1ed1b84bd] 2023-04-26 07:30:42 +0900
Branch: REL_14_STABLE [aeb6f4b3b] 2023-04-26 07:30:47 +0900
</span><p>
<span class="original">
      Re-activate reporting of wait event &lt;literal&gt;SLRUFlushSync&lt;/literal&gt;
      (Thomas Munro)
</span>
待機イベント<code class="literal">SLRUFlushSync</code>のレポートを再び有効化しました。
(Thomas Munro)
     </p><p>
<span class="original">
      Reporting of this type of wait was accidentally removed in code
      refactoring.
</span>
この待機タイプのレポートは、コードリファクタリングで誤って削除されました。
     </p></li><li class="listitem"><span class="original">
Author: Nathan Bossart &lt;nathan@postgresql.org&gt;
Branch: master [b72623671] 2023-04-27 14:31:17 -0700
Branch: REL_15_STABLE [c98b06e2f] 2023-04-27 14:31:33 -0700
Branch: REL_14_STABLE [137003036] 2023-04-27 14:32:40 -0700
Branch: REL_13_STABLE [be40dd63e] 2023-04-27 14:32:55 -0700
</span><p>
<span class="original">
      Avoid possible underflow when calculating how many WAL segments to
      keep (Kyotaro Horiguchi)
</span>
保持するWALセグメントの数を計算する際のアンダーフローの可能性を回避しました。
(Kyotaro Horiguchi)
     </p><p>
<span class="original">
      This could result in not honoring &lt;varname&gt;wal_keep_size&lt;/varname&gt;
      accurately.
</span>
これにより、<code class="varname">wal_keep_size</code>が正確に反映されない可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [8a2f783cc] 2023-02-06 10:51:08 -0500
Branch: REL_15_STABLE [ecb01e6eb] 2023-02-10 16:27:05 -0500
</span><p>
<span class="original">
      Disable startup progress reporting overhead in standby mode
      (Bharath Rupireddy)
</span>
スタンバイモードにおけるスタートアップ進捗報告オーバーヘッドを無効にしました。
(Bharath Rupireddy)
     </p><p>
<span class="original">
      In standby mode, we don't actually report progress of recovery,
      but we were doing work to track it anyway.
</span>
スタンバイモードでは、リカバリの進捗状況のレポートの進捗状況は実際にしませんが、その場合でも追跡する作業をしていました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [9244c11af] 2023-02-15 10:12:16 +0900
Branch: REL_15_STABLE [5fd61055e] 2023-02-15 10:12:31 +0900
Branch: REL_14_STABLE [864f80fea] 2023-02-15 10:12:33 +0900
Branch: REL_13_STABLE [2eb8e54cc] 2023-02-15 10:12:36 +0900
Branch: REL_12_STABLE [a40e7b75e] 2023-02-15 10:12:38 +0900
Branch: REL_11_STABLE [88d606f7c] 2023-02-15 10:12:40 +0900
</span><p>
<span class="original">
      Support RSA-PSS certificates with SCRAM-SHA-256 channel binding
      (Jacob Champion, Heikki Linnakangas)
</span>
SCRAM-SHA-256チャネルバインディングでRSA-PSS証明書をサポートしました。
(Jacob Champion, Heikki Linnakangas)
     </p><p>
<span class="original">
      This feature requires building with OpenSSL 1.1.1 or newer.  Both
      the server and &lt;application&gt;libpq&lt;/application&gt; are affected.
</span>
この機能では、OpenSSL 1.1.1以降を使用して構築する必要があります。
サーバと<span class="application">libpq</span>の両方が影響を受けます。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [d41a178b3] 2023-03-15 13:24:47 +1300
Branch: REL_15_STABLE [06066915d] 2023-03-15 13:25:56 +1300
Branch: REL_14_STABLE [9b6e0b9c3] 2023-03-15 13:30:58 +1300
Branch: REL_13_STABLE [9f1c64018] 2023-03-15 13:31:34 +1300
Branch: REL_12_STABLE [836288427] 2023-03-15 13:32:21 +1300
Branch: REL_11_STABLE [5ff8e69d8] 2023-03-15 13:32:41 +1300
Branch: master [6a9229da6] 2023-03-17 10:44:46 +1300
Branch: REL_15_STABLE [75e7378f6] 2023-03-17 10:45:20 +1300
Branch: REL_14_STABLE [00fc4b3a3] 2023-03-17 09:52:45 +1300
Branch: REL_13_STABLE [798dae9f6] 2023-03-17 09:54:03 +1300
Branch: REL_12_STABLE [6f508b8bc] 2023-03-17 09:54:51 +1300
Branch: REL_11_STABLE [9d6c34397] 2023-03-17 09:58:08 +1300
Branch: master [10b6745d3] 2023-03-17 14:44:12 +1300
Branch: REL_15_STABLE [e8a774d00] 2023-03-17 14:46:03 +1300
Branch: REL_14_STABLE [1c0d4affa] 2023-03-17 14:46:50 +1300
Branch: REL_13_STABLE [77a8133c9] 2023-03-17 14:47:16 +1300
Branch: REL_12_STABLE [8fcd1517f] 2023-03-17 14:47:38 +1300
Branch: REL_11_STABLE [b23f2a729] 2023-03-17 14:48:08 +1300
</span><p>
<span class="original">
      Avoid race condition with process ID tracking on Windows (Thomas Munro)
</span>
WindowsにおけるプロセスID追跡での競合を回避しました。
(Thomas Munro)
     </p><p>
<span class="original">
      The operating system could recycle a PID before the postmaster
      observed that that child process was gone.  This could lead to
      tracking more than one child with the same PID, resulting in
      confusion.
</span>
postmasterが子プロセスがなくなったことを確認する前にオペレーティングシステムはPIDを再利用することができました。
これは、同じPIDを持つ複数の子プロセスが追跡されることになり、混乱を招く可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [e35ded295] 2023-04-20 10:34:46 +1200
Branch: REL_15_STABLE [63a03aea6] 2023-04-21 10:02:25 +1200
</span><p>
<span class="original">
      Fix &lt;function&gt;list_copy_head()&lt;/function&gt; to work correctly on an
      empty List (David Rowley)
</span>
<code class="function">list_copy_head()</code>が空リストで正しく動作するように修正しました。
(David Rowley)
     </p><p>
<span class="original">
      This case is not known to be reached by any
      core &lt;productname&gt;PostgreSQL&lt;/productname&gt; code, but extensions
      might rely on it working.
</span>
このケースには<span class="productname">PostgreSQL</span>コアコードが到達することは知られていませんが、拡張機能では動作に依存している可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [d0460a31d] 2023-02-22 13:23:09 +0000
Branch: REL_15_STABLE [576b25bfd] 2023-02-22 13:24:51 +0000
Branch: REL_14_STABLE [482ab3e4f] 2023-02-22 13:26:20 +0000
Branch: REL_13_STABLE [906356cf6] 2023-02-22 13:27:29 +0000
Branch: REL_12_STABLE [52dbd9f84] 2023-02-22 13:28:30 +0000
Branch: REL_11_STABLE [83a54d966] 2023-02-22 13:29:39 +0000
</span><p>
<span class="original">
      Add missing cases to &lt;function&gt;SPI_result_code_string()&lt;/function&gt;
      (Dean Rasheed)
</span>
<code class="function">SPI_result_code_string()</code>に欠けていたケースを追加しました。
(Dean Rasheed)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b3e184a5d] 2023-02-21 18:48:15 -0500
Branch: REL_15_STABLE [f6a55c1d5] 2023-02-21 18:47:46 -0500
Branch: REL_14_STABLE [dc44180f6] 2023-02-21 18:47:47 -0500
Branch: REL_13_STABLE [99e74cd23] 2023-02-21 18:47:47 -0500
Branch: REL_12_STABLE [463bef383] 2023-02-21 18:47:47 -0500
Branch: REL_11_STABLE [21bd818d0] 2023-02-21 18:47:47 -0500
</span><p>
<span class="original">
      Fix erroneous Valgrind markings
      in &lt;function&gt;AllocSetRealloc()&lt;/function&gt; (Karina Litskevich)
</span>
<code class="function">AllocSetRealloc()</code>の間違ったValgrindマーキングを修正しました。
(Karina Litskevich)
     </p><p>
<span class="original">
      In the unusual case where the size of a large (&amp;gt;8kB) palloc chunk
      is decreased, a Valgrind-aware build would mismark the defined-ness
      state of the memory released from the chunk, possibly causing
      incorrect results during Valgrind testing.
</span>
大きい(8キロバイトを超える)のpallocチャンクのサイズが減少する異常なケースでは、Valgrind有効ビルドは、チャンクからのメモリ解放の定義された状態を誤ってマークし、Valgrindテスト中に誤った結果を引き起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [0d3b49d4a] 2023-02-22 10:51:34 +0000
Branch: REL_15_STABLE [d8c3b65db] 2023-02-22 10:54:57 +0000
</span><p>
<span class="original">
      Fix assertion failure for &lt;command&gt;MERGE&lt;/command&gt; into a
      partitioned table with row-level security enabled (Dean Rasheed)
</span>
行単位セキュリティが有効なパーティションテーブルに対する<code class="command">MERGE</code>のアサート失敗を修正しました。
(Dean Rasheed)
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [7fe1aa991] 2023-02-22 15:24:18 +0100
Branch: REL_15_STABLE [949ac32e1] 2023-02-22 16:48:30 +0100
Branch: REL_14_STABLE [8b9cbd42b] 2023-02-22 16:25:45 +0100
Branch: REL_13_STABLE [4df581fa0] 2023-02-22 16:09:30 +0100
Branch: REL_12_STABLE [497f863f0] 2023-02-22 15:50:37 +0100
Branch: REL_11_STABLE [8de91ebf2] 2023-02-22 15:35:19 +0100
</span><p>
<span class="original">
      Avoid assertion failure when decoding a transactional logical
      replication message (Tomas Vondra)
</span>
トランザクションになっているロジカルレプリケーションのメッセージをデコードする時のアサーション失敗を回避しました。
(Tomas Vondra)
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [c04c6c5d6] 2023-04-21 08:19:41 -0700
Branch: REL_15_STABLE [109363de0] 2023-04-21 08:20:17 -0700
Branch: REL_14_STABLE [dde926b0f] 2023-04-21 08:20:32 -0700
Branch: REL_13_STABLE [79a66c617] 2023-04-21 08:20:47 -0700
Branch: REL_12_STABLE [5bcb15b81] 2023-04-21 08:21:04 -0700
Branch: REL_11_STABLE [106a1bf82] 2023-04-21 08:21:18 -0700
</span><p>
<span class="original">
      Avoid locale sensitivity when processing regular expression escapes
      (Jeff Davis)
</span>
正規表現のエスケープ処理でロケールの影響を回避しました。
(Jeff Davis)
     </p><p>
<span class="original">
      A backslash followed by a non-ASCII character could sometimes cause
      an assertion failure, depending on the prevailing locale.
</span>
バックスラッシュの後ろに非ASCII文字が続くと、一般的なロケールによってはアサーション失敗が発生することがありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3e383f9b6] 2023-04-17 14:22:26 -0400
Branch: REL_15_STABLE [2207df7c3] 2023-04-17 14:22:06 -0400
Branch: REL_14_STABLE [72a914e9f] 2023-04-17 14:22:06 -0400
Branch: REL_13_STABLE [86874a6df] 2023-04-17 14:22:06 -0400
Branch: REL_12_STABLE [9b0c1f213] 2023-04-17 14:22:06 -0400
Branch: REL_11_STABLE [c796d7296] 2023-04-17 14:22:06 -0400
</span><p>
<span class="original">
      Avoid trying to write an empty WAL record
      in &lt;function&gt;log_newpage_range()&lt;/function&gt; when the last few pages
      in the specified range are empty (Matthias van de Meent)
</span>
<code class="function">log_newpage_range()</code>で指定された範囲の最後の数ページが空である場合、空のWALページを書き込むのを避けるようにしました。
(Matthias van de Meent)
     </p><p>
<span class="original">
      It is not entirely clear whether this case is reachable in released
      branches, but if it is then an assertion failure could occur.
</span>
このケースがリリースされたブランチで到達可能かどうかは完全には明らかではありませんが、到達可能な場合はアサーション失敗が発生する可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [441ee1677] 2023-04-24 14:19:46 -0400
Branch: REL_15_STABLE [c1598d85f] 2023-04-24 14:19:46 -0400
Branch: REL_14_STABLE [2ba890ce7] 2023-04-24 14:19:46 -0400
Branch: REL_13_STABLE [bfa691087] 2023-04-24 14:19:46 -0400
Branch: REL_12_STABLE [ee71cad9a] 2023-04-24 14:19:46 -0400
</span><p>
<span class="original">
      Fix session-lifespan memory leakage in &lt;application&gt;plpgsql&lt;/application&gt;
      &lt;literal&gt;DO&lt;/literal&gt; blocks that use cast expressions
      (Ajit Awekar, Tom Lane)
</span>
キャスト式を使用する<span class="application">plpgsql</span>の<code class="literal">DO</code>ブロックでのセッション存続期間のメモリリークを修正しました。
(Ajit Awekar, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f47004add] 2023-04-29 13:06:44 -0400
Branch: REL_15_STABLE [ce9a1a3ea] 2023-04-29 13:06:44 -0400
Branch: REL_14_STABLE [1e868bb6c] 2023-04-29 13:06:44 -0400
Branch: REL_13_STABLE [ee24b5e79] 2023-04-29 13:06:44 -0400
Branch: REL_12_STABLE [900a8d526] 2023-04-29 13:06:44 -0400
Branch: REL_11_STABLE [ea96fbe77] 2023-04-29 13:06:44 -0400
</span><p>
<span class="original">
      Tighten array dimensionality checks when converting Perl
      list structures to multi-dimensional SQL arrays (Tom Lane)
</span>
Perlのリスト構造を多次元SQL配列に変換する時の配列の次元チェックを強化しました。
(Tom Lane)
     </p><p>
<span class="original">
      &lt;application&gt;plperl&lt;/application&gt; could misbehave when the nesting
      of sub-lists is inconsistent so that the data does not represent a
      rectangular array of values.  Such cases now produce errors, but
      previously they could result in a crash or garbage output.
</span>
<span class="application">plperl</span>は、サブリストのネストに一貫性がなく、データが値の長方形配列を表さない場合に誤動作する可能性がありました。
このような場合はエラーが発生するようになりましたが、以前はクラッシュまたはガベージ出力が発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0553528e7] 2023-05-04 11:00:33 -0400
Branch: REL_15_STABLE [b7001c6b6] 2023-05-04 11:00:33 -0400
Branch: REL_14_STABLE [9d517339e] 2023-05-04 11:00:33 -0400
Branch: REL_13_STABLE [0e6354ed9] 2023-05-04 11:00:33 -0400
Branch: REL_12_STABLE [b7fcf3824] 2023-05-04 11:00:33 -0400
Branch: REL_11_STABLE [aa7e5e404] 2023-05-04 11:00:33 -0400
Branch: master [81eaaf65e] 2023-04-28 12:24:29 -0400
Branch: REL_15_STABLE [512c55522] 2023-04-28 12:24:29 -0400
Branch: REL_14_STABLE [a1d9aacc4] 2023-04-28 12:24:29 -0400
Branch: REL_13_STABLE [7dcd9998c] 2023-04-28 12:24:29 -0400
Branch: REL_12_STABLE [ff9203f46] 2023-04-28 12:24:29 -0400
Branch: REL_11_STABLE [b7c6af375] 2023-04-28 12:24:29 -0400
</span><p>
<span class="original">
      Tighten array dimensionality checks when converting Python
      list structures to multi-dimensional SQL arrays (Tom Lane)
</span>
Pythonのリスト構造を多次元SQL配列に変換する時の配列の次元チェックが強化されました。
(Tom Lane)
     </p><p>
<span class="original">
      &lt;application&gt;plpython&lt;/application&gt; could misbehave when dealing
      with empty sub-lists, or when the nesting of sub-lists is
      inconsistent so that the data does not represent a rectangular array
      of values.  The former should result in an empty output array, and
      the latter in an error.  But some cases resulted in a crash, and
      others in unexpected output.
</span>
<span class="application">plpython</span>は、空のサブリストを扱う場合や、サブリストのネストに一貫性がなく、データが値の長方形配列を表さない場合に誤動作する可能性がありました。
前者は空の出力配列になり、後者はエラーになります。
しかし、クラッシュになる場合もあれば、予期しない出力になる場合もあります。
     </p></li><li class="listitem"><span class="original">
Author: Nathan Bossart &lt;nathan@postgresql.org&gt;
Branch: master [57d005170] 2023-05-04 16:23:05 -0700
Branch: REL_15_STABLE [825ebc984] 2023-05-04 16:24:48 -0700
Branch: REL_14_STABLE [52c9cf323] 2023-05-04 16:25:05 -0700
Branch: REL_13_STABLE [800531846] 2023-05-04 16:26:00 -0700
Branch: REL_12_STABLE [24964394a] 2023-05-04 16:26:05 -0700
Branch: REL_11_STABLE [0af386b0f] 2023-05-04 16:26:11 -0700
</span><p>
<span class="original">
      Fix unwinding of exception stack
      in &lt;application&gt;plpython&lt;/application&gt; (Xing Guo)
</span>
<span class="application">plpython</span>での例外スタックの巻き戻しを修正しました。
(Xing Guo)
     </p><p>
<span class="original">
      Some rare failure cases could return without cleaning up the PG_TRY
      exception stack, risking a crash if another error was raised before
      the next stack level was unwound.
</span>
いくつかのまれな失敗例では、PG_TRY例外スタックをクリーンアップせずに戻ることがあり、次のスタックレベルが巻き戻された前に別のエラーが発生した場合にクラッシュする危険性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [e0a09d4e3] 2023-03-13 16:36:20 +0900
Branch: REL_15_STABLE [4493256c5] 2023-03-13 16:36:28 +0900
Branch: REL_14_STABLE [7e319231c] 2023-03-13 16:36:31 +0900
Branch: REL_13_STABLE [96bef4374] 2023-03-13 16:36:33 +0900
Branch: REL_12_STABLE [2bc36a56c] 2023-03-13 16:36:34 +0900
</span><p>
<span class="original">
      Fix inconsistent GSS-encryption error handling
      in &lt;application&gt;libpq&lt;/application&gt;'s
      &lt;function&gt;PQconnectPoll()&lt;/function&gt;
      (Michael Paquier)
</span>
<span class="application">libpq</span>の<code class="function">PQconnectPoll()</code>における一貫性のないGSS暗号化のエラー処理を修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      With &lt;option&gt;gssencmode&lt;/option&gt; set to &lt;literal&gt;require&lt;/literal&gt;,
      the connection was not marked dead after a GSS initialization
      failure.  Make it fail immediately, as the equivalent case for TLS
      encryption has long done.
</span>
<code class="option">gssencmode</code>が<code class="literal">require</code>に設定されている場合、GSS初期化の失敗後にコネクションがdeadとマークされませんでした。
TLS暗号化の同等のケースで以前から行われてきたように、すぐに失敗するよう変更しました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [f18029084] 2023-04-18 11:20:41 +0900
Branch: REL_15_STABLE [8c746be44] 2023-04-18 11:20:47 +0900
Branch: REL_14_STABLE [02f076454] 2023-04-18 11:20:50 +0900
Branch: REL_13_STABLE [e9e457d22] 2023-04-18 11:20:51 +0900
Branch: REL_12_STABLE [a28bd7713] 2023-04-18 11:20:53 +0900
Branch: REL_11_STABLE [9eb44bb04] 2023-04-18 11:20:55 +0900
Branch: REL_11_STABLE [dbd25dd0b] 2023-04-18 12:00:31 +0900
</span><p>
<span class="original">
      Fix possible data corruption in &lt;application&gt;ecpg&lt;/application&gt;
      programs built with the &lt;option&gt;-C ORACLE&lt;/option&gt; option
      (Kyotaro Horiguchi)
</span>
<code class="option">-C ORACLE</code>オプションでビルドされた<span class="application">ecpg</span>プログラムで発生する可能性があったデータ破損を修正しました。
(Kyotaro Horiguchi)
     </p><p>
<span class="original">
      When &lt;function&gt;ecpg_get_data()&lt;/function&gt; is called
      with &lt;varname&gt;varcharsize&lt;/varname&gt; set to zero, it could write a
      terminating zero character into the last byte of the preceding
      field, truncating the data in that field.
</span>
<code class="varname">varcharsize</code>をゼロに設定して<code class="function">ecpg_get_data()</code>が呼び出されると、直前のフィールドの最後のバイトに終端ゼロ文字が書き込まれ、そのフィールドのデータが切り捨てられる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [bc8cd50fe] 2023-03-17 13:31:40 -0400
Branch: REL_15_STABLE [2b216da1e] 2023-03-17 13:31:40 -0400
Branch: REL_14_STABLE [5fc1ac151] 2023-03-17 13:31:40 -0400
Branch: REL_13_STABLE [7e7c5b683] 2023-03-17 13:31:40 -0400
Branch: REL_12_STABLE [8f83ce8c5] 2023-03-17 13:31:40 -0400
Branch: REL_11_STABLE [012ffb365] 2023-03-17 13:31:40 -0400
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_dump&lt;/application&gt; so that partitioned tables
      that are hash-partitioned on an enum-type column can be restored
      successfully (Tom Lane)
</span>
列挙(enum)型の列でハッシュ分割されたパーティションテーブルが正常に復元されるように<span class="application">pg_dump</span>を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Since the hash codes for enum values depend on the OIDs assigned to
      the enum, they are typically different after a dump and restore,
      meaning that rows often need to go into a different partition than
      they were in originally.  Users can work around that by specifying
      the &lt;option&gt;&amp;#45;-load-via-partition-root&lt;/option&gt; option; but since
      there is very little chance of success without that,
      teach &lt;application&gt;pg_dump&lt;/application&gt; to apply it automatically
      to such tables.
</span>
列挙値のハッシュコードは列挙値に割り当てられたOIDに依存するので、ダンプとリストアの後では通常異なります。
これは、行がしばしば元のパーティションとは異なるパーティションに入る必要があることを意味します。
ユーザは<code class="option">--load-via-partition-root</code>オプションを指定することでこの問題を回避できますが、それなしでは成功する可能性が非常に低いので、<span class="application">pg_dump</span>がそのようなテーブルにこのオプションを自動的に適用するように変更しました。
     </p><p>
<span class="original">
      Also, fix &lt;application&gt;pg_restore&lt;/application&gt; to not try
      to &lt;command&gt;TRUNCATE&lt;/command&gt; target tables before restoring into
      them when &lt;option&gt;&amp;#45;-load-via-partition-root&lt;/option&gt; mode is used.
      This avoids a hazard of deadlocks and lost data.
</span>
また、<code class="option">--load-via-partition-root</code>モードが使用されている場合、リストア前にターゲットテーブルを<code class="command">TRUNCATE</code>試行しないように、<span class="application">pg_restore</span>を修正しました。
これにより、デッドロックやデータ喪失の危険性が回避されます。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [a923e2163] 2023-04-12 09:09:38 +0900
Branch: REL_15_STABLE [5c3254946] 2023-04-12 09:09:53 +0900
Branch: REL_14_STABLE [34105eea6] 2023-04-12 09:09:58 +0900
Branch: master [765f5df72] 2023-03-15 12:55:51 +0900
Branch: REL_15_STABLE [69b6032e0] 2023-03-15 12:56:06 +0900
Branch: REL_14_STABLE [bbf18fe19] 2023-03-15 12:56:10 +0900
</span><p>
<span class="original">
      Correctly detect non-seekable files on Windows
      (Juan José Santamaría Flecha, Michael Paquier, Daniel Watzinger)
</span>
Windowsでシークできないファイルを正しく検出するようになりました。
(Juan José Santamaría Flecha, Michael Paquier, Daniel Watzinger)
     </p><p>
<span class="original">
      This bug led to misbehavior when &lt;application&gt;pg_dump&lt;/application&gt;
      writes to a pipe or &lt;application&gt;pg_restore&lt;/application&gt; reads from
      one.
</span>
このバグは、<span class="application">pg_dump</span>がパイプに書き込む時、または<span class="application">pg_restore</span>がパイプから読み取る時に誤動作を引き起こしました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [038f586d5] 2023-02-21 10:56:37 +0100
Branch: REL_15_STABLE [108a22bd1] 2023-02-21 10:56:37 +0100
Branch: REL_14_STABLE [663e50e83] 2023-02-21 10:56:37 +0100
</span><p>
<span class="original">
      In &lt;application&gt;pgbench&lt;/application&gt;'s &lt;quote&gt;prepared&lt;/quote&gt;
      mode, prepare all the commands in a pipeline before starting the
      pipeline (&amp;Aacute;lvaro Herrera)
</span>
<span class="application">pgbench</span>の<span class="quote">「<span class="quote">prepared</span>」</span>モードで、パイプラインを開始する前にパイプライン内のすべてのコマンドを準備(prepare)するようにしました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      This avoids a failure when a pgbench script tries to
      start a serializable transaction inside a pipeline.
</span>
これにより、pgbenchスクリプトがパイプライン内でシリアライザブルトランザクションを開始しようとしたときの失敗を回避します。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [e88754a19] 2023-03-24 10:56:10 -0400
Branch: REL_15_STABLE [701ec5557] 2023-03-24 10:59:10 -0400
Branch: REL_14_STABLE [8fd5aa76c] 2023-03-24 11:06:45 -0400
Branch: master [b7cea5882] 2023-03-28 16:16:53 -0400
Branch: REL_15_STABLE [453f53821] 2023-03-28 16:17:03 -0400
Branch: REL_14_STABLE [e3363cda9] 2023-03-28 16:21:29 -0400
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/amcheck&lt;/filename&gt;'s heap checking code, deal
      correctly with tuples having zero xmin or xmax (Robert Haas)
</span>
<code class="filename">contrib/amcheck</code>のヒープを検査するコードで、xminまたはxmaxがゼロのタプルを正しく処理するようにしました。
(Robert Haas)
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [4f5d461e0] 2023-03-11 14:12:52 -0800
Branch: REL_15_STABLE [e8a9750d0] 2023-03-11 14:14:50 -0800
Branch: REL_14_STABLE [b3a83055c] 2023-03-11 14:17:51 -0800
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/amcheck&lt;/filename&gt;, deal sanely with xids that
      appear to be before epoch zero (Andres Freund)
</span>
<code class="filename">contrib/amcheck</code>では、エポックゼロより前にあるように見えるxidを適切に扱うようにしました。
(Andres Freund)
     </p><p>
<span class="original">
      In cases of corruption we might see a wrapped-around 32-bit xid that
      appears to be before the first xid epoch.  Promoting such a value to
      64-bit form produced a value far in the future, resulting in wrong
      reports.  Return FirstNormalFullTransactionId in such cases so that
      things work reasonably sanely.
</span>
破損の場合、最初のxidエポックより前にあるように見える周回した32ビットxidが表示されることがありました。
このような値を64ビット形式に昇格すると、はるか将来の値が生成され、結果として誤ったレポートが作成されました。
このような場合にはFirstNormalFullTransactionIdを返すことで、理にかなった妥当な動作をするようになります。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [8e82db97b] 2023-04-12 11:37:13 -0400
Branch: REL_15_STABLE [fa83e9e23] 2023-04-12 11:51:09 -0400
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/basebackup_to_shell&lt;/filename&gt;, properly detect
      failure to open a pipe (Robert Haas)
</span>
<code class="filename">contrib/basebackup_to_shell</code>で、パイプのオープン失敗を適切に検出するようにしました。
(Robert Haas)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [df38157d9] 2023-04-27 11:55:06 -0400
Branch: REL_15_STABLE [85ec8bcce] 2023-04-27 11:55:06 -0400
Branch: REL_14_STABLE [c74f88c40] 2023-04-27 11:55:06 -0400
Branch: REL_13_STABLE [de2dfa053] 2023-04-27 11:55:06 -0400
Branch: REL_12_STABLE [ce9662598] 2023-04-27 11:55:06 -0400
Branch: REL_11_STABLE [c3c1097dc] 2023-04-27 11:55:06 -0400
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/hstore_plpython&lt;/filename&gt;, avoid crashing if
      the Python value to be transformed isn't a mapping (Dmitry Dolgov,
      Tom Lane)
</span>
<code class="filename">contrib/hstore_plpython</code>で、変換されるPythonの値がマッピングでない場合のクラッシュを回避しました。
(Dmitry Dolgov, Tom Lane)
     </p><p>
<span class="original">
      This should give an error, but Python 3 changed some APIs in a way
      that caused the check to misbehave, allowing a crash to ensue.
</span>
これはエラーを発生させるべきですが、Python 3では一部のAPIが変更されたためにチェックの動作がおかしくなり、クラッシュが発生する可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [8bbd0cce9] 2023-04-23 14:30:09 +0300
Branch: REL_15_STABLE [214495dc5] 2023-04-23 14:30:51 +0300
Branch: REL_14_STABLE [f4a4a18ec] 2023-04-23 14:31:11 +0300
Branch: REL_13_STABLE [48c6825d0] 2023-04-23 14:00:16 +0300
</span><p>
<span class="original">
      Require the &lt;literal&gt;siglen&lt;/literal&gt; option of a GiST index on
      an &lt;type&gt;ltree&lt;/type&gt; column, if specified, to be a multiple of 4
      (Alexander Korotkov)
</span>
<code class="type">ltree</code>列のGiSTインデックスの<code class="literal">siglen</code>オプションが指定されている場合は、4の倍数にする必要があるようにしました。
(Alexander Korotkov)
     </p><p>
<span class="original">
      Other values result in misaligned accesses to index content, which
      is harmless on Intel-compatible hardware but can cause a crash on
      some other architectures.
</span>
その他の値を指定すると、インデックスコンテンツへのアクセスが不整合になります。
これは、Intel互換ハードウェアでは無害ですが、その他のアーキテクチャではクラッシュの原因となる可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [be753639d] 2023-03-02 14:03:02 +0900
Branch: REL_15_STABLE [9d41ecfcd] 2023-03-02 14:03:08 +0900
Branch: REL_14_STABLE [5ad63eee1] 2023-03-02 14:03:21 +0900
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/pageinspect&lt;/filename&gt;, add defenses against
      incorrect input for the &lt;function&gt;gist_page_items()&lt;/function&gt; function
      (Dmitry Koval)
</span>
<code class="filename">contrib/pageinspect</code>で、<code class="function">gist_page_items()</code>関数の不正な入力に対する防御を追加しました。
(Dmitry Koval)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [1925ac281] 2023-03-11 12:15:41 -0500
Branch: REL_15_STABLE [6170386c7] 2023-03-11 12:15:41 -0500
Branch: REL_14_STABLE [786528039] 2023-03-11 12:15:41 -0500
Branch: REL_13_STABLE [bc436e4a9] 2023-03-11 12:15:41 -0500
Branch: REL_12_STABLE [1279414bc] 2023-03-11 12:15:41 -0500
Branch: REL_11_STABLE [b18327489] 2023-03-11 12:15:41 -0500
</span><p>
<span class="original">
      Fix misbehavior in &lt;filename&gt;contrib/pg_trgm&lt;/filename&gt; with an
      unsatisfiable regular expression (Tom Lane)
</span>
<code class="filename">contrib/pg_trgm</code>で満たす文字列が存在しない正規表現での誤動作を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      A regex such as &lt;literal&gt;$foo&lt;/literal&gt; is legal but unsatisfiable;
      the regex compiler recognizes that and produces an empty NFA graph.
      Attempting to optimize such a graph into a pg_trgm GIN or GiST index
      qualification resulted in accessing off the end of a work array,
      possibly leading to crashes.
</span>
<code class="literal">$foo</code>のような正規表現は定義としては正当ですが、この表現を満たす文字列は存在しません。
正規表現コンパイラはそれを認識し、空のNFAグラフを生成します。
このようなグラフをpg_trgmのGINやGiSTインデックス修飾に最適化しようとした結果、作業配列の末尾を超えてアクセスすることになり、クラッシュする可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [8427ce4c3] 2023-02-21 20:01:43 +0900
Branch: REL_15_STABLE [5bace41ab] 2023-02-21 20:02:09 +0900
</span><p>
<span class="original">
      Fix handling of escape sequences
      in &lt;filename&gt;contrib/postgres_fdw&lt;/filename&gt;'s
      &lt;varname&gt;application_name&lt;/varname&gt; parameter (Kyotaro Horiguchi,
      Michael Paquier)
</span>
<code class="filename">contrib/postgres_fdw</code>の<code class="varname">application_name</code>パラメータにおけるエスケープシーケンス処理を修正しました。
(Kyotaro Horiguchi, Michael Paquier)
     </p><p>
<span class="original">
      The code to expand these could fail if executed in a background
      process, as for example during auto-analyze of a foreign table.
</span>
エスケープを展開するコードは、外部テーブルの自動ANALYZEの中など、バックグラウンドプロセスで実行された場合に失敗する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [69e8c7cf1] 2023-02-20 11:07:24 -0800
Branch: REL_15_STABLE [da32a99df] 2023-02-20 11:29:31 -0800
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/pg_walinspect&lt;/filename&gt;, limit memory usage
      of &lt;function&gt;pg_get_wal_records_info()&lt;/function&gt; (Bharath Rupireddy)
</span>
<code class="filename">contrib/pg_walinspect</code>で、<code class="function">pg_get_wal_records_info()</code>のメモリ使用量を制限しました。
(Bharath Rupireddy)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [eab2d3147] 2023-04-20 18:12:32 -0400
Branch: REL_15_STABLE [a14afd3bd] 2023-04-20 18:12:48 -0400
Branch: REL_14_STABLE [6d60b718c] 2023-04-20 18:12:32 -0400
Branch: REL_13_STABLE [6dce37203] 2023-04-20 18:12:32 -0400
Branch: REL_12_STABLE [e2e34dfff] 2023-04-20 18:12:32 -0400
Branch: REL_11_STABLE [c976ccc9e] 2023-04-20 18:12:32 -0400
</span><p>
<span class="original">
      Use the &lt;option&gt;&amp;#45;-strip-unneeded&lt;/option&gt; option when stripping
      static libraries with
      GNU-compatible &lt;application&gt;strip&lt;/application&gt; (Tom Lane)
</span>
GNU互換の<span class="application">strip</span>で静的ライブラリから不要な情報を除去する場合は、<code class="option">--strip-unneeded</code>オプションを使用します。
(Tom Lane)
     </p><p>
<span class="original">
      Previously, &lt;literal&gt;make install-strip&lt;/literal&gt; used
      the &lt;option&gt;-x&lt;/option&gt; option in this case.  This change avoids
      misbehavior of &lt;application&gt;llvm-strip&lt;/application&gt;, and gives
      slightly smaller output as well.
</span>
以前は、<code class="literal">make install-strip</code>はこの場合には<code class="option">-x</code>オプションを使用していました。
この変更により、<span class="application">llvm-strip</span>の誤動作が回避され、出力もわずかに小さくなりました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [969509c3f] 2023-02-08 17:15:25 -0500
Branch: REL_15_STABLE [2ee703c9d] 2023-02-08 17:15:23 -0500
Branch: REL_14_STABLE [7f8778fcf] 2023-02-08 17:15:23 -0500
Branch: REL_13_STABLE [c7b608600] 2023-02-08 17:15:23 -0500
Branch: REL_12_STABLE [11f1f9f4f] 2023-02-08 17:15:27 -0500
Branch: REL_11_STABLE [36a646d99] 2023-02-08 17:15:27 -0500
</span><p>
<span class="original">
      Stop recommending auto-download of DTD files for building the
      documentation, and indeed disable it (Aleksander Alekseev, Peter
      Eisentraut, Tom Lane)
</span>
文書構築でのDTDファイルの自動ダウンロード推奨をやめて、実際に無効にしました。
(Aleksander Alekseev, Peter Eisentraut, Tom Lane)
     </p><p>
<span class="original">
      It appears no longer possible to build the SGML documentation
      without a local installation of the DocBook DTD files.
      Formerly &lt;application&gt;xsltproc&lt;/application&gt; could download those
      files on-the-fly from sourceforge.net; but sourceforge.net now
      permits only HTTPS access, and no common version
      of &lt;application&gt;xsltproc&lt;/application&gt; supports that.  Hence, remove
      the bits of our documentation suggesting that that's possible or
      useful, and instead
      add &lt;application&gt;xsltproc&lt;/application&gt;'s &lt;option&gt;&amp;#45;-nonet&lt;/option&gt;
      option to the build recipes.
</span>
SGML文書をビルドするには、DocBook DTDファイルのローカルインストールが必要です。
以前は<span class="application">xsltproc</span>がsourceforge.netからこれらのファイルを実行中にダウンロードできましたが、sourceforge.netでは現在HTTPSアクセスのみが許可されており、<span class="application">xsltproc</span>の一般的なバージョンではサポートされていません。
そのため、それが可能または有用であることを示唆する文書の一部を削除し、代わりに<span class="application">xsltproc</span>の<code class="option">--nonet</code>オプションをビルドレシピに追加します。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter@eisentraut.org&gt;
Branch: master [5d42a9751] 2023-05-05 07:09:52 +0200
Branch: REL_15_STABLE [3d37476f5] 2023-05-05 07:10:15 +0200
Branch: REL_14_STABLE [e07022500] 2023-05-05 07:10:30 +0200
Branch: REL_13_STABLE [670494477] 2023-05-05 07:11:58 +0200
Branch: REL_12_STABLE [14bb2e76c] 2023-05-05 07:12:18 +0200
Branch: REL_11_STABLE [b189f71e5] 2023-05-05 07:12:26 +0200
</span><p>
<span class="original">
      When running TAP tests in PGXS builds, use a saner location for the
      temporary &lt;filename&gt;portlock&lt;/filename&gt; directory (Peter Eisentraut)
</span>
PGXSビルドでTAPテストを実行する場合、一時的な<code class="filename">portlock</code>ディレクトリには、より安全な場所を使用するようにしました。
(Peter Eisentraut)
     </p><p>
<span class="original">
      Place it under &lt;filename&gt;tmp_check&lt;/filename&gt; in the build
      directory.  With the previous coding, a PGXS build would try to place
      it in the installation directory, which is not necessarily writable.
</span>
それをビルドディレクトリの<code class="filename">tmp_check</code>の下に置きます。
以前のコーディングでは、PGXSビルドはそれをインストレーションディレクトリに置こうと試みましたが、これは必ずしも書き込み可能ではありません。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4ddee4d9d] 2023-04-18 14:46:39 -0400
Branch: REL_15_STABLE [62b22caa5] 2023-04-18 14:46:39 -0400
Branch: REL_14_STABLE [b79b36f26] 2023-04-18 14:46:39 -0400
Branch: REL_13_STABLE [87d8ec3e4] 2023-04-18 14:46:39 -0400
Branch: REL_12_STABLE [2ad35cf06] 2023-04-18 14:46:39 -0400
Branch: REL_11_STABLE [7228f2f81] 2023-04-18 14:46:39 -0400
</span><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt;
      release 2023c for DST law changes in Egypt, Greenland, Morocco, and
      Palestine.
</span>
エジプト、グリーンランド、モロッコ、パレスチナでの夏時間法改正に伴い、タイムゾーンデータファイルを<span class="application">tzdata</span>リリース2023cに更新しました。
     </p><p>
<span class="original">
      When observing Moscow time, Europe/Kirov and Europe/Volgograd now
      use the abbreviations MSK/MSD instead of numeric abbreviations,
      for consistency with other timezones observing Moscow time.
      Also, America/Yellowknife is no longer distinct from America/Edmonton;
      this affects some pre-1948 timestamps in that area.
</span>
モスクワ時間に従っている場合、Europe/KirovおよびEurope/Volgogradは、モスクワ時間に従う他のタイムゾーンとの整合性を保つため、数字による略語ではなくMSK/MSDという略語を使用するようにしました。
また、America/YellowknifeはAmerica/Edmontonと区別されなくなりました。
これは、その地域の1948年以前のタイムスタンプの一部に影響を与えます。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-15-2.html" title="E.2. リリース15.2">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">付録E リリースノート </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 15.3文書">ホーム</a></td><td width="40%" align="right" valign="top"> E.2. リリース15.2</td></tr></table></div></body></html>