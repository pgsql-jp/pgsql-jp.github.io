<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.5. 定義済みロール</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="role-removal.html" title="21.4. ロールの削除" /><link rel="next" href="perm-functions.html" title="21.6. 関数のセキュリティ" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 18.2文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="user-manag.html" title="第21章 データベースロール">第21章 データベースロール</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 18.2 : predefined-roles.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="role-removal.html" title="21.4. ロールの削除">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="user-manag.html" title="第21章 データベースロール">上へ</a></td><td width="60%" align="center">21.5. 定義済みロール</td><td width="20%" align="right"> <a accesskey="n" href="perm-functions.html" title="21.6. 関数のセキュリティ">次へ</a></td></tr></table><hr /></div><div class="sect1" id="PREDEFINED-ROLES"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.5. 定義済みロール <a href="#PREDEFINED-ROLES" class="id_link">#</a></h2></div></div></div><span class="original">
  &lt;title&gt;Predefined Roles&lt;/title&gt;
</span><a id="id-1.6.8.9.2" class="indexterm"></a><a id="id-1.6.8.9.3" class="indexterm"></a><p>
<span class="original">
   &lt;productname&gt;PostgreSQL&lt;/productname&gt; provides a set of predefined roles
   that provide access to certain, commonly needed, privileged capabilities
   and information.  Administrators (including roles that have the
   &lt;literal&gt;CREATEROLE&lt;/literal&gt; privilege) can &lt;command&gt;GRANT&lt;/command&gt; these
   roles to users and/or other roles in their environment, providing those
   users with access to the specified capabilities and information.  For
   example:
</span>
<span class="productname">PostgreSQL</span>では、一般的に必要とされる、特権のある機能や情報にアクセスできるよう、いくつかのあらかじめ定義されたロールを提供しています。
管理者（<code class="literal">CREATEROLE</code>権限を持つロールを含む）は自分の環境のユーザあるいは他のロールに対し、これらのロールを<code class="command">GRANT</code>（付与）することで、それらのユーザに、その機能や情報を提供することができます。
例えば以下です。

</p><pre class="programlisting">
GRANT pg_signal_backend TO admin_user;
</pre><p>
  </p><div class="warning"><h3 class="title">警告</h3><p>
<span class="original">
    Care should be taken when granting these roles to ensure they are only used
    where needed and with the understanding that these roles grant access to
    privileged information.
</span>
これらのロールを付与する場合、機密情報へのアクセス権が与えられるということを理解したうえで、必要な場合にのみ使用されるように注意する必要があります。
   </p></div><p>
<span class="original">
   The predefined roles are described below.
   Note that the specific permissions for each of the roles may change in
   the future as additional capabilities are added.  Administrators
   should monitor the release notes for changes.
</span>
定義済みロールについては以下で説明します。
それぞれのロールの個別の権限については、将来、さらなる機能が追加される時に変更されるかもしれないことに注意してください。
管理者は、変更がないかリリースノートを確認するようにしてください。

   </p><div class="variablelist"><dl class="variablelist"><dt id="PREDEFINED-ROLE-PG-CHECKPOINT"><span class="term"><code class="varname">pg_checkpoint</code></span> <a href="#PREDEFINED-ROLE-PG-CHECKPOINT" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_checkpoint&lt;/literal&gt; allows executing the
       &lt;link linkend="sql-checkpoint"&gt;&lt;command&gt;CHECKPOINT&lt;/command&gt;&lt;/link&gt; command.
</span>
<code class="literal">pg_checkpoint</code>は、<a class="link" href="sql-checkpoint.html" title="CHECKPOINT"><code class="command">CHECKPOINT</code></a>コマンドの実行を許可します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-CREATE-SUBSCRIPTION"><span class="term"><code class="varname">pg_create_subscription</code></span> <a href="#PREDEFINED-ROLE-PG-CREATE-SUBSCRIPTION" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_create_subscription&lt;/literal&gt; allows users with
       &lt;literal&gt;CREATE&lt;/literal&gt; permission on the database to issue
       &lt;link linkend="sql-createsubscription"&gt;&lt;command&gt;CREATE SUBSCRIPTION&lt;/command&gt;&lt;/link&gt;.
</span>
<code class="literal">pg_create_subscription</code>は、データベースでの<code class="literal">CREATE</code>権限を持つユーザに対して、<a class="link" href="sql-createsubscription.html" title="CREATE SUBSCRIPTION"><code class="command">CREATE SUBSCRIPTION</code></a>の実行を許可します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-DATABASE-OWNER"><span class="term"><code class="varname">pg_database_owner</code></span> <a href="#PREDEFINED-ROLE-PG-DATABASE-OWNER" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_database_owner&lt;/literal&gt; always has exactly one implicit
       member: the current database owner.  It cannot be granted membership in
       any role, and no role can be granted membership in
       &lt;literal&gt;pg_database_owner&lt;/literal&gt;.  However, like any other role, it
       can own objects and receive grants of access privileges.  Consequently,
       once &lt;literal&gt;pg_database_owner&lt;/literal&gt; has rights within a template
       database, each owner of a database instantiated from that template will
       possess those rights.  Initially, this role owns the
       &lt;literal&gt;public&lt;/literal&gt; schema, so each database owner governs local
       use of that schema.
</span>
<code class="literal">pg_database_owner</code>ロールには、暗黙的なメンバが常に1つだけあります。
すなわち、現在のデータベースの所有者です。
どのロールにもメンバ資格を付与することはできませんし、<code class="literal">pg_database_owner</code>のメンバ資格を付与できるロールもありません。
ただし、他のロールと同様に、オブジェクトを所有したりアクセス権限の付与を受けたりすることはできます。
したがって、<code class="literal">pg_database_owner</code>がテンプレートデータベース内で権限を一度持てば、そのテンプレートから作成されたデータベースの所有者は皆、その権限を持つことになります。
最初は、このロールは<code class="literal">public</code>スキーマを所有していますので、各データベースの所有者がそのスキーマのローカルでの使用を管理します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-MAINTAIN"><span class="term"><code class="varname">pg_maintain</code></span> <a href="#PREDEFINED-ROLE-PG-MAINTAIN" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_maintain&lt;/literal&gt; allows executing
       &lt;link linkend="sql-vacuum"&gt;&lt;command&gt;VACUUM&lt;/command&gt;&lt;/link&gt;,
       &lt;link linkend="sql-analyze"&gt;&lt;command&gt;ANALYZE&lt;/command&gt;&lt;/link&gt;,
       &lt;link linkend="sql-cluster"&gt;&lt;command&gt;CLUSTER&lt;/command&gt;&lt;/link&gt;,
       &lt;link linkend="sql-refreshmaterializedview"&gt;&lt;command&gt;REFRESH MATERIALIZED VIEW&lt;/command&gt;&lt;/link&gt;,
       &lt;link linkend="sql-reindex"&gt;&lt;command&gt;REINDEX&lt;/command&gt;&lt;/link&gt;,
       and &lt;link linkend="sql-lock"&gt;&lt;command&gt;LOCK TABLE&lt;/command&gt;&lt;/link&gt; on all
       relations, as if having &lt;literal&gt;MAINTAIN&lt;/literal&gt; rights on those
       objects.
</span>
<code class="literal">pg_maintain</code>は、<code class="literal">MAINTAIN</code>権限があるかのように、すべてのリレーションに対して<a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>、<a class="link" href="sql-analyze.html" title="ANALYZE"><code class="command">ANALYZE</code></a>、<a class="link" href="sql-cluster.html" title="CLUSTER"><code class="command">CLUSTER</code></a>、<a class="link" href="sql-refreshmaterializedview.html" title="REFRESH MATERIALIZED VIEW"><code class="command">REFRESH MATERIALIZED VIEW</code></a>、<a class="link" href="sql-reindex.html" title="REINDEX"><code class="command">REINDEX</code></a>、および<a class="link" href="sql-lock.html" title="LOCK"><code class="command">LOCK TABLE</code></a>を実行することを許可します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-MONITOR"><span class="term"><code class="varname">pg_monitor</code><br /></span><span class="term"><code class="varname">pg_read_all_settings</code><br /></span><span class="term"><code class="varname">pg_read_all_stats</code><br /></span><span class="term"><code class="varname">pg_stat_scan_tables</code></span> <a href="#PREDEFINED-ROLE-PG-MONITOR" class="id_link">#</a></dt><dd><p>
<span class="original">
       These roles are intended to allow administrators to easily configure a
       role for the purpose of monitoring the database server.  They grant a
       set of common privileges allowing the role to read various useful
       configuration settings, statistics, and other system information
       normally restricted to superusers.
</span>
これらのロールは、管理者がデータベースサーバを監視するためのロールを簡単に設定できるようにすることを目的としています。
これらのロールは、通常はスーパーユーザに制限されている、各種の有用な構成設定、統計情報、および他のシステム情報を読み取るための一般的な権限のセットを付与することができます。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_monitor&lt;/literal&gt; allows reading/executing various
       monitoring views and functions.  This role is a member of
       &lt;literal&gt;pg_read_all_settings&lt;/literal&gt;,
       &lt;literal&gt;pg_read_all_stats&lt;/literal&gt; and
       &lt;literal&gt;pg_stat_scan_tables&lt;/literal&gt;.
</span>
<code class="literal">pg_monitor</code>は、各種の監視ビューや関数を読み取ること/実行することを許可します。
このロールは、<code class="literal">pg_read_all_settings</code>、<code class="literal">pg_read_all_stats</code>、および<code class="literal">pg_stat_scan_tables</code>のメンバです。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_read_all_settings&lt;/literal&gt; allows reading all configuration
       variables, even those normally visible only to superusers.
</span>
<code class="literal">pg_read_all_settings</code>は、通常スーパーユーザのみに見える、すべての設定変数を読み取ることを許可します。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_read_all_stats&lt;/literal&gt; allows reading all pg_stat_* views
       and use various statistics related extensions, even those normally
       visible only to superusers.
</span>
<code class="literal">pg_read_all_stats</code>は、通常スーパーユーザのみに見える、すべてのpg_stat_*ビューの読み取りと各種統計関連の拡張の使用を許可します。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_stat_scan_tables&lt;/literal&gt; allows executing monitoring
       functions that may take &lt;literal&gt;ACCESS SHARE&lt;/literal&gt; locks on tables,
       potentially for a long time (e.g., &lt;function&gt;pgrowlocks(text)&lt;/function&gt;
       in the &lt;xref linkend="pgrowlocks"/&gt; extension).
</span>
<code class="literal">pg_stat_scan_tables</code>は、潜在的にテーブルに対して長時間<code class="literal">ACCESS SHARE</code>ロックを取得する可能性がある関数（例えば<a class="xref" href="pgrowlocks.html" title="F.31. pgrowlocks — テーブルの行ロックの情報を示す">pgrowlocks</a>拡張の<code class="function">pgrowlocks(text)</code>）の監視を行うことを許可します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-READ-ALL-DATA"><span class="term"><code class="varname">pg_read_all_data</code><br /></span><span class="term"><code class="varname">pg_write_all_data</code></span> <a href="#PREDEFINED-ROLE-PG-READ-ALL-DATA" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_read_all_data&lt;/literal&gt; allows reading all data (tables,
       views, sequences), as if having &lt;command&gt;SELECT&lt;/command&gt; rights on
       those objects and &lt;literal&gt;USAGE&lt;/literal&gt; rights on all schemas.  This
       role does not bypass row-level security (RLS) policies.  If RLS is being
       used, an administrator may wish to set &lt;literal&gt;BYPASSRLS&lt;/literal&gt; on
       roles which this role is granted to.
</span>
<code class="literal">pg_read_all_data</code>は、すべてのデータ（テーブル、ビュー、シーケンス）について、これらのオブジェクトの<code class="command">SELECT</code>権限とすべてのスキーマの<code class="literal">USAGE</code>権限を持っているかのように読み取ることを許可します。
このロールは、行レベルセキュリティ（RLS）ポリシーを無視しません。
RLSが使用されている場合、管理者はこのロールが付与されているロールに対して<code class="literal">BYPASSRLS</code>を設定したいと思うかもしれません。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_write_all_data&lt;/literal&gt; allows writing all data (tables,
       views, sequences), as if having &lt;command&gt;INSERT&lt;/command&gt;,
       &lt;command&gt;UPDATE&lt;/command&gt;, and &lt;command&gt;DELETE&lt;/command&gt; rights on those
       objects and &lt;literal&gt;USAGE&lt;/literal&gt; rights on all schemas.  This role
       does not bypass row-level security (RLS) policies.  If RLS is being
       used, an administrator may wish to set &lt;literal&gt;BYPASSRLS&lt;/literal&gt; on
       roles which this role is granted to.
</span>
<code class="literal">pg_write_all_data</code>は、すべてのデータ（テーブル、ビュー、シーケンス）について、これらのオブジェクトの<code class="command">INSERT</code>、<code class="command">UPDATE</code>、および<code class="command">DELETE</code>権限とすべてのスキーマの<code class="literal">USAGE</code>権限を持っているかのように書き込むことを許可します。
このロールは、行レベルセキュリティ（RLS）ポリシーを無視しません。
RLSが使用されている場合、管理者はこのロールが付与されているロールに対して<code class="literal">BYPASSRLS</code>を設定したいと思うかもしれません。
      </p></dd><dt id="PREDEFINED-ROLE-PG-READ-SERVER-FILES"><span class="term"><code class="varname">pg_read_server_files</code><br /></span><span class="term"><code class="varname">pg_write_server_files</code><br /></span><span class="term"><code class="varname">pg_execute_server_program</code></span> <a href="#PREDEFINED-ROLE-PG-READ-SERVER-FILES" class="id_link">#</a></dt><dd><p>
<span class="original">
       These roles are intended to allow administrators to have trusted, but
       non-superuser, roles which are able to access files and run programs on
       the database server as the user the database runs as.  They bypass all
       database-level permission checks when accessing files directly and they
       could be used to gain superuser-level access.  Therefore, great care
       should be taken when granting these roles to users.
</span>
これらのロールは、信頼はできるがスーパーユーザではないロールが、データベースを実行するユーザとしてデータベースサーバ上のファイルにアクセスしたりプログラムを実行したりすることを、管理者が許可できるようにすることを意図しています。
これらのロールは、ファイルに直接アクセスする時はデータベースレベルの権限確認をすべて無視し、スーパーユーザレベルのアクセス権を取得するために使用できます。
そのため、これらのロールをユーザに付与する時には細心の注意が必要です。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_read_server_files&lt;/literal&gt; allows reading files from any
       location the database can access on the server using
       &lt;command&gt;COPY&lt;/command&gt; and other file-access functions.
</span>
<code class="literal">pg_read_server_files</code>は、<code class="command">COPY</code>やその他のファイルアクセス関数を使用して、データベースがサーバ上でアクセスできる任意の場所からファイルを読み取ることを許可します。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_write_server_files&lt;/literal&gt; allows writing to files in any
       location the database can access on the server using
       &lt;command&gt;COPY&lt;/command&gt; and other file-access functions.
</span>
<code class="literal">pg_write_server_files</code>は、<code class="command">COPY</code>やその他のファイルアクセス関数を使用して、データベースがサーバ上でアクセスできる任意の場所のファイルに書き込むことを許可します。
      </p><p>
<span class="original">
       &lt;literal&gt;pg_execute_server_program&lt;/literal&gt; allows executing programs
       on the database server as the user the database runs as using
       &lt;command&gt;COPY&lt;/command&gt; and other functions which allow executing a
       server-side program.
</span>
<code class="literal">pg_execute_server_program</code>は、<code class="command">COPY</code>やサーバ側のプログラムを実行できるその他の関数で、データベースを実行しているユーザとしてデータベースサーバ上でプログラムを実行することを許可します。
      </p></dd><dt id="PREDEFINED-ROLE-PG-SIGNAL-AUTOVACUUM-WORKER"><span class="term"><code class="varname">pg_signal_autovacuum_worker</code></span> <a href="#PREDEFINED-ROLE-PG-SIGNAL-AUTOVACUUM-WORKER" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_signal_autovacuum_worker&lt;/literal&gt; allows signaling
       autovacuum workers to cancel the current table's vacuum or terminate its
       session.  See &lt;xref linkend="functions-admin-signal"/&gt;.
</span>
<code class="literal">pg_signal_autovacuum_worker</code>は、自動バキュームワーカーに対して、現在のテーブルのバキュームをキャンセルしたりそのセッションを終了させたりするためのシグナルを送信することを許可します。
<a class="xref" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL" title="9.28.2. サーバシグナル送信関数">9.28.2</a>を参照してください。
      </p></dd><dt id="PREDEFINED-ROLE-PG-SIGNAL-BACKEND"><span class="term"><code class="varname">pg_signal_backend</code></span> <a href="#PREDEFINED-ROLE-PG-SIGNAL-BACKEND" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_signal_backend&lt;/literal&gt; allows signaling another backend to
       cancel a query or terminate its session.  Note that this role does not
       permit signaling backends owned by a superuser.  See
       &lt;xref linkend="functions-admin-signal"/&gt;.
</span>
<code class="literal">pg_signal_backend</code>は、他のバックエンドに対して、問い合わせをキャンセルしたりそのセッションを終了させたりするためのシグナルを送信することを許可します。
このロールでは、スーパーユーザが所有するバックエンドに対してシグナルを送信することは許可されないことに注意してください。
<a class="xref" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL" title="9.28.2. サーバシグナル送信関数">9.28.2</a>を参照してください。
      </p></dd><dt id="PREDEFINED-ROLE-PG-USE-RESERVED-CONNECTIONS"><span class="term"><code class="varname">pg_use_reserved_connections</code></span> <a href="#PREDEFINED-ROLE-PG-USE-RESERVED-CONNECTIONS" class="id_link">#</a></dt><dd><p>
<span class="original">
       &lt;literal&gt;pg_use_reserved_connections&lt;/literal&gt; allows use of connection
       slots reserved via &lt;xref linkend="guc-reserved-connections"/&gt;.
</span>
<code class="literal">pg_use_reserved_connections</code>は、<a class="xref" href="runtime-config-connection.html#GUC-RESERVED-CONNECTIONS">reserved_connections</a>によって予約済みの接続スロットを使用することを許可します。
      </p></dd></dl></div><p>
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="role-removal.html" title="21.4. ロールの削除">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="user-manag.html" title="第21章 データベースロール">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="perm-functions.html" title="21.6. 関数のセキュリティ">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">21.4. ロールの削除 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.2文書">ホーム</a></td><td width="40%" align="right" valign="top"> 21.6. 関数のセキュリティ</td></tr></table></div></body></html>