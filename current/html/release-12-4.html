<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. リリース 12.4</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release.html" title="付録E リリースノート" /><link rel="next" href="release-12-3.html" title="E.2. リリース12.3" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 12.4文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 12.4 &#10;                      release-12-4.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.1. リリース 12.4</td><td width="20%" align="right"> <a accesskey="n" href="release-12-3.html" title="E.2. リリース12.3">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-12-4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. リリース 12.4</h2></div></div></div><span class="original">
  &lt;title&gt;Release 12.4&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2020-08-13</p><p>
<span class="original">
   This release contains a variety of fixes from 12.3.
   For information about new features in major release 12, see
   &lt;xref linkend="release-12"/&gt;.
</span>
このリリースは12.3に対し、様々な不具合を修正したものです。
12メジャーリリースにおける新機能については、<a class="xref" href="release-12.html" title="E.5. リリース12">E.5</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.5.4"><div class="titlepage"><div><div><h3 class="title">E.1.1. バージョン12.4への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 12.4&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 12.X.
</span>
12.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you are upgrading from a version earlier than 12.2,
    see &lt;xref linkend="release-12-2"/&gt;.
</span>
しかしながら、12.2より前のバージョンからアップグレードする場合には、<a class="xref" href="release-12-2.html" title="E.3. リリース12.2">E.3</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.5.5"><div class="titlepage"><div><div><h3 class="title">E.1.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [11da97024] 2020-08-10 09:22:54 -0700
Branch: REL_13_STABLE [412c5c401] 2020-08-10 09:22:58 -0700
Branch: REL_12_STABLE [64a71062e] 2020-08-10 09:22:58 -0700
Branch: REL_11_STABLE [5a936d64c] 2020-08-10 09:22:59 -0700
Branch: REL_10_STABLE [dd5d99516] 2020-08-10 09:22:59 -0700
Branch: master [cec57b1a0] 2020-08-10 09:22:54 -0700
Branch: REL_13_STABLE [b601f24c8] 2020-08-10 09:22:58 -0700
Branch: REL_12_STABLE [515ee4a7e] 2020-08-10 09:22:58 -0700
Branch: REL_11_STABLE [613ed8a58] 2020-08-10 09:22:59 -0700
Branch: REL_10_STABLE [b793d6af9] 2020-08-10 09:22:59 -0700
</span><p>
<span class="original">
      Set a secure &lt;varname&gt;search_path&lt;/varname&gt; in logical replication
      walsenders and apply workers (Noah Misch)
</span>
ロジカルレプリケーションのwalsenderと適用ワーカーに安全な<code class="varname">search_path</code>を設定するようにしました。
(Noah Misch)
     </p><p>
<span class="original">
      A malicious user of either the publisher or subscriber database
      could potentially cause execution of arbitrary SQL code by the role
      running replication, which is often a superuser.  Some of the risks
      here are equivalent to those described in CVE-2018-1058, and are
      mitigated in this patch by ensuring that the replication sender and
      receiver execute with empty &lt;varname&gt;search_path&lt;/varname&gt; settings.
      (As with CVE-2018-1058, that change might cause problems for
      under-qualified names used in replicated tables' DDL.)  Other risks
      are inherent in replicating objects that belong to untrusted roles;
      the most we can do is document that there is a hazard to consider.
      (CVE-2020-14349)
</span>
パブリッシャーかサブスクライバーのデータベースの悪意のユーザが、しばしばスーパーユーザであるレプリケーション実行ユーザで、潜在的に任意SQLコード実行を引き起こせる可能性がありました。
この危険性の一部は、CVE-2018-1058で説明されているものと同じで、レプリケーション送信者と受信者の空の<code class="varname">search_path</code>での実行を保証する本修正により軽減されます。
（CVE-2018-1058と同様に、この変更はレプリケーションされているテーブルのDDLにおける修飾されていない名前について問題を引き起こすかもしれません。）
他の危険性は信頼できないロールに属するオブジェクトのレプリケーションに固有のものです。私たちができうる最大のことは考慮すべき危険性があることのドキュメント記載です。
(CVE-2020-14349)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7eeb1d986] 2020-08-10 10:44:42 -0400
Branch: REL_13_STABLE [98ca64899] 2020-08-10 10:44:42 -0400
Branch: REL_12_STABLE [3ba967084] 2020-08-10 10:44:42 -0400
Branch: REL_11_STABLE [afa358786] 2020-08-10 10:44:43 -0400
Branch: REL_10_STABLE [96cbfe92d] 2020-08-10 10:44:43 -0400
Branch: REL9_6_STABLE [2ea8a60fc] 2020-08-10 10:44:43 -0400
Branch: REL9_5_STABLE [6b11a4687] 2020-08-10 10:44:43 -0400
</span><p>
<span class="original">
      Make contrib modules' installation scripts more secure (Tom Lane)
</span>
contribモジュールのインストールスクリプトをより安全にしました。
(Tom Lane)
     </p><p>
<span class="original">
      Attacks similar to those described in CVE-2018-1058 could be carried
      out against an extension installation script, if the attacker can
      create objects in either the extension's target schema or the schema
      of some prerequisite extension.  Since extensions often require
      superuser privilege to install, this can open a path to obtaining
      superuser privilege.  To mitigate this risk, be more careful about
      the &lt;varname&gt;search_path&lt;/varname&gt; used to run an installation
      script; disable &lt;varname&gt;check_function_bodies&lt;/varname&gt; within the
      script; and fix catalog-adjustment queries used in some contrib
      modules to ensure they are secure.  Also provide documentation to
      help third-party extension authors make their installation scripts
      secure.  This is not a complete solution; extensions that depend on
      other extensions can still be at risk if installed carelessly.
      (CVE-2020-14350)
</span>
拡張のターゲットスキーマか拡張が必要とするスキーマに攻撃者がオブジェクトを作成できる場合にCVE-2018-1058で説明されているものと似た攻撃が拡張のインストールスクリプトに対して行われる可能性がありました。
拡張はしばしばインストールにスーパーユーザ権限を必要とするため、これはスーパーユーザ権限を奪取する道を開くことができます。
この危険性を軽減するため、インストールスクリプトの実行で使われる<code class="varname">search_path</code>についてより注意深くし、スクリプト内で<code class="varname">check_function_bodies</code>を無効化し、さらに、いくつかのcontribモジュールで使われるカタログ調整の問い合わせを安全になるように修正しました。
これは完全な解決策ではありません。不注意にインストールされた場合、他の拡張に依存する拡張は依然として危険です。
(CVE-2020-14350)
     </p></li><li class="listitem"><span class="original">
Author: Etsuro Fujita &lt;efujita@postgresql.org&gt;
Branch: master [13838740f] 2020-07-28 11:00:00 +0900
Branch: REL_13_STABLE [cebe10a5f] 2020-07-28 11:00:00 +0900
Branch: REL_12_STABLE [62c4a7729] 2020-07-28 11:00:02 +0900
Branch: REL_11_STABLE [bead29dec] 2020-07-28 11:00:03 +0900
Branch: master [199cec977] 2020-08-07 14:45:00 +0900
Branch: REL_13_STABLE [79a3ab1e9] 2020-08-07 14:45:01 +0900
Branch: REL_12_STABLE [4f2693229] 2020-08-07 14:45:02 +0900
Branch: REL_11_STABLE [1db9c80f8] 2020-08-07 14:45:04 +0900
</span><p>
<span class="original">
      Fix edge cases in partition pruning (Etsuro Fujita, Dmitry Dolgov)
</span>
パーティション除去で限界値の場合について修正しました。
(Etsuro Fujita, Dmitry Dolgov)
     </p><p>
<span class="original">
      When there are multiple partition key columns, generation of pruning
      tests could misbehave if some columns had no
      constraining &lt;literal&gt;WHERE&lt;/literal&gt; clauses or multiple
      constraining clauses.  This could lead to server crashes, incorrect
      query results, or assertion failures.
</span>
複数のパーティションキー列が存在するとき、一部の列が限定する<code class="literal">WHERE</code>句を持たなかったり、複数の限定句を持つ場合に、除去検査の生成が誤動作する可能性がありました。
これにより、サーバクラッシュや誤った問い合わせ結果、あるいは、アサート失敗がもたらされる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [689696c71] 2020-07-14 18:56:56 -0400
Branch: REL_13_STABLE [e38705b5c] 2020-07-14 18:56:49 -0400
Branch: REL_12_STABLE [de797e823] 2020-07-14 18:56:49 -0400
Branch: REL_11_STABLE [e9f031172] 2020-07-14 18:56:49 -0400
</span><p>
<span class="original">
      Fix construction of parameterized BitmapAnd and BitmapOr index scans
      on the inside of partition-wise nestloop joins (Tom Lane)
</span>
パーティション毎の入れ子ループ結合の内側における、パラメータ付きのBitmapAndとBitmapOrのインデックススキャンの構築を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      A plan in which such a scan needed to use a value from the outside
      of the join would usually crash at execution.
</span>
このような結合の外側からの値を必要とするスキャンでのプランは、実行時にたいていクラッシュを引き起こしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7a980dfc6] 2020-08-05 15:38:55 -0400
Branch: REL_13_STABLE [c43a36fa8] 2020-08-05 15:38:55 -0400
Branch: REL_12_STABLE [f992da210] 2020-08-05 15:38:55 -0400
</span><p>
<span class="original">
      Fix incorrect plan execution when a partitioned table is subject to
      both static and run-time partition pruning in the same query, and a
      new partition is added concurrently with the query (Amit Langote,
      Tom Lane)
</span>
パーティションテーブルが同じ問い合わせで静的パーティション除外と実行時パーティション除外の両方の対象となる場合であって、新たなパーティションがその問い合わせと同時に追加されたときの、不正なプラン実行を修正しました。
(Amit Langote, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [470687b4a] 2020-08-08 12:31:55 -0400
Branch: REL_13_STABLE [900429d0c] 2020-08-08 12:31:55 -0400
Branch: REL_12_STABLE [85cb4ec50] 2020-08-08 12:31:55 -0400
Branch: REL_11_STABLE [1fa6eec97] 2020-08-08 12:31:55 -0400
Branch: REL_10_STABLE [d81387da9] 2020-08-08 12:31:55 -0400
Branch: REL9_6_STABLE [55d42c917] 2020-08-08 12:31:55 -0400
Branch: REL9_5_STABLE [ca8e87ea0] 2020-08-08 12:31:55 -0400
</span><p>
<span class="original">
      In logical replication walsender, fix failure to send feedback
      messages after sending a keepalive message (&amp;Aacute;lvaro Herrera)
</span>
ロジカルレプリケーションのwalsenderで、キープアライブメッセージ送信後のフィードバックメッセージ送信の失敗を修正しました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      This is a relatively minor problem when using built-in logical
      replication, because the built-in walreceiver will send a feedback
      reply (which clears the incorrect state) fairly frequently anyway.
      But with some other replication systems, such
      as &lt;application&gt;pglogical&lt;/application&gt;, it causes significant
      performance issues.
</span>
組み込みのwalreceiverはいずれにせよ（誤った状態を解消する）フィードバック返信をかなり高頻度で送るため、組み込みのロジカルレプリケーションを使っている場合はこれは相対的に小さな問題です。
しかし、<span class="application">pglogical</span>のような一部の他のレプリケーションシステムでは、重大な性能問題を引き起こします。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d5daae47d] 2020-07-20 13:40:16 -0400
Branch: REL_13_STABLE [2f1f189cf] 2020-07-20 13:40:16 -0400
Branch: REL_12_STABLE [71e561bd4] 2020-07-20 13:40:16 -0400
Branch: REL_11_STABLE [e8de627a3] 2020-07-20 13:40:16 -0400
Branch: REL_10_STABLE [39d6aec19] 2020-07-20 13:40:16 -0400
</span><p>
<span class="original">
      Fix firing of column-specific &lt;literal&gt;UPDATE&lt;/literal&gt; triggers in
      logical replication subscribers (Tom Lane)
</span>
ロジカルレプリケーションのサブスクライバーで列指定<code class="literal">UPDATE</code>トリガーの起動を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      The code neglected to account for the possibility of column numbers
      being different between the publisher and subscriber tables, so that
      if those were indeed different, wrong decisions might be made about
      which triggers to fire.
</span>
このコードではパブリッシャ―とサブスクライバ―のテーブル間で列数が異なる可能性に対して考慮を怠っていて、実際に異なっていた場合、どのトリガを起動するかについて誤った判断をするかもしれませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [b48df818d] 2020-06-18 16:34:59 +0900
Branch: REL_13_STABLE [43e70addf] 2020-06-18 16:35:29 +0900
Branch: REL_12_STABLE [16f43122d] 2020-06-18 16:35:32 +0900
Branch: REL_11_STABLE [1657e14b5] 2020-06-18 16:35:36 +0900
</span><p>
<span class="original">
      Update oldest xmin and LSN values
      during &lt;function&gt;pg_replication_slot_advance()&lt;/function&gt; (Michael
      Paquier)
</span>
<code class="function">pg_replication_slot_advance()</code>実行時に最も古いxmin値とLSN値を更新するようにしました。
(Michael Paquier)
     </p><p>
<span class="original">
      This function previously failed to do that, possibly preventing
      resource cleanup (such as removal of no-longer-needed WAL segments)
      after manual advancement of a replication slot.
</span>
これまで本関数はこれを実行できておらず、レプリケーションスロットの手動前進の後にリソースのクリーンアップ（不要となったWALセグメントの削除など）を妨げるかもしれませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [78e73e875] 2020-07-31 11:43:12 -0400
Branch: REL_13_STABLE [11dce63d6] 2020-07-31 11:43:12 -0400
Branch: REL_12_STABLE [70248d8f5] 2020-07-31 11:43:12 -0400
Branch: REL_11_STABLE [da596fb4b] 2020-07-31 11:43:12 -0400
Branch: REL_10_STABLE [5e724125a] 2020-07-31 11:43:12 -0400
Branch: REL9_6_STABLE [8ab00b9fe] 2020-07-31 11:43:13 -0400
</span><p>
<span class="original">
      Fix slow execution of &lt;function&gt;ts_headline()&lt;/function&gt; (Tom Lane)
</span>
<code class="function">ts_headline()</code>の低速な実行を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      The phrase-search fix added in our previous set of minor releases
      could cause &lt;function&gt;ts_headline()&lt;/function&gt; to take unreasonable
      amounts of time for long documents; to make matters worse, the query
      was not cancellable within the troublesome loop.
</span>
以前のマイナーリリースで加えられた複数のフレーズ検索の修正が、長い文章に対して<code class="function">ts_headline()</code>に不合理に大きな時間をとらせる可能性があり、更に悪いことに、問い合わせは手数のかかるループ内でキャンセルできませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Joe Conway &lt;mail@joeconway.com&gt;
Branch: master Release: REL_13_BR [887cdff4d] 2020-05-28 13:19:00 -0400
Branch: REL_12_STABLE [3ccae5445] 2020-05-28 13:19:10 -0400
Branch: REL_11_STABLE [36758c472] 2020-05-28 13:19:16 -0400
Branch: REL_10_STABLE [2cbe3a954] 2020-05-28 13:17:11 -0400
Branch: REL9_6_STABLE [28e2c6eac] 2020-05-28 13:17:20 -0400
Branch: REL9_5_STABLE [bfb9595a7] 2020-05-28 13:17:28 -0400
</span><p>
<span class="original">
      Ensure the &lt;function&gt;repeat()&lt;/function&gt; function can be interrupted
      by query cancel (Joe Conway)
</span>
<code class="function">repeat()</code>関数が問い合わせのキャンセルで確実に中断できるようにしました。
(Joe Conway)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [183926da3] 2020-07-09 16:02:23 -0400
Branch: REL_13_STABLE [601d419b2] 2020-07-09 16:02:23 -0400
Branch: REL_12_STABLE [2564e2d08] 2020-07-09 16:02:23 -0400
Branch: REL_11_STABLE [90b418f81] 2020-07-09 16:02:23 -0400
Branch: REL_10_STABLE [765ad260a] 2020-07-09 16:02:23 -0400
</span><p>
<span class="original">
      Fix &lt;function&gt;pg_current_logfile()&lt;/function&gt; to not include a
      carriage return (&lt;literal&gt;\r&lt;/literal&gt;) in its result on Windows
      (Tom Lane)
</span>
Windowsにおいて<code class="function">pg_current_logfile()</code>が結果に復帰(<code class="literal">\r</code>)を含めないように修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Joe Conway &lt;mail@joeconway.com&gt;
Branch: master [96d1f423f] 2020-07-04 06:26:53 -0400
Branch: REL_13_STABLE [0025c3a2c] 2020-07-04 06:28:21 -0400
Branch: REL_12_STABLE [015e899a7] 2020-07-04 06:28:44 -0400
Branch: REL_11_STABLE [c2cdaf0cb] 2020-07-04 06:29:03 -0400
Branch: master [1d05627fc] 2020-07-04 13:46:31 -0400
Branch: REL_13_STABLE [c536da177] 2020-07-04 13:47:07 -0400
Branch: REL_12_STABLE [b615b2365] 2020-07-04 13:47:21 -0400
Branch: REL_11_STABLE [1243aa9b2] 2020-07-04 13:47:31 -0400
</span><p>
<span class="original">
      Ensure that &lt;function&gt;pg_read_file()&lt;/function&gt; and related
      functions read until EOF is reached (Joe Conway)
</span>
<code class="function">pg_read_file()</code>と関連する関数がEOFに達するまで読むことを保証しました。
(Joe Conway)
     </p><p>
<span class="original">
      Previously, if not given a specific data length to read, these
      functions would stop at whatever file length was reported
      by &lt;function&gt;stat()&lt;/function&gt;.  That's unhelpful for pipes and
      other sorts of virtual files.
</span>
これまでは読み取るデータ長が明示されていない場合、<code class="function">stat()</code>で報告されたファイル長で何であれ停止していました。
この動作はパイプや他の種類の仮想ファイルに対しては役に立ちません。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [df646509f] 2020-07-11 03:21:00 +0300
Branch: REL_13_STABLE [89a0b1a7c] 2020-07-11 03:21:48 +0300
Branch: REL_12_STABLE [f4ae676e3] 2020-07-11 03:21:57 +0300
</span><p>
<span class="original">
      Forbid numeric &lt;literal&gt;NaN&lt;/literal&gt; values in &lt;type&gt;jsonpath&lt;/type&gt;
      computations (Alexander Korotkov)
</span>
<code class="type">jsonpath</code>の計算で数値の<code class="literal">NaN</code>を禁止しました。
(Alexander Korotkov)
     </p><p>
<span class="original">
      Neither SQL nor JSON have the concept of &lt;literal&gt;NaN&lt;/literal&gt;
      (not-a-number), but the &lt;type&gt;jsonpath&lt;/type&gt; code attempted to
      allow such values anyway.  This necessarily leads to nonstandard
      behavior, so it seems better to reject such values at the outset.
</span>
SQLにもJSONにも<code class="literal">NaN</code>（not-a-number、非数）という概念はありませんが、<code class="type">jsonpath</code>のコードはこのような値をそれでも受け付けようと試みていました。
これは必然的に非標準の動作をもたらすため、このような値は最初から拒絶するのが良いと思われます。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [03109a530] 2020-06-13 13:43:40 -0400
Branch: REL_13_STABLE [33dd9bb3b] 2020-06-13 13:43:40 -0400
Branch: REL_12_STABLE [874372a94] 2020-06-13 13:43:24 -0400
</span><p>
<span class="original">
      Handle single &lt;literal&gt;Inf&lt;/literal&gt; or &lt;literal&gt;NaN&lt;/literal&gt;
      inputs correctly in floating-point aggregates (Tom Lane)
</span>
浮動小数点の集約で単一の<code class="literal">Inf</code>や<code class="literal">NaN</code>の入力を正しく扱うようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      The affected aggregates are
      &lt;function&gt;corr()&lt;/function&gt;,
      &lt;function&gt;covar_pop()&lt;/function&gt;,
      &lt;function&gt;regr_intercept()&lt;/function&gt;,
      &lt;function&gt;regr_r2()&lt;/function&gt;,
      &lt;function&gt;regr_slope()&lt;/function&gt;,
      &lt;function&gt;regr_sxx()&lt;/function&gt;,
      &lt;function&gt;regr_sxy()&lt;/function&gt;,
      &lt;function&gt;regr_syy()&lt;/function&gt;,
      &lt;function&gt;stddev_pop()&lt;/function&gt;, and
      &lt;function&gt;var_pop()&lt;/function&gt;.
      The correct answer in such cases is &lt;literal&gt;NaN&lt;/literal&gt;, but an
      algorithmic change introduced in &lt;productname&gt;PostgreSQL&lt;/productname&gt;
      v12 had caused these aggregates to produce zero instead.
</span>
影響を受ける集約は、<code class="function">corr()</code>、<code class="function">covar_pop()</code>、<code class="function">regr_intercept()</code>、<code class="function">regr_r2()</code>、<code class="function">regr_slope()</code>、<code class="function">regr_sxx()</code>、<code class="function">regr_sxy()</code>、<code class="function">regr_syy()</code>、<code class="function">stddev_pop()</code>、および、<code class="function">var_pop()</code>です。
このような場合の正しい答えは<code class="literal">NaN</code>ですが、<span class="productname">PostgreSQL</span> v12で導入されたアルゴリズム変更のために、これらの集約が代わりにゼロを返すようになっていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [77a3be32f] 2020-06-11 17:38:42 -0400
Branch: REL_13_STABLE [ee788ba99] 2020-06-11 17:38:42 -0400
Branch: REL_12_STABLE [4284e1184] 2020-06-11 17:38:42 -0400
Branch: REL_11_STABLE [49e0a42dd] 2020-06-11 17:38:42 -0400
Branch: REL_10_STABLE [411a4626e] 2020-06-11 17:38:42 -0400
Branch: REL9_6_STABLE [36df06e25] 2020-06-11 17:38:42 -0400
</span><p>
<span class="original">
      Fix mis-handling of &lt;literal&gt;NaN&lt;/literal&gt; inputs during parallel
      aggregation on &lt;type&gt;numeric&lt;/type&gt;-type columns (Tom Lane)
</span>
並列集約時の<code class="type">numeric</code>型の列における<code class="literal">NaN</code>入力の誤った処理を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      If some partial aggregation workers found only &lt;literal&gt;NaN&lt;/literal&gt;s
      while others found only non-&lt;literal&gt;NaN&lt;/literal&gt;s, the results
      were combined incorrectly, possibly leading to the wrong overall
      result (i.e., not &lt;literal&gt;NaN&lt;/literal&gt; when it should be).
</span>
一部の部分集約ワーカーが<code class="literal">NaN</code>だけを見つけ、一方で他のワーカーは非<code class="literal">NaN</code>だけを見つけた場合、誤った全体結果（すなわち、<code class="literal">NaN</code>であるべきときに<code class="literal">NaN</code>でない）をもたらす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_13_BR [a9632830b] 2020-06-04 16:42:23 -0400
Branch: REL_12_STABLE [a958b07bc] 2020-06-04 16:42:08 -0400
Branch: REL_11_STABLE [6490376e5] 2020-06-04 16:42:08 -0400
Branch: REL_10_STABLE [b2c64f571] 2020-06-04 16:42:08 -0400
Branch: REL_10_STABLE [9a9ba4c4d] 2020-06-04 17:57:19 -0400
</span><p>
<span class="original">
      Reject time-of-day values greater than 24 hours (Tom Lane)
</span>
24時間を超える時刻を拒絶するようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      The intention of the datetime input code is to
      allow &lt;quote&gt;24:00:00&lt;/quote&gt; or
      equivalently &lt;quote&gt;23:59:60&lt;/quote&gt;, but no larger value.
      However, the range check was miscoded so that it would
      accept &lt;quote&gt;23:59:60.&lt;replaceable&gt;nnn&lt;/replaceable&gt;&lt;/quote&gt; with
      nonzero fractional-second &lt;replaceable&gt;nnn&lt;/replaceable&gt;.  In
      timestamp values this would result in wrapping into the first second
      of the next day.  In &lt;type&gt;time&lt;/type&gt; and &lt;type&gt;timetz&lt;/type&gt;
      values, the stored value would actually be more than 24 hours,
      causing dump/reload failures and possibly other misbehavior.
</span>
日付時刻入力のコードの意図は<span class="quote">「<span class="quote">24:00:00</span>」</span>や等価の<span class="quote">「<span class="quote">23:59:60</span>」</span>を許容することであって、より大きい値は許しません。
しかしながら、ゼロでない小数秒<em class="replaceable"><code>nnn</code></em>を伴う<span class="quote">「<span class="quote">23:59:60.<em class="replaceable"><code>nnn</code></em></span>」</span>を受け付けてしまうように、範囲検査が誤って実装されていました。
timestampの値では、これは翌日の最初の秒に折り返される結果になりました。
<code class="type">time</code>と<code class="type">timetz</code>の値では、格納された値が実際に24時間より大きくなり、ダンプ／リロードの失敗と場合によっては他の誤動作を引き起こしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [63d2ac23b] 2020-06-22 11:46:41 -0400
Branch: REL_13_STABLE [57f8b9913] 2020-06-22 11:46:41 -0400
Branch: REL_12_STABLE [d3d875518] 2020-06-22 11:46:41 -0400
Branch: REL_11_STABLE [35a8e227e] 2020-06-22 11:46:41 -0400
Branch: REL_10_STABLE [6d9f7a094] 2020-06-22 11:46:41 -0400
Branch: REL9_6_STABLE [bd53ea2b2] 2020-06-22 11:46:41 -0400
Branch: REL9_5_STABLE [dda25c599] 2020-06-22 11:46:41 -0400
</span><p>
<span class="original">
      Undo double-quoting of index names in &lt;command&gt;EXPLAIN&lt;/command&gt;'s
      non-text output formats (Tom Lane, Euler Taveira)
</span>
<code class="command">EXPLAIN</code>のテキスト以外の出力形式でインデックス名のダブルクォート付けを戻すようにしました。
(Tom Lane, Euler Taveira)
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [2a2494229] 2020-07-25 10:20:39 +0530
Branch: REL_13_STABLE [b15367ae3] 2020-07-25 10:31:19 +0530
Branch: REL_12_STABLE [bdaa84e38] 2020-07-25 10:38:46 +0530
Branch: REL_11_STABLE [603c18b7e] 2020-07-25 10:48:09 +0530
Branch: REL_10_STABLE [f963b5bc0] 2020-07-25 10:57:20 +0530
</span><p>
<span class="original">
      Fix &lt;command&gt;EXPLAIN&lt;/command&gt;'s accounting for resource usage,
      particularly buffer accesses, in parallel workers in a plan
      using &lt;literal&gt;Gather Merge&lt;/literal&gt; nodes
      (Jehan-Guillaume de Rorthais)
</span>
<code class="literal">Gather Merge</code>ノードを使うプランのパラレルワーカーで<code class="command">EXPLAIN</code>のリソース使用について、とりわけバッファアクセスについて、計算を修正しました。
(Jehan-Guillaume de Rorthais)
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [f1fcf2d3b] 2020-07-14 16:55:35 +1200
Branch: REL_13_STABLE [b82730429] 2020-07-14 16:57:41 +1200
Branch: REL_12_STABLE [1231a0b0e] 2020-07-14 17:03:12 +1200
Branch: REL_11_STABLE [d2761b680] 2020-07-14 16:59:57 +1200
Branch: REL_10_STABLE [4e02f88a4] 2020-07-14 17:00:28 +1200
Branch: REL9_6_STABLE [c732df133] 2020-07-14 17:00:57 +1200
Branch: REL9_5_STABLE [e20003fa0] 2020-07-14 17:01:25 +1200
</span><p>
<span class="original">
      Fix timing of constraint revalidation in &lt;command&gt;ALTER
      TABLE&lt;/command&gt; (David Rowley)
</span>
<code class="command">ALTER TABLE</code>で制約の再検証のタイミングを修正しました。
(David Rowley)
     </p><p>
<span class="original">
      If &lt;command&gt;ALTER TABLE&lt;/command&gt; needs to fully rewrite the table's
      contents (for example, due to change of a column's data type) and
      also needs to scan the table to re-validate foreign keys
      or &lt;literal&gt;CHECK&lt;/literal&gt; constraints, it sometimes did things in
      the wrong order, leading to odd errors such as &lt;quote&gt;could not read
      block 0 in file "base/nnnnn/nnnnn": read only 0 of 8192 bytes&lt;/quote&gt;.
</span>
<code class="command">ALTER TABLE</code>が（例えば列のデータ型を変更するために）テーブル内容を完全に書き直す必要があり、また、外部キーや<code class="literal">CHECK</code>制約を再検証するためテーブルをスキャンする必要がある場合、しばしば誤った順序で実行していて、<span class="quote">「<span class="quote">could not read block 0 in file "base/nnnnn/nnnnn": read only 0 of 8192 bytes（ファイルbase/nnnnn/nnnnnのブロック0が読めません）</span>」</span>といった奇妙なエラーをもたらしました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [1127f0e39] 2020-06-05 10:26:02 +0900
Branch: REL_12_STABLE [75f147924] 2020-06-05 10:29:27 +0900
</span><p>
<span class="original">
      Fix &lt;command&gt;REINDEX CONCURRENTLY&lt;/command&gt; to preserve the index's
      replication identity flag (Michael Paquier)
</span>
<code class="command">REINDEX CONCURRENTLY</code>がインデックスのレプリケーションアイデンティティのフラグを維持するように修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      Previously, reindexing a table's replica identity index caused the
      setting to be lost, preventing old tuple values from being included
      in future logical-decoding output.
</span>
これまでは、テーブルのレプリカアイデンティティのインデックスを再構築すると設定が失われ、将来の論理デコード出力に古いタプル値が含まれなくなる原因となっていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: REL_12_STABLE [798b4faef] 2020-07-20 15:54:24 -0400
Branch: REL_11_STABLE [855195a7b] 2020-07-20 15:54:24 -0400
Branch: REL_12_STABLE [b7103bbe3] 2020-07-21 11:40:46 -0400
Branch: REL_11_STABLE [99b0c5da3] 2020-07-21 11:40:47 -0400
Branch: REL_10_STABLE [ae3d40b0c] 2020-07-21 11:40:47 -0400
</span><p>
<span class="original">
      Work around incorrect not-null markings for
      &lt;structname&gt;pg_subscription&lt;/structname&gt;.&lt;structfield&gt;subslotname&lt;/structfield&gt;
      and &lt;structname&gt;pg_subscription_rel&lt;/structname&gt;.&lt;structfield&gt;srsublsn&lt;/structfield&gt;
      (Tom Lane)
</span>
<code class="structname">pg_subscription</code>.<code class="structfield">subslotname</code>と<code class="structname">pg_subscription_rel</code>.<code class="structfield">srsublsn</code>に対する不正確な非NULLの印付けを回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      The bootstrap catalog data incorrectly marks these two catalog
      columns as always non-null.  There's no easy way to correct that
      mistake in existing installations (though v13 and later will have
      the correct markings).  The main place that depends on that marking
      being correct is JIT-enabled tuple deconstruction, so teach it to
      explicitly ignore the marking for these two columns.  Also adjust
      some C code that accessed &lt;structfield&gt;srsublsn&lt;/structfield&gt; without
      checking to see if it's null; a crash from that is improbable but
      perhaps not impossible.
</span>
ブートストラップカタログデータはこれら二つのカタログ列を誤って常に非NULLと印付けします。
（v13以降は正しい印付けになりますが）既存のインストレーションでこの誤りを正す簡単な方法がありません。
この印付けに依存する主な場所はJIT有効時のタプル分解で、そのため、これら2列に対する印付けを明示的に無視させるようにしました。
また、NULLであるかの検査無しに<code class="structfield">srsublsn</code>にアクセスしていたCコードを修正しました。
これによるクラッシュは無さそうですが、おそらく不可能ではありません。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [a742ecf9c] 2020-07-13 20:38:20 -0400
Branch: REL_13_STABLE [0734dbc45] 2020-07-13 20:38:20 -0400
Branch: REL_12_STABLE [d3b642ad9] 2020-07-13 20:38:21 -0400
Branch: REL_11_STABLE [3753df8f8] 2020-07-13 20:38:21 -0400
Branch: REL_10_STABLE [6443cd2e2] 2020-07-13 20:38:21 -0400
Branch: REL9_6_STABLE [dc6bb0994] 2020-07-13 20:38:21 -0400
Branch: REL9_5_STABLE [80d8f6d1d] 2020-07-13 20:38:21 -0400
</span><p>
<span class="original">
      Cope with &lt;literal&gt;LATERAL&lt;/literal&gt; references in restriction
      clauses attached to an un-flattened sub-&lt;literal&gt;SELECT&lt;/literal&gt; in
      the &lt;literal&gt;FROM&lt;/literal&gt; clause (Tom Lane)
</span>
<code class="literal">FROM</code>句で平坦化されていない副<code class="literal">SELECT</code>に付加された条件句の<code class="literal">LATERAL</code>参照をうまく処理するようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      This oversight could result in assertion failures or crashes at
      query execution.
</span>
この見落としにより、問い合わせの実行でアサート失敗やクラッシュを引き起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_13_BR [044c99bc5] 2020-06-05 16:18:50 -0400
Branch: REL_12_STABLE [022cd0bfd] 2020-06-05 16:18:50 -0400
Branch: master [bd0d893aa] 2020-07-21 19:41:03 -0400
Branch: REL_13_STABLE [cc4dd2a7a] 2020-07-21 19:40:44 -0400
Branch: REL_12_STABLE [171633ff5] 2020-07-21 19:40:44 -0400
</span><p>
<span class="original">
      Use the query-specified collation for operators invoked during
      selectivity estimation (Tom Lane)
</span>
選択率の見積もりで実行された演算子に対して問い合わせで指定した照合順序を使用するようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      Previously, the collation of the underlying database column was
      used.  But using the query's collation is arguably more correct.
      More importantly, now that we have nondeterministic collations,
      there are cases where an operator will fail outright if given a
      nondeterministic collation.  We don't want planning to fail in cases
      where the query itself would work, so this means that we must use
      the query's collation when invoking operators for estimation
      purposes.
</span>
これまでは、データベースの列に基づく照合順序が使われていました。
しかし、問い合わせの照合順序を使う方が間違いなく適正です。
さらに重要なことには、現在は非決定的照合順序があるため、非決定的照合順序が演算子に与えられた際に完全に失敗する場合があります。
問い合わせ自体が動作するであろうときにプラン作成が失敗するのは望まれないため、このことは、見積用の演算子の実行には問い合わせの照合順序を使わなければならないことを意味します。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ca5e93f76] 2020-07-03 19:01:21 -0400
Branch: REL_13_STABLE [9233624b1] 2020-07-03 19:01:21 -0400
Branch: REL_12_STABLE [153c14cdd] 2020-07-03 19:01:21 -0400
Branch: REL_11_STABLE [ef799bdd0] 2020-07-03 19:01:21 -0400
Branch: REL_10_STABLE [5144a40f3] 2020-07-03 19:01:22 -0400
Branch: REL9_6_STABLE [69a3fe6e6] 2020-07-03 19:01:22 -0400
Branch: REL9_5_STABLE [d83d59e42] 2020-07-03 19:01:22 -0400
</span><p>
<span class="original">
      Avoid believing that a never-analyzed foreign table has zero tuples
      (Tom Lane)
</span>
一度もアナライズされていない外部テーブルを0行であると思わないようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      This primarily affected the planner's estimate of the number of
      groups that would be obtained by &lt;literal&gt;GROUP BY&lt;/literal&gt;.
</span>
これは主にプランナの<code class="literal">GROUP BY</code>で得られるグループ数の見積もりに影響しました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [986529ce4] 2020-07-09 20:13:25 -0400
Branch: REL_13_STABLE [c3a79e719] 2020-07-09 20:13:25 -0400
Branch: REL_12_STABLE [ca5001a36] 2020-07-09 20:13:25 -0400
Branch: REL_11_STABLE [907283576] 2020-07-09 20:13:25 -0400
Branch: REL_10_STABLE [40316dfed] 2020-07-09 20:13:24 -0400
</span><p>
<span class="original">
      Remove bogus warning about &lt;quote&gt;leftover placeholder tuple&lt;/quote&gt;
      in BRIN index de-summarization (&amp;Aacute;lvaro Herrera)
</span>
BRINインデックスの非サマリー化で間違った「leftover placeholder tuple（残余のプレースホルダタプル）」に関する警告を除きました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      The case can occur legitimately after a cancelled vacuum, so warning
      about it is overly noisy.
</span>
キャンセルされたバキュームの後に正常動作で生じることがありうるため、これに関する警告は過剰なノイズです。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f7b5988cc] 2020-07-03 17:01:34 -0400
Branch: REL_13_STABLE [cfe89f5e6] 2020-07-03 17:01:34 -0400
Branch: REL_12_STABLE [8b83e0160] 2020-07-03 17:01:34 -0400
Branch: REL_11_STABLE [79ed1d99d] 2020-07-03 17:01:34 -0400
Author: Magnus Hagander &lt;magnus@hagander.net&gt;
Branch: master [ecd9e9f0b] 2020-07-03 15:09:06 +0200
Branch: REL_13_STABLE [1d94c3965] 2020-07-03 15:10:12 +0200
Branch: REL_12_STABLE [28a862e9d] 2020-07-03 15:10:33 +0200
Branch: REL_11_STABLE [4aa02d072] 2020-07-03 15:10:41 +0200
</span><p>
<span class="original">
      Fix selection of tablespaces for &lt;quote&gt;shared fileset&lt;/quote&gt;
      temporary files (Magnus Hagander, Tom Lane)
</span>
<span class="quote">「<span class="quote">共有ファイルセット</span>」</span>一時ファイルに対するテーブル空間の選択を修正しました。
(Magnus Hagander, Tom Lane)
     </p><p>
<span class="original">
      If &lt;varname&gt;temp_tablespaces&lt;/varname&gt; is empty or explicitly names
      the database's primary tablespace, such files got placed into
      the &lt;literal&gt;pg_default&lt;/literal&gt; tablespace rather than the
      database's primary tablespace as expected.
</span>
<code class="varname">temp_tablespaces</code>が空あるいは明示的にデータベースの主テーブル空間が指定された場合に、このファイルは予期されるデータベースの主テーブル空間ではなく、<code class="literal">pg_default</code>テーブル空間に置かれました。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [a44dd932f] 2020-06-20 17:34:51 +0300
Branch: REL_13_STABLE [39aafc88c] 2020-06-20 18:14:51 +0300
Branch: REL_12_STABLE [396a44a01] 2020-06-20 17:35:55 +0300
Branch: REL_11_STABLE [3f88e2d78] 2020-06-20 17:35:59 +0300
</span><p>
<span class="original">
      Fix corner-case error in masking of SP-GiST index pages during WAL
      consistency checking (Alexander Korotkov)
</span>
WAL整合性検査時のSP-GiSTインデックスページのマスキングにおいて稀な場合のエラーが修正されました。
(Alexander Korotkov)
     </p><p>
<span class="original">
      This could cause false failure reports
      when &lt;varname&gt;wal_consistency_checking&lt;/varname&gt; is enabled.
</span>
これは<code class="varname">wal_consistency_checking</code>が有効のときに偽の失敗を報告する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [7897e3bb9] 2020-06-16 16:59:07 +1200
Branch: REL_13_STABLE [3e0b08c40] 2020-06-16 17:00:06 +1200
Branch: REL_12_STABLE [28ee12669] 2020-06-16 17:00:21 +1200
Branch: REL_11_STABLE [9c14d6024] 2020-06-16 17:00:37 +1200
Branch: REL_10_STABLE [95647a1c7] 2020-06-16 17:00:53 +1200
Branch: REL9_6_STABLE [02b71f06b] 2020-06-16 17:01:07 +1200
Branch: REL9_5_STABLE [89020a92f] 2020-06-16 17:01:22 +1200
Branch: master [42dee8b8e] 2020-07-23 21:10:49 +1200
Branch: REL_13_STABLE [6b366190d] 2020-07-23 21:15:01 +1200
Branch: REL_12_STABLE [8bf4e69a7] 2020-07-23 21:17:47 +1200
Branch: REL_11_STABLE [028f0c3a8] 2020-07-23 21:18:02 +1200
Branch: REL_10_STABLE [fac4145bf] 2020-07-23 21:18:13 +1200
Branch: REL9_6_STABLE [47adb2488] 2020-07-23 21:18:25 +1200
Branch: REL9_5_STABLE [3725c8ce4] 2020-07-23 21:18:34 +1200
</span><p>
<span class="original">
      Improve error handling in the server's &lt;filename&gt;buffile&lt;/filename&gt;
      module (Thomas Munro)
</span>
サーバの<code class="filename">buffile</code>モジュールでのエラー処理を改善しました。
(Thomas Munro)
     </p><p>
<span class="original">
      Fix some cases where I/O errors were indistinguishable from reaching
      EOF, or were not reported at all.  Also add details such as block
      numbers and byte counts where appropriate.
</span>
I/OエラーがEOFに達したのと区別できなかったり、全く報告されなかった、いくつかの場合について修正しました。
また、適切な個所にブロック番号とバイト数などの詳細を加えました。
     </p></li><li class="listitem"><span class="original">
Author: Peter Geoghegan &lt;pg@bowt.ie&gt;
Branch: master [5940ffb22] 2020-06-11 10:09:47 -0700
Branch: REL_13_STABLE [6df7105e5] 2020-06-11 10:09:45 -0700
Branch: REL_12_STABLE [e620a38c2] 2020-06-11 10:09:43 -0700
Branch: REL_11_STABLE [dd616f2ec] 2020-06-11 10:09:40 -0700
Branch: REL_10_STABLE [19a6e1bc3] 2020-06-11 10:09:37 -0700
Branch: REL9_6_STABLE [e81dc2b7e] 2020-06-11 10:09:35 -0700
Branch: REL9_5_STABLE [c05f6b354] 2020-06-11 10:09:32 -0700
</span><p>
<span class="original">
      Fix conflict-checking anomalies in &lt;literal&gt;SERIALIZABLE&lt;/literal&gt;
      isolation mode (Peter Geoghegan)
</span>
<code class="literal">SERIALIZABLE</code>隔離モードで衝突検査の異常を修正しました。
(Peter Geoghegan)
     </p><p>
<span class="original">
      If a concurrently-inserted tuple was updated by a different
      concurrent transaction, and neither tuple version was visible to the
      current transaction's snapshot, serialization conflict checking
      could draw the wrong conclusions about whether the tuple was relevant
      to the results of the current transaction.  This could allow a
      serializable transaction to commit when it should have failed with a
      serialization error.
</span>
同時挿入されたタプルが異なる並行するトランザクションから更新されて、かつ、どちらのタプルバージョンも現在トランザクションのスナップショットから不可視の場合、直列化の衝突検査がどちらのタプルが現在トランザクションの結果に関連するかについて誤った結論を選ぶ可能性がありました。
これによりシリアライザブルトランザクションが直列化エラーで失敗すべきときにコミットできてしまうおそれがありました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_13_BR [242dfcbaf] 2020-05-15 16:50:34 -0400
Branch: REL_12_STABLE [1d84751c6] 2020-05-15 16:50:34 -0400
Branch: REL_11_STABLE [37b5c5fde] 2020-05-15 16:50:34 -0400
Branch: REL_10_STABLE [09f2752b0] 2020-05-15 16:50:34 -0400
Branch: REL9_6_STABLE [4649eb919] 2020-05-15 16:50:34 -0400
Branch: REL9_5_STABLE [0a319699d] 2020-05-15 16:50:34 -0400
</span><p>
<span class="original">
      Avoid repeated marking of dead btree index entries as dead (Masahiko
      Sawada)
</span>
Bツリーインデックスのデッドのエントリを繰り返しデッドと印付けするのを回避しました。
(Masahiko Sawada)
     </p><p>
<span class="original">
      While functionally harmless, this led to useless WAL traffic when
      checksums are enabled or &lt;varname&gt;wal_log_hints&lt;/varname&gt; is on.
</span>
機能的には無害ですが、これは、チェックサムが有効、または、<code class="varname">wal_log_hints</code>がonのときに無駄なWALトラフィックをもたらしました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL_13_BR [e8abf585a] 2020-05-14 08:39:26 +0300
Branch: REL_12_STABLE [891a2007e] 2020-05-14 08:40:19 +0300
</span><p>
<span class="original">
      Fix checkpointer process to discard file sync requests
      when &lt;varname&gt;fsync&lt;/varname&gt; is off (Heikki Linnakangas)
</span>
checkpointerプロセスを<code class="varname">fsync</code>がoffのときにはファイル同期要求を捨てるように修正しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      Such requests are treated as no-ops if &lt;varname&gt;fsync&lt;/varname&gt; is
      off, but we forgot to remove them from the checkpointer's table of
      pending actions.  This would lead to bloat of that table, as well as
      possible assertion failures if &lt;varname&gt;fsync&lt;/varname&gt; is later
      re-enabled.
</span>
このような要求は<code class="varname">fsync</code>がoffなら、何もしないものとして処理されますが、checkpointerのペンディングアクションテーブルから取り除くのを忘れていました。
これは、このテーブルの肥大化を招き、<code class="varname">fsync</code>が後に再び有効化された場合にはアサート失敗をもたらす可能性もありました。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master Release: REL_13_BR [303640199] 2019-12-19 09:06:54 -0500
Branch: REL_12_STABLE [bcbc27251] 2020-08-06 13:58:23 -0400
Branch: REL_11_STABLE [f7013683d] 2020-08-06 14:06:24 -0400
Branch: master Release: REL_13_BR [f05798014] 2020-04-26 13:48:33 +0200
Branch: REL_12_STABLE [7c78040f6] 2020-08-06 14:55:00 -0400
Branch: REL_11_STABLE [495a9b1fb] 2020-08-06 15:01:55 -0400
</span><p>
<span class="original">
      Avoid trouble during cleanup of a non-exclusive backup when JIT
      compilation has been activated during the backup (Robert Haas)
</span>
バックアップ中にJITコンパイルが有効化されていたときの、非排他的なバックアップのクリーンアップ中の問題を回避しました。
(Robert Haas)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [57cb80630] 2020-06-08 13:57:24 +1200
Branch: REL_13_STABLE [acefa2cca] 2020-06-08 13:58:10 +1200
Branch: REL_12_STABLE [72766ad63] 2020-06-08 13:58:35 +1200
Branch: REL_11_STABLE [48eb6a3c8] 2020-06-08 13:59:57 +1200
Branch: REL_10_STABLE [fd11b842e] 2020-06-08 14:01:07 +1200
Branch: REL9_6_STABLE [644cac32a] 2020-06-08 14:01:51 +1200
Branch: REL9_5_STABLE [09dc17486] 2020-06-08 14:02:20 +1200
</span><p>
<span class="original">
      Fix failure of some code paths to acquire the correct lock before
      modifying &lt;filename&gt;pg_control&lt;/filename&gt; (Nathan Bossart, Fujii
      Masao)
</span>
<code class="filename">pg_control</code>を変更する前に正しいロックを取得するように一部のコードパスの障害を修正しました。
(Nathan Bossart, Fujii Masao)
     </p><p>
<span class="original">
      This oversight could allow &lt;filename&gt;pg_control&lt;/filename&gt; to be
      written out with an inconsistent checksum, possibly causing trouble
      later, including inability to restart the database if it crashed
      before the next &lt;filename&gt;pg_control&lt;/filename&gt; update.
</span>
この手落ちのため、<code class="filename">pg_control</code>に一致しないチェックサムで書き出されてしまう可能性があり、次の<code class="filename">pg_control</code>更新の前にクラッシュした際にデータベースを再起動できないことを含め、場合によっては後で問題を起こしました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [ce1c5b9ae] 2020-06-01 14:41:18 +0900
Branch: REL_12_STABLE [894041eb2] 2020-06-01 14:41:25 +0900
Branch: REL_11_STABLE [8bc74490d] 2020-06-01 14:41:32 +0900
Branch: REL_10_STABLE [a36f21620] 2020-06-01 14:41:37 +0900
Branch: REL9_6_STABLE [e2fa9732f] 2020-06-01 14:41:42 +0900
Branch: REL9_5_STABLE [a8c6eb5b4] 2020-06-01 14:41:46 +0900
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [e786be5fc] 2020-06-01 10:32:06 +0900
Branch: REL_12_STABLE [95e389b3c] 2020-06-01 10:32:53 +0900
</span><p>
<span class="original">
      Fix errors in &lt;function&gt;currtid()&lt;/function&gt;
      and &lt;function&gt;currtid2()&lt;/function&gt; (Michael Paquier)
</span>
<code class="function">currtid()</code>と<code class="function">currtid2()</code>でエラーを修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      These functions (which are undocumented and used only by ancient
      versions of the ODBC driver) contained coding errors that could
      result in crashes, or in confusing error messages such as &lt;quote&gt;could
      not open file&lt;/quote&gt; when applied to a relation having no storage.
</span>
これらの（文書化されておらずとても古いバージョンのODBCドライバでのみ使われる）関数にはクラッシュや、ストレージを持たないリレーションに適用するときの<span class="quote">「<span class="quote">could not open file（ファイルが開けません）</span>」</span>といった混乱したエラーメッセージをもたらすコーディングの誤りが含まれていました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [c1669fd58] 2020-06-04 10:17:49 +0900
Branch: REL_12_STABLE [03aa25b6e] 2020-06-04 10:18:02 +0900
Branch: REL_11_STABLE [b41a85f53] 2020-06-04 10:18:06 +0900
Branch: REL_10_STABLE [5ed8b4a98] 2020-06-04 10:18:11 +0900
Branch: REL9_6_STABLE [e7a134b58] 2020-06-04 10:18:17 +0900
Branch: REL9_5_STABLE [4a9809e34] 2020-06-04 10:18:27 +0900
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_13_BR [f88bd3139] 2020-06-03 12:36:23 -0400
Branch: REL_12_STABLE [3d474a079] 2020-06-03 12:36:24 -0400
Branch: REL_11_STABLE [7a8cb4a61] 2020-06-03 12:36:00 -0400
Branch: REL_10_STABLE [0c735c686] 2020-06-03 12:36:00 -0400
</span><p>
<span class="original">
      Avoid calling &lt;function&gt;elog()&lt;/function&gt;
      or &lt;function&gt;palloc()&lt;/function&gt; while holding a spinlock (Michael
      Paquier, Tom Lane)
</span>
スピンロックを持っているときに<code class="function">elog()</code>や<code class="function">palloc()</code>の呼び出しを回避しました。
(Michael Paquier, Tom Lane)
     </p><p>
<span class="original">
      Logic associated with replication slots had several violations of
      this coding rule.  While the odds of trouble are quite low, an error
      in the called function would lead to a stuck spinlock.
</span>
レプリケーションスロットに関するロジックには、このコーディングルール違反がいくつかありました。
問題となる可能性は非常に低いですが、この呼ばれた関数内でのエラーはスピンロックのスタックをもたらすでしょう。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [7ccb2f54d] 2020-05-16 18:15:18 +0900
Branch: REL_12_STABLE [b4ded2f22] 2020-05-16 18:16:31 +0900
Branch: REL_11_STABLE [70ae82b9b] 2020-05-16 18:16:37 +0900
Branch: REL_10_STABLE [3acb30b49] 2020-05-16 18:16:41 +0900
</span><p>
<span class="original">
      Fix assertion in logical replication subscriber to allow use
      of &lt;literal&gt;REPLICA IDENTITY FULL&lt;/literal&gt; (Euler Taveira)
</span>
ロジカルレプリケーションのサブスクライバで<code class="literal">REPLICA IDENTITY FULL</code>が使用できるようにアサートを修正しました。
(Euler Taveira)
     </p><p>
<span class="original">
      This was just an incorrect assertion, so it has no impact on
      standard production builds.
</span>
これは誤ったアサートというだけであって、標準の実運用ビルドでの影響はありません。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_13_BR [7247e243a] 2020-06-07 13:44:13 -0400
Branch: REL_12_STABLE [2edf14f5a] 2020-06-07 13:44:13 -0400
</span><p>
<span class="original">
      Ensure that &lt;application&gt;libpq&lt;/application&gt; continues to try to
      read from the database connection socket after a write failure
      (Tom Lane)
</span>
<span class="application">libpq</span>が書き込み失敗後にデータベース接続のソケットから読み取りを試行し続けることを保証しました。
(Tom Lane)
     </p><p>
<span class="original">
      This is important not only to ensure that we collect any final error
      message from a dying server process, but because we do not consider
      the connection lost until we see a read failure.  This oversight
      allowed &lt;application&gt;libpq&lt;/application&gt; to continue trying to
      send &lt;command&gt;COPY&lt;/command&gt; data indefinitely after a mid-transfer
      loss of connection, rather than reporting failure to the application.
</span>
これはダウンしたサーバプロセスから全ての最終エラーメッセージを確実に収集することのみならず、読み取り失敗に遭遇するまで接続の喪失を認識しないことからも重要です。
この見落としにより、<span class="application">libpq</span>が転送中の接続喪失の後に、アプリケーションに失敗を報告することなく、<code class="command">COPY</code>データを無制限に送信しようとし続けることがあり得ました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [25fe5ac45] 2020-07-13 11:58:08 -0400
Branch: REL_13_STABLE [8e6f134a9] 2020-07-13 11:58:09 -0400
Branch: REL_12_STABLE [e8b22a8a2] 2020-07-13 11:57:55 -0400
</span><p>
<span class="original">
      Fix bugs in &lt;application&gt;libpq&lt;/application&gt;'s management of GSS
      encryption state (Tom Lane)
</span>
<span class="application">libpq</span>のGSS暗号化状態の管理でバグを修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      A connection using GSS encryption could freeze up when attempting to
      reset it after a server restart, or when moving on to the next one of
      a list of candidate servers.
</span>
GSS暗号化を使った接続はサーバ再起動後に接続のリセットを試みた際や候補サーバリストの次に移ったときにフリーズする可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Meskes &lt;meskes@postgresql.org&gt;
Branch: master [e576f71fb] 2020-06-30 18:34:41 +0200
Branch: REL_13_STABLE [70dc45e8c] 2020-06-30 19:35:22 +0200
Branch: REL_12_STABLE [6425d6f6a] 2020-06-30 18:35:21 +0200
</span><p>
<span class="original">
      Fix &lt;application&gt;ecpg&lt;/application&gt; crash with &lt;type&gt;bytea&lt;/type&gt;
      and cursor variables (Jehan-Guillaume de Rorthais)
</span>
<code class="type">bytea</code>とカーソル変数での<span class="application">ecpg</span>のクラッシュを修正しました。
(Jehan-Guillaume de Rorthais)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [ae3259c55] 2020-06-19 16:46:07 -0400
Branch: REL_13_STABLE [e74559c97] 2020-06-19 16:46:07 -0400
Branch: REL_12_STABLE [5b52008a6] 2020-06-19 16:46:07 -0400
Branch: REL_11_STABLE [2e155d90d] 2020-06-19 16:46:07 -0400
Branch: REL_10_STABLE [411febd53] 2020-06-19 16:46:07 -0400
Branch: REL9_6_STABLE [83762d0a9] 2020-06-19 16:46:07 -0400
Branch: REL9_5_STABLE [bbbce94dc] 2020-06-19 16:46:06 -0400
</span><p>
<span class="original">
      Report out-of-disk-space errors properly
      in &lt;application&gt;pg_dump&lt;/application&gt;
      and &lt;application&gt;pg_basebackup&lt;/application&gt; (Justin Pryzby, Tom
      Lane, &amp;Aacute;lvaro Herrera)
</span>
<span class="application">pg_dump</span>と<span class="application">pg_basebackup</span>でディスク容量不足のエラーを適切に報告するようにしました。
(Justin Pryzby, Tom Lane, Álvaro Herrera)
     </p><p>
<span class="original">
      Some code paths could produce silly reports like &lt;quote&gt;could not
      write file: Success&lt;/quote&gt;.
</span>
一部のコードパスは<span class="quote">「<span class="quote">could not write file: Success（ファイルに書き込めません：成功）</span>」</span>のような、ばかげた報告を出す可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f009591d6] 2020-07-17 13:04:05 -0400
Branch: REL_13_STABLE [71e8e66f7] 2020-07-17 13:04:06 -0400
Branch: REL_12_STABLE [66232220e] 2020-07-17 13:03:50 -0400
Branch: master [a8d0732ac] 2020-07-17 13:04:05 -0400
Branch: REL_13_STABLE [447cf2f8e] 2020-07-17 13:04:06 -0400
Branch: REL_12_STABLE [39a068ce6] 2020-07-17 12:14:28 -0400
</span><p>
<span class="original">
      Make &lt;application&gt;pg_restore&lt;/application&gt; cope with
      data-offset-less custom-format archive files when it needs to
      restore data items out of order (David Gilman, Tom Lane)
</span>
<span class="application">pg_restore</span>が順番通りでないデータ要素をリストアする必要があるときにデータオフセットの無いカスタム形式のアーカイブファイルを処理できるようにしました。
(David Gilman, Tom Lane)
     </p><p>
<span class="original">
      &lt;application&gt;pg_dump&lt;/application&gt; will produce such files if it
      cannot seek its output (for example, if the output is piped to
      something).  This fix primarily improves the ability to do a
      parallel restore from such a file.
</span>
<span class="application">pg_dump</span>は出力を走査できない場合（例えば、出力が何かにパイプされていた場合）に、このようなファイルを生成します。
本修正は主にこのようなファイルから並列リストアを実行できるように改善します。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ea9125304] 2020-07-11 13:36:50 -0400
Branch: REL_13_STABLE [bc9aaac1a] 2020-07-11 13:36:50 -0400
Branch: REL_12_STABLE [5fea14f4b] 2020-07-11 13:36:50 -0400
Branch: REL_11_STABLE [4fdc559c8] 2020-07-11 13:36:50 -0400
Branch: REL_10_STABLE [2d43c3057] 2020-07-11 13:36:51 -0400
Branch: REL9_6_STABLE [303322c5a] 2020-07-11 13:36:51 -0400
Branch: REL9_5_STABLE [db820b9a9] 2020-07-11 13:36:51 -0400
</span><p>
<span class="original">
      Fix parallel restore of tables having both table-level privileges
      and per-column privileges (Tom Lane)
</span>
テーブル単位権限と列単位権限の両方を持つテーブルの並列リストアを修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      The table-level privilege grants have to be applied first, but a
      parallel restore did not reliably order them that way; this could
      lead to &lt;quote&gt;tuple concurrently updated&lt;/quote&gt; errors, or to
      disappearance of some per-column privilege grants.  The fix for this
      is to include dependency links between such entries in the archive
      file, meaning that a new dump has to be taken with a
      corrected &lt;application&gt;pg_dump&lt;/application&gt; to ensure that the
      problem will not recur.
</span>
テーブル単位権限が最初に付与されている必要がありますが、並列リストアは確実にはその順番で実行されませんでした。
これにより、<span class="quote">「<span class="quote">tuple concurrently updated（タプルが同時に更新されました）</span>」</span>エラーや、列単位権限の付与の一部消失がもたらされる可能性がありました。
これに対する修正はアーカイブファイルでこのような要素の間の依存性のリンクを含めることで、本問題が再発しないためには修正された<span class="application">pg_dump</span>で新たなダンプを取る必要があることを意味します。
     </p></li><li class="listitem"><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [3f5863e15] 2020-06-15 20:59:40 -0400
Branch: REL_13_STABLE [a2c72851a] 2020-06-15 20:59:40 -0400
Branch: REL_12_STABLE [8e933596c] 2020-06-15 20:59:40 -0400
Branch: REL_11_STABLE [aeb785c0f] 2020-06-15 20:59:40 -0400
Branch: REL_10_STABLE [9170da96d] 2020-06-15 20:59:40 -0400
Branch: REL9_6_STABLE [5c1bfd627] 2020-06-15 20:59:40 -0400
Branch: REL9_5_STABLE [39c698cff] 2020-06-15 20:59:40 -0400
</span><p>
<span class="original">
      Ensure that &lt;application&gt;pg_upgrade&lt;/application&gt; runs
      with &lt;varname&gt;vacuum_defer_cleanup_age&lt;/varname&gt; set to zero in the
      target cluster (Bruce Momjian)
</span>
<span class="application">pg_upgrade</span>がターゲットクラスタで<code class="varname">vacuum_defer_cleanup_age</code>をゼロにして実行するようにしました。
(Bruce Momjian)
     </p><p>
<span class="original">
      If the target cluster's configuration has been modified to
      set &lt;varname&gt;vacuum_defer_cleanup_age&lt;/varname&gt; to a nonzero value,
      that prevented freezing of the system catalogs from working properly,
      which caused the upgrade to fail in confusing ways.  Ensure that any
      such setting is overridden for the duration of the upgrade.
</span>
ターゲットクラスタの設定で<code class="varname">vacuum_defer_cleanup_age</code>が非ゼロ値に修正されていた場合、システムカタログの凍結が適切に動作せず、混乱させるようにアップグレードの失敗を引き起こしました。
そのような設定はアップグレードの間、上書きされるようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master Release: REL_13_BR [cee9cadb5] 2020-05-13 20:42:09 -0700
Branch: REL_12_STABLE [73a5c0d81] 2020-05-13 20:42:24 -0700
Branch: REL_11_STABLE [a26789452] 2020-05-13 20:42:37 -0700
Branch: REL_10_STABLE [970ed4493] 2020-05-13 20:42:42 -0700
Branch: REL9_6_STABLE [1ab5b672e] 2020-05-13 20:42:46 -0700
Branch: REL9_5_STABLE [595b4115c] 2020-05-13 20:42:49 -0700
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master Release: REL_13_BR [8222a9d9a] 2020-05-13 20:42:09 -0700
Branch: REL_12_STABLE [7130be8aa] 2020-05-13 20:42:23 -0700
Branch: REL_11_STABLE [357012e17] 2020-05-13 20:42:34 -0700
Branch: REL_10_STABLE [a28db2081] 2020-05-13 20:42:42 -0700
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_recvlogical&lt;/application&gt; to drain pending
      messages before exiting (Noah Misch)
</span>
<span class="application">pg_recvlogical</span>を終了前に未処理メッセージを捨てるように修正しました。
(Noah Misch)
     </p><p>
<span class="original">
      Without this, the replication sender might detect a send failure and
      exit without making the expected final update to the replication
      slot's LSN position.  That led to re-transmitting data after the
      next connection.  It was also possible to miss error messages sent
      after the last data that &lt;application&gt;pg_recvlogical&lt;/application&gt;
      wants to consume.
</span>
これを行わないと、レプリケーション送信者が送出失敗を検出して、レプリケーションスロットのLSN位置への予期される最終更新の印付けなしに終了するかもしれません。
これは次の接続後にデータの再送出をもたらしました。
また、<span class="application">pg_recvlogical</span>が消費したい最後のデータの後に送られたエラーメッセージを取りこぼす可能性もありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [1d09fb1f0] 2020-07-15 15:17:23 +0900
Branch: REL_13_STABLE [5f89bb4cf] 2020-07-15 15:17:32 +0900
Branch: REL_12_STABLE [92927477f] 2020-07-15 15:17:36 +0900
Branch: REL_11_STABLE [c6d33d144] 2020-07-15 15:17:44 +0900
Branch: REL_10_STABLE [23924feca] 2020-07-15 15:17:49 +0900
Branch: REL9_6_STABLE [14fe80413] 2020-07-15 15:17:55 +0900
Branch: REL9_5_STABLE [18ec25412] 2020-07-15 15:18:01 +0900
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_rewind&lt;/application&gt;'s handling of just-deleted
      files in the source data directory (Justin Pryzby, Michael Paquier)
</span>
<span class="application">pg_rewind</span>のソースデータディレクトリで単に削除されたファイルの処理を修正しました。
(Justin Pryzby, Michael Paquier)
     </p><p>
<span class="original">
      When working with an on-line source database, concurrent file
      deletions are possible, but &lt;application&gt;pg_rewind&lt;/application&gt;
      would get confused if deletion happened between seeing a file's
      directory entry and examining it with &lt;function&gt;stat()&lt;/function&gt;.
</span>
オンラインソースデータベースで動作しているとき、同時のファイル削除が可能でしたが、<span class="application">pg_rewind</span>は、ファイルのディレクトリエントリの走査と<code class="function">stat()</code>による検査との間に削除が生じた場合に混乱していました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [932f9fb50] 2020-07-16 15:52:37 +0900
Branch: REL_13_STABLE [beebbb39d] 2020-07-16 15:52:54 +0900
Branch: REL_12_STABLE [cd113a0b4] 2020-07-16 15:52:58 +0900
Branch: REL_11_STABLE [de559c2b0] 2020-07-16 15:53:01 +0900
Branch: REL_10_STABLE [800ec48f5] 2020-07-16 15:53:04 +0900
Branch: REL9_6_STABLE [a452b239e] 2020-07-16 15:53:09 +0900
Branch: REL9_5_STABLE [ab7ce97ec] 2020-07-16 15:53:12 +0900
</span><p>
<span class="original">
      Make &lt;application&gt;pg_test_fsync&lt;/application&gt; use binary I/O mode on
      Windows (Michael Paquier)
</span>
Windowsで<span class="application">pg_test_fsync</span>がバイナリI/Oモードを使うようにしました。
(Michael Paquier)
     </p><p>
<span class="original">
      Previously it wrote the test file in text mode, which is not an
      accurate reflection of &lt;productname&gt;PostgreSQL&lt;/productname&gt;'s
      actual usage.
</span>
これまではテストファイルをテキストモードで書いていました。これは<span class="productname">PostgreSQL</span>の実際の使用法の正確な投影ではありません。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master Release: REL_13_BR [34dae902c] 2020-05-14 12:44:44 +0300
Branch: REL_12_STABLE [ae1f9b0a9] 2020-05-14 12:46:08 +0300
Branch: REL_11_STABLE [b9a45d8db] 2020-05-14 12:46:15 +0300
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/amcheck&lt;/filename&gt; to not complain about
      deleted index pages that are empty (Alexander Korotkov)
</span>
<code class="filename">contrib/amcheck</code>を削除された空のインデックスページについてエラーを出力しないように修正しました。
(Alexander Korotkov)
     </p><p>
<span class="original">
      This state of affairs is normal during WAL replay.
</span>
この状態はWALリプレイ中では正常です。
     </p></li><li class="listitem"><span class="original">
Author: Joe Conway &lt;mail@joeconway.com&gt;
Branch: master Release: REL_13_BR [9003b76e1] 2020-05-28 13:44:54 -0400
Branch: REL_12_STABLE [e8eb48595] 2020-05-28 13:44:59 -0400
Branch: REL_11_STABLE [49a00e07c] 2020-05-28 13:45:02 -0400
Branch: REL_10_STABLE [43d3d7318] 2020-05-28 13:45:06 -0400
Branch: REL9_6_STABLE [43d7934a3] 2020-05-28 13:45:11 -0400
Branch: REL9_5_STABLE [f140d9b6e] 2020-05-28 13:45:15 -0400
</span><p>
<span class="original">
      Fix failure to initialize local state correctly
      in &lt;filename&gt;contrib/dblink&lt;/filename&gt; (Joe Conway)
</span>
<code class="filename">contrib/dblink</code>でローカル状態を正しく初期化しない障害を修正しました。
(Joe Conway)
     </p><p>
<span class="original">
      With the right combination of circumstances, this could lead to
      &lt;function&gt;dblink_close()&lt;/function&gt; issuing an unexpected
      remote &lt;command&gt;COMMIT&lt;/command&gt;.
</span>
正当な状況の組み合わせで、<code class="function">dblink_close()</code>が予期せぬリモートの<code class="command">COMMIT</code>を発行する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b9b610577] 2020-07-23 17:20:01 -0400
Branch: REL_13_STABLE [7dab4569d] 2020-07-23 17:20:01 -0400
Branch: REL_12_STABLE [3d4a77815] 2020-07-23 17:20:02 -0400
Branch: REL_11_STABLE [475c69c97] 2020-07-23 17:20:03 -0400
Branch: REL_10_STABLE [d8ec3b126] 2020-07-23 17:20:03 -0400
Branch: REL9_6_STABLE [ccf964a80] 2020-07-23 17:20:04 -0400
Branch: REL9_5_STABLE [d0519e9fe] 2020-07-23 17:20:04 -0400
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/pgcrypto&lt;/filename&gt;'s misuse
      of &lt;function&gt;deflate()&lt;/function&gt; (Tom Lane)
</span>
<code class="filename">contrib/pgcrypto</code>の<code class="function">deflate()</code>の誤使用を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      The &lt;function&gt;pgp_sym_encrypt&lt;/function&gt; functions could produce
      incorrect compressed data due to mishandling
      of &lt;application&gt;zlib&lt;/application&gt;'s API requirements.  We have no
      reports of this error manifesting with
      stock &lt;application&gt;zlib&lt;/application&gt;, but it can be seen when using
      IBM's &lt;application&gt;zlibNX&lt;/application&gt; implementation.
</span>
<code class="function">pgp_sym_encrypt</code>関数は、<span class="application">zlib</span> APIの要件を誤って扱っていたため、不正な圧縮データを生成する可能性がありました。
標準的な<span class="application">zlib</span>でこのエラーを示す報告はありませんが、IBMの<span class="application">zlibNX</span>実装を使うときに確認されています。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [a3ab7a707] 2020-07-27 15:58:32 +0900
Branch: REL_13_STABLE [0caf1fc6e] 2020-07-27 15:58:54 +0900
Branch: REL_12_STABLE [5bd087eb5] 2020-07-27 15:58:59 +0900
Branch: REL_11_STABLE [202fc4ca5] 2020-07-27 15:59:03 +0900
Branch: REL_10_STABLE [9729f9979] 2020-07-27 15:59:07 +0900
Branch: REL9_6_STABLE [8a60f541f] 2020-07-27 15:59:13 +0900
Branch: REL9_5_STABLE [aaa132a65] 2020-07-27 15:59:22 +0900
Branch: REL_11_STABLE [1785ac8ad] 2020-08-02 11:00:12 -0400
Branch: REL_10_STABLE [e1b4135cf] 2020-08-02 11:00:12 -0400
</span><p>
<span class="original">
      Fix corner case in decompression logic
      in &lt;filename&gt;contrib/pgcrypto&lt;/filename&gt;'s
      &lt;function&gt;pgp_sym_decrypt&lt;/function&gt; functions (Kyotaro Horiguchi,
      Michael Paquier)
</span>
<code class="filename">contrib/pgcrypto</code>の<code class="function">pgp_sym_decrypt</code>関数における圧縮の展開ロジックで稀な場合の不具合を修正しました。
(Kyotaro Horiguchi, Michael Paquier)
     </p><p>
<span class="original">
      A compressed stream can validly end with an empty packet, but the
      decompressor failed to handle this and would complain about corrupt
      data.
</span>
圧縮されたストリームは空のパケットで正当に終了する可能性がありますが、展開ロジックがこれを扱えず、破損データに関してエラーが出ていました。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master Release: REL_13_BR [a16915545] 2020-05-14 09:24:33 +0530
Branch: REL_12_STABLE [98171e59a] 2020-05-14 09:34:46 +0530
Branch: REL_11_STABLE [1fbfc3d8a] 2020-05-14 09:39:04 +0530
Branch: REL_10_STABLE [33b772801] 2020-05-14 09:44:21 +0530
Branch: REL9_6_STABLE [a1466e194] 2020-05-14 09:50:10 +0530
Branch: REL9_5_STABLE [650952aeb] 2020-05-14 09:55:04 +0530
</span><p>
<span class="original">
      Support building our NLS code with Microsoft Visual Studio 2015 or
      later (Juan Jos&amp;eacute; Santamar&amp;iacute;a Flecha, Davinder Singh,
      Amit Kapila)
</span>
Microsoft Visual Studio 2015以降でNLSコードのビルドに対応しました。
(Juan José Santamaría Flecha, Davinder Singh, Amit Kapila)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_13_BR [d2a995990] 2020-05-21 14:41:15 +0900
Branch: REL_12_STABLE [089baec6f] 2020-05-21 14:41:30 +0900
Branch: REL_11_STABLE [bb24af50d] 2020-05-21 14:41:33 +0900
Branch: REL_10_STABLE [8dfc7d888] 2020-05-21 14:41:36 +0900
Branch: REL9_6_STABLE [57dc672c2] 2020-05-21 14:41:40 +0900
Branch: REL9_5_STABLE [8de137017] 2020-05-21 14:41:43 +0900
</span><p>
<span class="original">
      Avoid possible failure of our MSVC install script when there is a
      file named &lt;filename&gt;configure&lt;/filename&gt; several levels above the
      source code tree (Arnold M&amp;uuml;ller)
</span>
ソースコードツリー上のいくつかの階層に<code class="filename">configure</code>という名前のファイルがあるときに起こりうるMSVCインストールスクリプトの失敗を回避しました。
(Arnold Müller)
     </p><p>
<span class="original">
      This could confuse some logic that looked
      for &lt;filename&gt;configure&lt;/filename&gt; to identify the top level of the
      source tree.
</span>
これは、ソースツリーの最上位階層を識別するために<code class="filename">configure</code>を探している一部のロジックを混乱させる可能性がありました。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-12-3.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">付録E リリースノート </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.2. リリース12.3</td></tr></table></div></body></html>