<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.2. リリース16.2</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release-16-3.html" title="E.1. リリース16.3" /><link rel="next" href="release-16-1.html" title="E.3. リリース16.1" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 16.3文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 16.3 : release-16-2.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-16-3.html" title="E.1. リリース16.3">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.2. リリース16.2</td><td width="20%" align="right"> <a accesskey="n" href="release-16-1.html" title="E.3. リリース16.1">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-16-2"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.2. リリース16.2 <a href="#RELEASE-16-2" class="id_link">#</a></h2></div></div></div><span class="original">
  &lt;title&gt;Release 16.2&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2024-02-08</p><p>
<span class="original">
   This release contains a variety of fixes from 16.1.
   For information about new features in major release 16, see
   &lt;xref linkend="release-16"/&gt;.
</span>
このリリースは16.1に対し、様々な不具合を修正したものです。
16メジャーリリースにおける新機能については、<a class="xref" href="release-16.html" title="E.4. リリース16">E.4</a>を参照してください。
  </p><div class="sect2" id="RELEASE-16-2-MIGRATION"><div class="titlepage"><div><div><h3 class="title">E.2.1. バージョン16.2への移行 <a href="#RELEASE-16-2-MIGRATION" class="id_link">#</a></h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 16.2&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 16.X.
</span>
16.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, one bug was fixed that could have resulted in corruption of
    GIN indexes during concurrent updates.  If you suspect such
    corruption, reindex affected indexes after installing this update.
</span>
しかしながら、同時更新中にGINインデックスの破損を引き起こす可能性があるバグが1件修正されました。
このような破損が疑われる場合は、この更新をインストールした後で、影響を受けるインデックスを再作成してください。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 16.1,
    see &lt;xref linkend="release-16-1"/&gt;.
</span>
また、16.1より前のバージョンからアップグレードする場合は、<a class="xref" href="release-16-1.html" title="E.3. リリース16.1">E.3</a>を参照してください。
   </p></div><div class="sect2" id="RELEASE-16-2-CHANGES"><div class="titlepage"><div><div><h3 class="title">E.2.2. 変更点 <a href="#RELEASE-16-2-CHANGES" class="id_link">#</a></h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [5a9167c39] 2024-02-05 11:01:23 +0200
Branch: REL_16_STABLE [d6a61cb3b] 2024-02-05 11:02:56 +0200
Branch: REL_15_STABLE [f2fdea198] 2024-02-05 11:03:26 +0200
Branch: REL_14_STABLE [f4f288352] 2024-02-05 11:03:43 +0200
Branch: REL_13_STABLE [d541ce3b6] 2024-02-05 11:04:08 +0200
Branch: REL_12_STABLE [2699fc035] 2024-02-05 11:04:22 +0200
Branch: master [b96115acb] 2024-02-05 11:01:30 +0200
Branch: REL_16_STABLE [fb3836855] 2024-02-05 11:03:03 +0200
Branch: REL_15_STABLE [06f36bc01] 2024-02-05 11:03:28 +0200
Branch: REL_14_STABLE [a45c950ae] 2024-02-05 11:03:43 +0200
Branch: REL_13_STABLE [b73d21648] 2024-02-05 11:04:10 +0200
Branch: REL_12_STABLE [add8bc9b8] 2024-02-05 11:04:23 +0200
</span><p>
<span class="original">
      Tighten security restrictions within &lt;command&gt;REFRESH MATERIALIZED
      VIEW CONCURRENTLY&lt;/command&gt; (Heikki Linnakangas)
</span>
<code class="command">REFRESH MATERIALIZED VIEW CONCURRENTLY</code>内のセキュリティ制限を強化しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      One step of a concurrent refresh command was run under weak security
      restrictions.  If a materialized view's owner could persuade a
      superuser or other high-privileged user to perform a concurrent
      refresh on that view, the view's owner could control code executed
      with the privileges of the user running &lt;command&gt;REFRESH&lt;/command&gt;.
      Fix things so that all user-determined code is run as the view's
      owner, as expected.
</span>
同時リフレッシュコマンドの1つのステップが弱いセキュリティ制限の下で実行されていました。
マテリアライズドビューの所有者がスーパーユーザまたは他の高い権限を持つユーザに、そのビューに対して同時リフレッシュを実行するよう説得できる場合、そのビューの所有者が<code class="command">REFRESH</code>を実行しているユーザの権限で実行されるコードを制御できました。
ユーザが決定したすべてのコードが、期待どおりにビューの所有者として実行されるよう修正しました。
     </p><p>
<span class="original">
      The only known exploit for this error does not work
      in &lt;productname&gt;PostgreSQL&lt;/productname&gt; 16.0 and later, so it may
      be that v16 is not vulnerable in practice.
</span>
このエラーに対する唯一の既知のセキュリティ上の弱点は<span class="productname">PostgreSQL</span>16.0以降では動作しないため、v16は実際には脆弱ではない可能性があります。
     </p><p>
<span class="original">
      The &lt;productname&gt;PostgreSQL&lt;/productname&gt; Project thanks Pedro
      Gallegos for reporting this problem.
      (CVE-2024-0985) &lt;!&amp;#45;- not CVE-2023-5869 as claimed in commit msg &amp;#45;-&gt;
</span>
<span class="productname">PostgreSQL</span>プロジェクトは、本問題を報告してくれたPedro Gallegosに感謝します。
(CVE-2024-0985)<span class="original"> commit msgで指摘されたCVE-2023-5869ではありません。 </span>
     </p></li><li class="listitem"><span class="original">
Author: Daniel Gustafsson &lt;dgustafsson@postgresql.org&gt;
Branch: master [9dce22033] 2023-09-27 13:02:21 +0200
Branch: REL_16_STABLE [2cf50585e] 2023-11-17 10:18:38 +0100
Branch: REL_15_STABLE [aef521849] 2023-11-17 10:21:34 +0100
Branch: REL_14_STABLE [75a20a4b4] 2023-11-17 10:27:45 +0100
Branch: REL_13_STABLE [10912f7d4] 2023-11-17 11:46:31 +0100
Branch: REL_12_STABLE [3b991f81c] 2023-11-17 11:47:17 +0100
Branch: REL_12_STABLE [c922b2410] 2023-12-11 12:02:01 +0100
</span><p>
<span class="original">
      Fix memory leak when performing JIT inlining (Andres Freund,
      Daniel Gustafsson)
</span>
JITインライン化を実行する時のメモリリークを修正しました。
(Andres Freund, Daniel Gustafsson)
     </p><p>
<span class="original">
      There have been multiple reports of backend processes suffering
      out-of-memory conditions after sufficiently many JIT compilations.
      This fix should resolve that.
</span>
多数のJITコンパイルの後に、バックエンドプロセスがメモリ不足の状態に陥るという複数の報告がありました。
この修正により、この問題が解決されます。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: REL_16_STABLE [62f120203] 2024-02-01 12:34:21 -0500
Branch: REL_15_STABLE [12ec16d11] 2024-02-01 12:34:21 -0500
Branch: REL_14_STABLE [e031995d5] 2024-02-01 12:34:21 -0500
Branch: REL_13_STABLE [7af96a66f] 2024-02-01 12:34:21 -0500
Branch: REL_12_STABLE [2e822a1d6] 2024-02-01 12:34:21 -0500
</span><p>
<span class="original">
      Avoid generating incorrect partitioned-join plans (Richard Guo)
</span>
不正なパーティション結合のプランが生成されないようにしました。
 (Richard Guo)
     </p><p>
<span class="original">
      Some uncommon situations involving lateral references could create
      incorrect plans.  Affected queries could produce wrong answers, or
      odd failures such as &lt;quote&gt;variable not found in subplan target
      list&lt;/quote&gt;, or executor crashes.
</span>
LATERAL参照を含む一部の特殊な状況では、誤ったプランが作成される可能性がありました。
影響を受ける問い合わせは、間違った答えを出したり、<span class="quote">「<span class="quote">variable not found in subplan target list</span>」</span>などの奇妙なエラーを出したり、エグゼキュータのクラッシュしたりする可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [29f114b6f] 2024-01-11 15:28:22 -0500
Branch: REL_16_STABLE [80bece312] 2024-01-11 15:28:13 -0500
Branch: REL_15_STABLE [a0b4fda44] 2024-01-11 15:28:13 -0500
Branch: REL_14_STABLE [ea1d54288] 2024-01-11 15:28:13 -0500
Branch: REL_13_STABLE [bfd28bb07] 2024-01-11 15:28:13 -0500
Branch: REL_12_STABLE [69c12c417] 2024-01-11 15:28:13 -0500
</span><p>
<span class="original">
      Fix incorrect wrapping of subquery output expressions in
      PlaceHolderVars (Tom Lane)
</span>
PlaceHolderVars内の副問い合わせ出力式の不正なラッピングを修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      This fixes incorrect results when a subquery is underneath an outer
      join and has an output column that laterally references something
      outside the outer join's scope.  The output column might not appear
      as NULL when it should do so due to the action of the outer join.
</span>
これにより、副問い合わせが外部結合の下にあり、出力列が外部結合の範囲外にあるものをLATERAL参照している場合の不正な結果が修正されます。
出力列は、外部結合の動作により、NULLとして表示されるはずなのにNULLとして表示されないことがありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d641b827a] 2024-01-10 13:36:33 -0500
Branch: REL_16_STABLE [ee9553218] 2024-01-10 13:36:34 -0500
Branch: REL_15_STABLE [c3f52fd5d] 2024-01-10 13:36:34 -0500
</span><p>
<span class="original">
      Fix misprocessing of window function run conditions (Richard Guo)
</span>
ウィンドウ関数の実行条件の誤った処理を修正しました。
(Richard Guo)
     </p><p>
<span class="original">
      This oversight could lead to &lt;quote&gt;WindowFunc not found in subplan
      target lists&lt;/quote&gt; errors.
</span>
この見落としにより、<span class="quote">「<span class="quote">WindowFunc not found in subplan target lists</span>」</span>エラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [2bcf0785c] 2024-01-22 22:45:02 +1300
Branch: REL_16_STABLE [74f770ef2] 2024-01-22 22:45:33 +1300
</span><p>
<span class="original">
      Fix detection of inner-side uniqueness for Memoize plans
      (Richard Guo)
</span>
Memoizeプランの内側の一意性検出を修正しました。
(Richard Guo)
     </p><p>
<span class="original">
      This mistake could lead to &lt;quote&gt;cache entry already
      complete&lt;/quote&gt; errors.
</span>
この間違いにより<span class="quote">「<span class="quote">cache entry already complete</span>」</span>というエラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [36f5594c0] 2023-11-09 15:46:16 -0500
Branch: REL_16_STABLE [6bf2efb38] 2023-11-09 15:46:16 -0500
</span><p>
<span class="original">
      Fix computation of nullingrels when constant-folding field selection
      (Richard Guo)
</span>
定数畳み込みフィールド選択時のnullingrelsの計算を修正しました。
(Richard Guo)
     </p><p>
<span class="original">
      Failure to do this led to errors like &lt;quote&gt;wrong varnullingrels
      (b) (expected (b 3)) for Var 2/2&lt;/quote&gt;.
</span>
これを行わないと、<span class="quote">「<span class="quote">wrong varnullingrels (b) (expected (b 3)) for Var 2/2</span>」</span>のようなエラーが発生しました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [a4f7d33a9] 2023-11-09 11:23:42 +0000
Branch: REL_16_STABLE [06a546382] 2023-11-09 11:27:04 +0000
Branch: REL_15_STABLE [c0bfdaf2b] 2023-11-09 11:28:25 +0000
</span><p>
<span class="original">
      Skip inappropriate actions when &lt;command&gt;MERGE&lt;/command&gt; causes a
      cross-partition update (Dean Rasheed)
</span>
<code class="command">MERGE</code>によるパーティション間の更新が発生する場合に、不適切なアクションをおこなわないようにしました。
(Dean Rasheed)
     </p><p>
<span class="original">
      When executing a &lt;literal&gt;MERGE UPDATE&lt;/literal&gt; action on a
      partitioned table, if the &lt;literal&gt;UPDATE&lt;/literal&gt; is turned into
      a &lt;literal&gt;DELETE&lt;/literal&gt; and &lt;literal&gt;INSERT&lt;/literal&gt; due to
      changing a partition key column, skip firing &lt;literal&gt;AFTER
      UPDATE ROW&lt;/literal&gt; triggers, as well as other post-update actions
      such as RLS checks.  These actions would typically fail, which is
      why a regular &lt;literal&gt;UPDATE&lt;/literal&gt; doesn't do them in such
      cases; &lt;literal&gt;MERGE&lt;/literal&gt; shouldn't either.
</span>
パーティションテーブルで<code class="literal">MERGE UPDATE</code>アクションを実行するとき、パーティションキー列の変更により<code class="literal">UPDATE</code>が<code class="literal">DELETE</code>と<code class="literal">INSERT</code>に変わった場合、<code class="literal">AFTER UPDATE ROW</code>トリガの起動や、RLSチェックなどの他のUPDATE後アクションの起動をスキップします。
これらのアクションは通常失敗するため、通常の<code class="literal">UPDATE</code>ではこのような場合にこれらを行いません。
<code class="literal">MERGE</code>もそうすべきではありません。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [a0ff37173] 2023-12-21 12:55:22 +0000
Branch: REL_16_STABLE [7f07384dc] 2023-12-21 12:53:48 +0000
Branch: REL_15_STABLE [7e8c6d7af] 2023-12-21 12:51:55 +0000
</span><p>
<span class="original">
      Cope with &lt;literal&gt;BEFORE ROW DELETE&lt;/literal&gt; triggers in
      cross-partition &lt;command&gt;MERGE&lt;/command&gt; updates (Dean Rasheed)
</span>
パーティションにまたがる<code class="command">MERGE</code>の更新で<code class="literal">BEFORE ROW DELETE</code>トリガを処理するようにしました。
(Dean Rasheed)
     </p><p>
<span class="original">
      If such a trigger attempted to prevent the update by returning
      NULL, &lt;command&gt;MERGE&lt;/command&gt; would suffer an error or assertion
      failure.
</span>
このようなトリガがNULLを返すことで更新を阻止しようとした場合、<code class="command">MERGE</code>はエラーかアサーション失敗を引き起こしてました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [6545ba96c] 2024-01-14 12:38:41 -0500
Branch: REL_16_STABLE [23e0ba59c] 2024-01-14 12:38:41 -0500
Branch: REL_15_STABLE [1a4e54617] 2024-01-14 12:38:41 -0500
Branch: REL_14_STABLE [c7edaeec5] 2024-01-14 12:38:41 -0500
</span><p>
<span class="original">
      Prevent access to a no-longer-pinned buffer in &lt;literal&gt;BEFORE ROW
      UPDATE&lt;/literal&gt; triggers (Alexander Lakhin, Tom Lane)
</span>
<code class="literal">BEFORE ROW UPDATE</code>トリガで、固定されていないバッファへのアクセスを防止しました。
(Alexander Lakhin, Tom Lane)
     </p><p>
<span class="original">
      If the tuple being updated had just been updated and moved to
      another page by another session, there was a narrow window where
      we would attempt to fetch data from the new tuple version without
      any pin on its buffer.  In principle this could result in garbage
      data appearing in non-updated columns of the proposed new tuple.
      The odds of problems in practice seem rather low, however.
</span>
更新中のタプルが別のセッションによって更新されてから別のページに移動された場合、バッファ上の固定されていない新しいタプルバージョンからデータをフェッチしようとする狭い期間がありました。
これにより、原理的には提案された新しいタプルの更新されていない列にガベージデータが表示される可能性がありました。
しかし、実際に問題が発生する可能性はかなり低いと見られます。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [2a67b5a60] 2024-01-07 09:10:19 +0200
Branch: REL_16_STABLE [714a987bc] 2024-01-07 09:32:58 +0200
Branch: REL_15_STABLE [1a7c03e6f] 2024-01-07 09:10:40 +0200
Branch: REL_14_STABLE [3bdaa8fc6] 2024-01-07 09:10:49 +0200
Branch: REL_13_STABLE [60de25c6e] 2024-01-07 09:11:00 +0200
Branch: REL_12_STABLE [72d5b2776] 2024-01-07 09:18:43 +0200
Branch: master [6d94cc6ca] 2024-01-08 20:00:20 +0200
Branch: REL_16_STABLE [20a566cd4] 2024-01-08 19:57:09 +0200
Branch: REL_15_STABLE [6eecc3a62] 2024-01-08 19:57:03 +0200
Branch: REL_14_STABLE [97e64911d] 2024-01-08 19:57:58 +0200
Branch: REL_13_STABLE [17b6f39f1] 2024-01-08 19:58:38 +0200
Branch: REL_12_STABLE [a5e2853c3] 2024-01-08 19:58:51 +0200
</span><p>
<span class="original">
      Avoid requesting an oversize shared-memory area in parallel hash
      join (Thomas Munro, Andrei Lepikhov, Alexander Korotkov)
</span>
パラレルハッシュ結合で、サイズが大きすぎる共有メモリ領域を要求しないようにしました。
(Thomas Munro, Andrei Lepikhov, Alexander Korotkov)
     </p><p>
<span class="original">
      The limiting value was too large, allowing &lt;quote&gt;invalid DSA memory
      alloc request size&lt;/quote&gt; errors to occur with sufficiently large
      expected hash table sizes.
</span>
制限値が大きすぎるため、予想されるハッシュテーブルのサイズが十分に大きい場合に<span class="quote">「<span class="quote">invalid DSA memory alloc request size</span>」</span>エラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [9cd0d77df] 2024-01-05 20:08:34 +0900
Branch: REL_16_STABLE [37c551663] 2024-01-05 20:10:46 +0900
</span><p>
<span class="original">
      Fix corruption of local buffer state when an error occurs while
      trying to extend a temporary table (Tender Wang)
</span>
一時テーブルを拡張しようとしてエラーが発生する場合のローカルバッファ状態の破損を修正しました。
(Tender Wang)
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [ae69c4fcf] 2024-01-04 20:38:25 +1300
Branch: REL_16_STABLE [6298673f4] 2024-01-04 20:40:11 +1300
</span><p>
<span class="original">
      Fix use of wrong tuple slot while
      evaluating &lt;literal&gt;DISTINCT&lt;/literal&gt; aggregates that have multiple
      arguments (David Rowley)
</span>
複数の引数を持つ<code class="literal">DISTINCT</code>が指定された集約を評価する際の間違ったタプルスロットの使用を修正しました。
(David Rowley)
     </p><p>
<span class="original">
      This mistake could lead to errors such as &lt;quote&gt;attribute 1 of type
      record has wrong type&lt;/quote&gt;.
</span>
この間違いは、<span class="quote">「<span class="quote">attribute 1 of type record has wrong type</span>」</span>といったエラーにつながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [60f227316] 2023-11-28 12:00:14 +0200
Branch: REL_16_STABLE [9fee3232a] 2023-11-28 11:59:45 +0200
Branch: REL_15_STABLE [2873fbfe0] 2023-11-28 11:59:50 +0200
Branch: REL_14_STABLE [59c62a21f] 2023-11-28 11:59:51 +0200
Branch: REL_13_STABLE [e434d3620] 2023-11-28 11:59:52 +0200
Branch: REL_12_STABLE [b8a606e21] 2023-11-28 11:59:53 +0200
</span><p>
<span class="original">
      Avoid assertion failures in &lt;function&gt;heap_update()&lt;/function&gt;
      and &lt;function&gt;heap_delete()&lt;/function&gt; when a tuple to be updated by
      a foreign-key enforcement trigger fails the extra visibility
      crosscheck (Alexander Lakhin)
</span>
外部キー強制トリガによって更新されるタプルが追加の可視性クロスチェックに失敗した場合、<code class="function">heap_update()</code>と<code class="function">heap_delete()</code>でのアサート失敗を回避します。
(Alexander Lakhin)
     </p><p>
<span class="original">
      This error had no impact in non-assert builds.
</span>
このエラーは、非アサートビルドには影響しませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [1b2c6b756] 2023-11-08 14:06:26 +0900
Branch: REL_16_STABLE [4dccf9575] 2023-11-08 14:06:36 +0900
Branch: REL_15_STABLE [7e18c0bd6] 2023-11-08 14:06:39 +0900
Branch: REL_14_STABLE [59fc39c0d] 2023-11-08 14:06:42 +0900
</span><p>
<span class="original">
      Fix overly tight assertion
      about &lt;varname&gt;false_positive_rate&lt;/varname&gt; parameter of
      BRIN bloom operator classes (Alexander Lakhin)
</span>
BRINブルーム演算子クラスの<code class="varname">false_positive_rate</code>パラメータに関する過度に厳密なアサーションを修正しました。
(Alexander Lakhin)
     </p><p>
<span class="original">
      This error had no impact in non-assert builds, either.
</span>
このエラーは、非アサートビルドにも影響しませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [bb812ab09] 2024-01-24 14:20:01 +0900
Branch: REL_16_STABLE [51193e7a7] 2024-01-24 14:20:08 +0900
Branch: REL_15_STABLE [ad6fbbeeb] 2024-01-24 14:20:10 +0900
Branch: REL_14_STABLE [5a7833f49] 2024-01-24 14:20:11 +0900
Branch: REL_13_STABLE [bfec14d06] 2024-01-24 14:20:13 +0900
Branch: REL_12_STABLE [2f7242837] 2024-01-24 14:20:14 +0900
</span><p>
<span class="original">
      Fix possible failure during &lt;command&gt;ALTER TABLE ADD
      COLUMN&lt;/command&gt; on a complex inheritance tree (Tender Wang)
</span>
複雑な継承ツリーでの<code class="command">ALTER TABLE ADD COLUMN</code>の際に起こりうるエラーを修正しました。
(Tender Wang)
     </p><p>
<span class="original">
      If a grandchild table would inherit the new column via multiple
      intermediate parents, the command failed with &lt;quote&gt;tuple already
      updated by self&lt;/quote&gt;.
</span>
もし、孫テーブルが複数の中間の親テーブルを介して新しい列を継承する場合、コマンドは<span class="quote">「<span class="quote">tuple already updated by self</span>」</span>というエラーで失敗していました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [3e91dba8b] 2024-01-31 13:15:21 +0900
Branch: REL_16_STABLE [f33e83285] 2024-01-31 13:16:43 +0900
Branch: REL_15_STABLE [41fa4b31c] 2024-01-31 13:16:46 +0900
Branch: REL_14_STABLE [dde5b01c3] 2024-01-31 13:16:47 +0900
Branch: REL_13_STABLE [4d0e8a008] 2024-01-31 13:16:49 +0900
Branch: REL_12_STABLE [056109782] 2024-01-31 13:16:50 +0900
</span><p>
<span class="original">
      Fix problems with duplicate token names in &lt;command&gt;ALTER TEXT
      SEARCH CONFIGURATION ... MAPPING&lt;/command&gt; commands (Tender Wang,
      Michael Paquier)
</span>
<code class="command">ALTER TEXT SEARCH CONFIGURATION ... MAPPING</code>コマンドでトークン名が重複する問題を修正しました。
(Tender Wang, Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [50b797dc9] 2024-01-29 08:05:59 +0900
Branch: REL_16_STABLE [f57a580fd] 2024-01-29 08:06:03 +0900
</span><p>
<span class="original">
      Fix &lt;command&gt;DROP ROLE&lt;/command&gt; with duplicate role names
      (Michael Paquier)
</span>
<code class="command">DROP ROLE</code>で重複したロール名を指定した場合について修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      Previously this led to a &lt;quote&gt;tuple already updated by
      self&lt;/quote&gt; failure.  Instead, ignore the duplicate.
</span>
以前は、これにより<span class="quote">「<span class="quote">tuple already updated by self</span>」</span>エラーが発生していました。
代わりに、重複を無視するようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [28f84f72f] 2023-11-19 21:03:38 +0100
Branch: REL_16_STABLE [ee32b824d] 2023-11-19 21:03:50 +0100
Branch: REL_15_STABLE [0177fc773] 2023-11-19 21:04:16 +0100
Branch: REL_14_STABLE [9dd50e92e] 2023-11-19 21:04:28 +0100
Branch: REL_13_STABLE [1e468ea4e] 2023-11-19 21:04:39 +0100
Branch: REL_12_STABLE [4f8d3c5b5] 2023-11-19 21:04:47 +0100
</span><p>
<span class="original">
      Properly lock the associated table during &lt;command&gt;DROP
      STATISTICS&lt;/command&gt; (Tomas Vondra)
</span>
<code class="command">DROP STATISTICS</code>の実行中に、関連するテーブルを適切にロックするようにしました。
(Tomas Vondra)
     </p><p>
<span class="original">
      Failure to acquire the lock could result in &lt;quote&gt;tuple
      concurrently deleted&lt;/quote&gt; errors if the &lt;command&gt;DROP&lt;/command&gt;
      executes concurrently with &lt;command&gt;ANALYZE&lt;/command&gt;.
</span>
ロックの取得に失敗すると、<code class="command">ANALYZE</code>と同時に<code class="command">DROP</code>が実行された場合に<span class="quote">「<span class="quote">tuple concurrently deleted</span>」</span>エラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [743ddafc7] 2023-11-16 10:05:14 -0500
Branch: REL_16_STABLE [f07a3039c] 2023-11-16 10:05:14 -0500
Branch: REL_15_STABLE [9057ddbef] 2023-11-16 10:05:14 -0500
Branch: REL_14_STABLE [9bd0f74ea] 2023-11-16 10:05:14 -0500
Branch: REL_13_STABLE [5c11104c7] 2023-11-16 10:05:14 -0500
Branch: REL_12_STABLE [abd1b1325] 2023-11-16 10:05:14 -0500
</span><p>
<span class="original">
      Fix function volatility checking for &lt;literal&gt;GENERATED&lt;/literal&gt;
      and &lt;literal&gt;DEFAULT&lt;/literal&gt; expressions (Tom Lane)
</span>
<code class="literal">GENERATED</code>式と<code class="literal">DEFAULT</code>式での関数の揮発性検査を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      These places could fail to detect insertion of a volatile function
      default-argument expression, or decide that a polymorphic function
      is volatile although it is actually immutable on the datatype of
      interest.  This could lead to improperly rejecting or accepting
      a &lt;literal&gt;GENERATED&lt;/literal&gt; clause, or to mistakenly applying the
      constant-default-value optimization in &lt;command&gt;ALTER TABLE ADD
      COLUMN&lt;/command&gt;.
</span>
これらの場所では、デフォルト引数式への揮発性関数の挿入を検出できなかったり、多様関数が実際には対象のデータ型では不変であるにもかかわらず揮発性であると判断したりする可能性がありました。
これにより、<code class="literal">GENERATED</code>句を不適切に拒否または受け入れたり、<code class="command">ALTER TABLE ADD COLUMN</code>の定数デフォルト値の最適化が誤って適用されたりする可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ad98fb142] 2024-01-13 13:46:27 -0500
Branch: REL_16_STABLE [7e2561e1a] 2024-01-13 13:46:27 -0500
Branch: REL_15_STABLE [2a46a0df4] 2024-01-13 13:46:27 -0500
Branch: REL_14_STABLE [db122d426] 2024-01-13 13:46:27 -0500
Branch: REL_13_STABLE [98e03f957] 2024-01-13 13:46:27 -0500
Branch: REL_12_STABLE [3b4d85cf1] 2024-01-13 13:46:27 -0500
Branch: master [96c019ffa] 2024-01-13 13:54:11 -0500
Branch: REL_16_STABLE [56dcd71de] 2024-01-13 13:54:11 -0500
Branch: REL_15_STABLE [d41358f4b] 2024-01-13 13:54:11 -0500
Branch: REL_14_STABLE [7ceeb57ba] 2024-01-13 13:54:11 -0500
Branch: REL_13_STABLE [475b3ea3c] 2024-01-13 13:54:11 -0500
Branch: REL_12_STABLE [d29a4fbac] 2024-01-13 13:54:11 -0500
</span><p>
<span class="original">
      Detect that a new catalog cache entry became stale while detoasting
      its fields (Tom Lane)
</span>
フィールドをTOASTから展開する時に新しいカタログキャッシュエントリが古くなったことを検出します。
(Tom Lane)
     </p><p>
<span class="original">
      We expand any out-of-line fields in a catalog tuple before inserting
      it into the catalog caches.  That involves database access which
      might cause invalidation of catalog cache entries &amp;mdash; but the
      new entry isn't in the cache yet, so we would miss noticing that it
      should get invalidated.  The result is a race condition in which an
      already-stale cache entry could get made, and then persist
      indefinitely.  This would lead to hard-to-predict misbehavior.
      Fix by rechecking the tuple's visibility after detoasting.
</span>
カタログキャッシュに挿入する前に、カタログタプル内の任意の行外フィールドを展開します。
これは、カタログキャッシュエントリが無効になる可能性があるデータベースアクセスを伴いますが、新しいエントリはまだキャッシュにないので、無効化すべき必要があることに気づかないでしょう。
その結果、既に古いキャッシュエントリが作成され、永続化されるかもしれない競合状態が発生します。
これは、予測が困難な誤動作を引き起こすことになります。
TOAST展開後にタプルの可視性を再確認することで修正します。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [0e3e8fbd3] 2023-11-09 09:50:23 +0000
Branch: REL_16_STABLE [c396aca2b] 2023-11-09 09:53:05 +0000
Branch: REL_15_STABLE [308a69a98] 2023-11-09 09:54:22 +0000
Branch: REL_14_STABLE [dea12b40d] 2023-11-09 09:55:39 +0000
Branch: REL_13_STABLE [4f4a0010a] 2023-11-09 09:56:31 +0000
Branch: REL_12_STABLE [b17a02be2] 2023-11-09 09:57:52 +0000
</span><p>
<span class="original">
      Fix edge-case integer overflow detection bug on some platforms (Dean
      Rasheed)
</span>
一部のプラットフォームでのエッジケースの整数オーバーフロー検出不具合を修正しました。
(Dean Rasheed)
     </p><p>
<span class="original">
      Computing &lt;literal&gt;0 - INT64_MIN&lt;/literal&gt; should result in an
      overflow error, and did on most platforms.  However, platforms with
      neither integer overflow builtins nor 128-bit integers would fail to
      spot the overflow, instead returning &lt;literal&gt;INT64_MIN&lt;/literal&gt;.
</span>
<code class="literal">0 - INT64_MIN</code>の計算はオーバーフローエラーとなるべきで、ほとんどのプラットフォームではそのようになっていました。
しかし、組み込みの整数オーバーフローも128ビット整数もないプラットフォームでは、オーバーフローを検出できず、代わりに<code class="literal">INT64_MIN</code>を返していました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [25cd2d640] 2024-01-26 13:39:45 -0500
Branch: REL_16_STABLE [7204aea83] 2024-01-26 13:39:37 -0500
Branch: REL_15_STABLE [86b6243a8] 2024-01-26 13:39:37 -0500
Branch: REL_14_STABLE [3eb8a87f6] 2024-01-26 13:39:37 -0500
Branch: REL_13_STABLE [425127bed] 2024-01-26 13:39:37 -0500
Branch: REL_12_STABLE [c3bdb25fb] 2024-01-26 13:39:37 -0500
</span><p>
<span class="original">
      Detect Julian-date overflow when adding or subtracting
      an &lt;type&gt;interval&lt;/type&gt; to/from a &lt;type&gt;timestamp&lt;/type&gt; (Tom Lane)
</span>
<code class="type">timestamp</code>型に<code class="type">interval</code>型を加算または減算するときに、ユリウス日付のオーバーフローを検出します。
(Tom Lane)
     </p><p>
<span class="original">
      Some cases that should cause an out-of-range error produced an
      incorrect result instead.
</span>
範囲外エラーが発生するはずのいくつかのケースで、代わりに誤った結果が生成されていました。
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [b218fbb7a] 2023-11-18 14:41:20 +0000
Branch: REL_16_STABLE [72d0c135b] 2023-11-18 14:46:02 +0000
Branch: REL_15_STABLE [2851aa7d1] 2023-11-18 14:47:04 +0000
Branch: REL_14_STABLE [2ffcebdba] 2023-11-18 14:48:10 +0000
Branch: REL_13_STABLE [428770aad] 2023-11-18 14:49:18 +0000
Branch: REL_12_STABLE [f499d2b20] 2023-11-18 14:50:00 +0000
</span><p>
<span class="original">
      Add more checks for overflow in &lt;function&gt;interval_mul()&lt;/function&gt;
      and &lt;function&gt;interval_div()&lt;/function&gt; (Dean Rasheed)
</span>
<code class="function">interval_mul()</code>と<code class="function">interval_div()</code>でオーバーフローの検査をさらに追加しました。
(Dean Rasheed)
     </p><p>
<span class="original">
      Some cases that should cause an out-of-range error produced an
      incorrect result instead.
</span>
範囲外エラーが発生するはずのいくつかのケースで、誤った結果が生成されていました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [14f2f9eb1] 2023-11-28 08:35:50 +0900
Branch: REL_16_STABLE [07cb7bc1c] 2023-11-28 08:35:56 +0900
</span><p>
<span class="original">
      Allow &lt;function&gt;scram_SaltedPassword()&lt;/function&gt; to be interrupted
      (Bowen Shi)
</span>
<code class="function">scram_SaltedPassword()</code>関数を割り込み可能にしました。
(Bowen Shi)
     </p><p>
<span class="original">
      With large &lt;varname&gt;scram_iterations&lt;/varname&gt; values, this function
      could take a long time to run.  Allow it to be interrupted by query
      cancel requests.
</span>
大きな<code class="varname">scram_iterations</code>の値では、この関数の実行に長い時間がかかる可能性がありました。
問い合わせのキャンセル要求によって中断できるようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [235c09efb] 2024-02-01 17:12:50 +0900
Branch: REL_16_STABLE [781bc121d] 2024-02-01 17:13:09 +0900
Branch: REL_15_STABLE [171d21f50] 2024-02-01 17:13:11 +0900
</span><p>
<span class="original">
      Ensure cached statistics are discarded after a change
      to &lt;varname&gt;stats_fetch_consistency&lt;/varname&gt; (Shinya Kato)
</span>
<code class="varname">stats_fetch_consistency</code>の変更後にキャッシュされた統計情報を破棄するようにしました。
(Shinya Kato)
     </p><p>
<span class="original">
      In some code paths, it was possible for stale statistics to be
      returned.
</span>
一部のコードパスで、古い統計情報が返される可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [059de3ca4] 2023-12-26 17:57:48 -0500
Branch: REL_16_STABLE [e87252ceb] 2023-12-26 17:57:48 -0500
Branch: REL_15_STABLE [76dd3d94a] 2023-12-26 17:57:48 -0500
Branch: REL_14_STABLE [bf4f30a0f] 2023-12-26 17:57:48 -0500
Branch: REL_13_STABLE [cb88f44ec] 2023-12-26 17:57:48 -0500
Branch: REL_12_STABLE [ea61b1cf6] 2023-12-26 17:57:48 -0500
</span><p>
<span class="original">
      Make the &lt;structname&gt;pg_file_settings&lt;/structname&gt; view check
      validity of unapplied values for settings
      with &lt;literal&gt;backend&lt;/literal&gt;
      or &lt;literal&gt;superuser-backend&lt;/literal&gt; context (Tom Lane)
</span>
<code class="structname">pg_file_settings</code>ビューで、<code class="literal">backend</code>または<code class="literal">superuser-backend</code>コンテキストの設定に対して、未適用の値の有効性を検査するようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      Invalid values were not noted in the view as intended.  This escaped
      detection because there are very few settings in these groups.
</span>
無効な値は意図したようにビューに記録されませんでした。
これらのグループには設定がほとんどないため、この問題は検出されませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter@eisentraut.org&gt;
Branch: master [a11c9c42e] 2023-12-01 16:05:41 +0100
Branch: REL_16_STABLE [267f33f68] 2023-12-01 16:09:54 +0100
Branch: REL_15_STABLE [15d485921] 2023-12-01 16:14:22 +0100
Branch: REL_14_STABLE [e846fc491] 2023-12-01 16:17:38 +0100
Branch: REL_13_STABLE [3c49fa2af] 2023-12-01 16:23:18 +0100
Branch: REL_12_STABLE [5d40b3c4f] 2023-12-01 16:27:18 +0100
</span><p>
<span class="original">
      Match collation too when matching an existing index to a new
      partitioned index (Peter Eisentraut)
</span>
既存のインデックスを新しいパーティションインデックスと一致させる場合に、照合順序も一致させます。
(Peter Eisentraut)
     </p><p>
<span class="original">
      Previously we could accept an index that has a different collation
      from the corresponding element of the partition key, possibly
      leading to misbehavior.
</span>
以前は、パーティションキーの対応する要素と異なる照合順序を持つインデックスを受け入れることができ、誤動作につながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [0ae3b4662] 2024-01-18 16:30:11 +0900
Branch: REL_16_STABLE [c030e263e] 2024-01-18 16:31:38 +0900
Branch: REL_15_STABLE [a0c19de11] 2024-01-18 16:31:46 +0900
Branch: REL_14_STABLE [b6f2e019d] 2024-01-18 16:31:50 +0900
Branch: master [8013850c8] 2024-01-18 15:04:24 +0900
Branch: REL_16_STABLE [7ce65c6f7] 2024-01-18 15:04:31 +0900
Branch: REL_15_STABLE [1cf2dba84] 2024-01-18 15:04:35 +0900
Branch: REL_14_STABLE [b685b41cf] 2024-01-18 15:04:39 +0900
</span><p>
<span class="original">
      Avoid failure if a child index is dropped concurrently
      with &lt;command&gt;REINDEX INDEX&lt;/command&gt; on a partitioned index
      (Fei Changhong)
</span>
パーティションインデックスに対する<code class="command">REINDEX INDEX</code>で、子インデックスが同時に削除された場合のエラーを回避します。
(Fei Changhong)
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [6a1ea02c4] 2024-01-29 13:46:22 +0200
Branch: REL_16_STABLE [b899e00e7] 2024-01-29 13:46:30 +0200
Branch: REL_15_STABLE [e43425f48] 2024-01-29 13:46:42 +0200
Branch: REL_14_STABLE [f120c0872] 2024-01-29 13:46:43 +0200
Branch: REL_13_STABLE [e74c91665] 2024-01-29 13:46:45 +0200
Branch: REL_12_STABLE [e6511fe64] 2024-01-29 13:46:48 +0200
</span><p>
<span class="original">
      Fix insufficient locking when cleaning up an incomplete split of
      a GIN index's internal page (Fei Changhong, Heikki Linnakangas)
</span>
GINインデックスの内部ページの不完全な分割をクリーンアップする際の不十分なロックを修正しました。
(Fei Changhong, Heikki Linnakangas)
     </p><p>
<span class="original">
      The code tried to do this with shared rather than exclusive lock on
      the buffer.  This could lead to index corruption if two processes
      attempted the cleanup concurrently.
</span>
このコードは、バッファの排他ロックではなく共有ロックを使用してこれを行おうとしました。
このため、2 つのプロセスが同時にクリーンアップを試みた場合に、インデックスが壊れる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [5c62ecf6e] 2023-11-13 11:44:35 -0500
Branch: REL_16_STABLE [f76b975d5] 2023-11-13 11:44:48 -0500
Branch: REL_15_STABLE [4c73ec604] 2023-11-13 11:44:57 -0500
Branch: REL_14_STABLE [d900e74e0] 2023-11-13 11:45:04 -0500
Branch: REL_13_STABLE [c859d688b] 2023-11-13 11:45:09 -0500
Branch: REL_12_STABLE [5a6937ec9] 2023-11-13 11:45:13 -0500
</span><p>
<span class="original">
      Avoid premature release of buffer pin in GIN index insertion
      (Tom Lane)
</span>
GINインデックスの挿入におけるバッファピンの早期解放を回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      If an index root page split occurs concurrently with our own
      insertion, the code could fail with &lt;quote&gt;buffer NNNN is not owned
      by resource owner&lt;/quote&gt;.
</span>
インデックスのルートページの分割が、自身の挿入と同時に起こった場合、コードは<span class="quote">「<span class="quote">buffer NNNN is not owned by resource owner</span>」</span>で失敗する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [903737c5b] 2023-12-21 12:43:36 -0500
Branch: REL_16_STABLE [0977bd64e] 2023-12-21 12:43:36 -0500
Branch: REL_15_STABLE [ab04c1901] 2023-12-21 12:43:36 -0500
Branch: REL_14_STABLE [375f441bd] 2023-12-21 12:43:36 -0500
Branch: REL_13_STABLE [cc3865150] 2023-12-21 12:43:36 -0500
Branch: REL_12_STABLE [1771ec9a8] 2023-12-21 12:43:36 -0500
</span><p>
<span class="original">
      Avoid failure with partitioned SP-GiST indexes (Tom Lane)
</span>
パーティションテーブルに対するSP-GiSTインデックスのエラーを回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      Trying to use an index of this kind could lead to &lt;quote&gt;No such
      file or directory&lt;/quote&gt; errors.
</span>
この種のインデックスを使用しようとすると、<span class="quote">「<span class="quote">No such file or directory</span>」</span>エラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [59bd34c2f] 2023-12-15 13:55:05 -0500
Branch: REL_16_STABLE [152bfc0af] 2023-12-15 13:55:05 -0500
</span><p>
<span class="original">
      Fix ownership tests for large objects (Tom Lane)
</span>
ラージオブジェクトの所有者検査を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Operations on large objects that require ownership privilege failed
      with &lt;quote&gt;unrecognized class ID: 2613&lt;/quote&gt;, unless run by a
      superuser.
</span>
所有者権限を必要とするラージオブジェクト操作は、スーパーユーザによって実行されない限り、<span class="quote">「<span class="quote">unrecognized class ID: 2613</span>」</span>で失敗していました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [59bd34c2f] 2023-12-15 13:55:05 -0500
Branch: REL_16_STABLE [152bfc0af] 2023-12-15 13:55:05 -0500
Branch: REL_15_STABLE [7a99fb6e1] 2023-12-15 13:55:05 -0500
Branch: REL_14_STABLE [f552f2be2] 2023-12-15 13:55:05 -0500
Branch: REL_13_STABLE [55b5c67da] 2023-12-15 13:55:05 -0500
Branch: REL_12_STABLE [ba66f2533] 2023-12-15 13:55:05 -0500
</span><p>
<span class="original">
      Fix ownership change reporting for large objects (Tom Lane)
</span>
ラージオブジェクトの所有者変更の報告を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      A no-op &lt;command&gt;ALTER LARGE OBJECT OWNER&lt;/command&gt; command (that
      is, one selecting the existing owner) passed the wrong class ID to
      the &lt;varname&gt;PostAlterHook&lt;/varname&gt;, probably confusing any
      extension using that hook.
</span>
何も実行されない<code class="command">ALTER LARGE OBJECT OWNER</code>コマンド（すなわち、既存の所有者を選択するコマンド）は、間違ったクラスIDを<code class="varname">PostAlterHook</code>に渡したため、そのフックを使用する拡張機能を混乱する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: REL_16_STABLE [db69101a1] 2023-12-14 09:59:47 +0100
Branch: REL_15_STABLE [8dd70828b] 2023-12-14 09:59:52 +0100
</span><p>
<span class="original">
      Fix reporting of I/O timing data in &lt;literal&gt;EXPLAIN
      (BUFFERS)&lt;/literal&gt; (Michael Paquier)
</span>
<code class="literal">EXPLAIN (BUFFERS)</code>でのI/Oタイミングデータの報告を修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      The numbers labeled as &lt;quote&gt;shared/local&lt;/quote&gt; actually refer
      only to shared buffers, so change that label
      to &lt;quote&gt;shared&lt;/quote&gt;.
</span>
<span class="quote">「<span class="quote">shared/local</span>」</span>とラベル付けされた数値は実際には共有バッファのみを参照するため、ラベルを<span class="quote">「<span class="quote">shared</span>」</span>に変更しました。
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [df220714e] 2024-02-01 13:44:19 -0800
Branch: REL_16_STABLE [6d423e9ff] 2024-02-01 13:44:22 -0800
Branch: REL_15_STABLE [d493bed28] 2024-02-01 13:44:22 -0800
Branch: master [0b6517a3b] 2024-02-01 13:44:19 -0800
Branch: REL_16_STABLE [48a6bf5c4] 2024-02-01 13:44:22 -0800
Branch: REL_15_STABLE [8fa4a1ac6] 2024-02-01 13:44:23 -0800
</span><p>
<span class="original">
      Ensure durability of &lt;command&gt;CREATE DATABASE&lt;/command&gt; (Noah Misch)
</span>
<code class="command">CREATE DATABASE</code>の耐久性を保証します。
(Noah Misch)
     </p><p>
<span class="original">
      If an operating system crash occurred during or shortly
      after &lt;command&gt;CREATE DATABASE&lt;/command&gt;, recovery could fail, or
      subsequent connections to the new database could fail.  If a base
      backup was taken in that window, similar problems could be observed
      when trying to use the backup.  The symptom would be that the
      database directory, &lt;filename&gt;PG_VERSION&lt;/filename&gt; file, or
      &lt;filename&gt;pg_filenode.map&lt;/filename&gt; file was missing or empty.
</span>
<code class="command">CREATE DATABASE</code>の実行中またはその直後にオペレーティングシステムのクラッシュが発生した場合、リカバリが失敗したり、新しいデータベースへの後続の接続が失敗したりする可能性がありました。
その時間帯にベースバックアップが取られた場合、バックアップを使用しようとすると同様の問題が発生する可能性がありました。
症状は、データベースディレクトリ、<code class="filename">PG_VERSION</code>ファイル、または<code class="filename">pg_filenode.map</code>ファイルが存在しないか、空であることでした。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [1d35f705e] 2024-01-25 17:07:56 +0900
Branch: REL_16_STABLE [edbd1b41a] 2024-01-29 09:04:51 +0900
Branch: REL_15_STABLE [8b34cff33] 2024-01-29 09:04:55 +0900
</span><p>
<span class="original">
      Add more &lt;literal&gt;LOG&lt;/literal&gt; messages when starting and ending
      recovery from a backup (Andres Freund)
</span>
バックアップからのリカバリ開始時と終了時に、<code class="literal">LOG</code>メッセージをより多く出すようにしました。
(Andres Freund)
     </p><p>
<span class="original">
      This change provides additional information in the postmaster log
      that may be useful for diagnosing recovery problems.
</span>
この変更により、リカバリの問題の診断に役立つ追加情報がpostmasterログに提供されます。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [8a7cbfce1] 2023-12-12 17:05:18 +0100
Branch: REL_16_STABLE [0e2c05af9] 2023-12-12 17:05:27 +0100
Branch: REL_15_STABLE [f5d8f59ca] 2023-12-12 17:05:29 +0100
Branch: REL_14_STABLE [0cfd3ddfe] 2023-12-12 17:05:33 +0100
Branch: REL_13_STABLE [d99294e77] 2023-12-12 17:05:34 +0100
Branch: REL_12_STABLE [4d45ecc92] 2023-12-12 17:05:36 +0100
</span><p>
<span class="original">
      Prevent standby servers from incorrectly processing dead index
      tuples during subtransactions (Fei Changhong)
</span>
スタンバイサーバがサブトランザクション中にデッドインデックスタプルを誤って処理しないようにしました。
(Fei Changhong)
     </p><p>
<span class="original">
      The &lt;structfield&gt;startedInRecovery&lt;/structfield&gt; flag was not
      correctly set for a subtransaction.  This affects only processing of
      dead index tuples.  It could allow a query in a subtransaction to
      ignore index entries that it should return (if they are already dead
      on the primary server, but not dead to the standby transaction), or
      to prematurely mark index entries as dead that are not yet dead on
      the primary.  It is not clear that the latter case has any serious
      consequences, but it's not the intended behavior.
</span>
サブトランザクションの<code class="structfield">startedInRecovery</code>フラグが正しく設定されていませんでした。
これは、デッドインデックスタプルの処理にのみ影響します。
これにより、サブトランザクション内の問い合わせが、返すべきインデックスエントリを無視したり（プライマリサーバでは既にデッドになっているが、スタンバイトランザクションではまだデッドになっていない場合）、プライマリでまだデッドになっていないインデックスエントリを早まってデッドとマークしたりする可能性がありました。
後者の場合に重大な結果が生じるかどうかは明らかではないが、意図された動作ではありません。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [21ef4d4d8] 2024-01-23 10:38:07 +0200
Branch: REL_16_STABLE [c5a6d5337] 2024-01-23 10:53:23 +0200
</span><p>
<span class="original">
      Fix signal handling in walreceiver processes (Heikki Linnakangas)
</span>
walreceiverプロセスのシグナル処理を修正しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      Revert a change that made walreceivers non-responsive
      to &lt;systemitem&gt;SIGTERM&lt;/systemitem&gt; while waiting for the
      replication connection to be established.
</span>
レプリケーション接続確立の待機中に、walreceiversが<span class="systemitem">SIGTERM</span>に応答しないようにする変更を元に戻しました。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [cd7f19da3] 2023-12-08 16:09:03 +1300
Branch: REL_16_STABLE [8ca56620c] 2023-12-08 16:10:23 +1300
Branch: REL_15_STABLE [b9f687f5a] 2023-12-08 16:11:12 +1300
</span><p>
<span class="original">
      Fix integer overflow hazard in checking whether a record will fit
      into the WAL decoding buffer (Thomas Munro)
</span>
レコードがWALデコードバッファに収まるかどうかの検査での整数オーバーフローの危険性を修正しました。
(Thomas Munro)
     </p><p>
<span class="original">
      This bug appears to be only latent except when running a
      32-bit &lt;productname&gt;PostgreSQL&lt;/productname&gt; build on a 64-bit
      platform.
</span>
この不具合は、64ビットプラットフォーム上で32ビット<span class="productname">PostgreSQL</span>ビルドを実行する場合を除き、潜在的なものにすぎないようです。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [8d7d2197f] 2023-12-11 08:50:43 +0530
Branch: REL_16_STABLE [01cc92fa6] 2023-12-11 08:36:17 +0530
Branch: REL_15_STABLE [332b43063] 2023-12-11 08:23:33 +0530
Branch: REL_14_STABLE [3f86867d5] 2023-12-11 08:10:46 +0530
Branch: REL_13_STABLE [b47ea4f3d] 2023-12-11 07:57:50 +0530
Branch: REL_12_STABLE [e81e617f3] 2023-12-11 07:45:45 +0530
</span><p>
<span class="original">
      Fix deadlock between a logical replication apply worker, its
      tablesync worker, and a session process trying to alter the
      subscription (Shlok Kyal)
</span>
論理レプリケーション適用ワーカー、そのテーブル同期ワーカー、およびサブスクリプションを変更しようとするセッションプロセス間のデッドロックを修正しました。
(Shlok Kyal)
     </p><p>
<span class="original">
      One edge of the deadlock loop did not involve a lock wait, so the
      deadlock went undetected and would persist until manual
      intervention.
</span>
デッドロック・ループの一方のエッジにはロック待機が含まれていなかったため、デッドロックは検出されず、手動で介入するまで持続しました。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [360392fa2] 2023-11-27 08:49:55 +0530
Branch: REL_16_STABLE [d7ca9209c] 2023-11-27 08:59:12 +0530
Branch: REL_15_STABLE [a77fb8c68] 2023-11-27 09:14:17 +0530
</span><p>
<span class="original">
      Ensure that column default values are correctly transmitted by
      the &lt;application&gt;pgoutput&lt;/application&gt; logical replication plugin
      (Nikhil Benesch)
</span>
<span class="application">pgoutput</span>論理レプリケーションプラグインによって列のデフォルト値が正しく転送されるようにしました。
(Nikhil Benesch)
     </p><p>
<span class="original">
      &lt;command&gt;ALTER TABLE ADD COLUMN&lt;/command&gt; with a constant default
      value for the new column avoids rewriting existing tuples, instead
      expecting that reading code will insert the correct default into a
      tuple that lacks that column.  If replication was subsequently
      initiated on the table, &lt;application&gt;pgoutput&lt;/application&gt; would
      transmit NULL instead of the correct default for such a column,
      causing incorrect replication on the subscriber.
</span>
新しい列にデフォルトの定数値を持つ<code class="command">ALTER TABLE ADD COLUMN</code>は、既存のタプルの書き換えを回避し、代わりに読み取りコードがその列を欠いたタプルに正しいデフォルトを挿入することを期待していました。
その後、テーブルでレプリケーションが開始された場合、<span class="application">pgoutput</span>はそのような列の正しいデフォルトの代わりにNULLを送信したため、サブスクライバで誤ったレプリケーションを引き起こしていました。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [eeb0ebad7] 2023-11-22 11:44:14 +0530
Branch: REL_16_STABLE [1b6da28e0] 2023-11-22 11:27:38 +0530
Branch: REL_15_STABLE [57aae65ae] 2023-11-22 11:14:35 +0530
</span><p>
<span class="original">
      Fix failure of logical replication's initial sync for a table with
      no columns (Vignesh C)
</span>
列のないテーブルに対する論理レプリケーションの初期同期の失敗を修正しました。
(Vignesh C)
     </p><p>
<span class="original">
      This case generated an improperly-formatted &lt;command&gt;COPY&lt;/command&gt;
      command.
</span>
このケースでは、不適切な形式の<code class="command">COPY</code>コマンドが生成されていました。
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [5c3166905] 2024-01-12 13:41:36 -0800
Branch: REL_16_STABLE [4c03ac7e2] 2024-01-12 13:42:09 -0800
Branch: master [dd3ca8cbb] 2024-01-18 14:59:59 -0800
Branch: REL_16_STABLE [5b5318c38] 2024-01-18 15:00:15 -0800
</span><p>
<span class="original">
      Re-validate a subscription's connection string before use (Vignesh C)
</span>
使用前にサブスクリプションの接続文字列を再検証します。
(Vignesh C)
     </p><p>
<span class="original">
      This is meant to detect cases where a subscription was created
      without a password (which is allowed to superusers) but then the
      subscription owner is changed to a non-superuser.
</span>
これは、パスワードなしでサブスクリプションが作成された（スーパーユーザに許可されている）が、その後、サブスクリプションの所有者がスーパーユーザ以外に変更された場合を検出することを目的にしています。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [aaf09c592] 2024-01-03 17:40:41 -0500
Branch: REL_16_STABLE [fb464a1ae] 2024-01-03 17:40:38 -0500
Branch: REL_15_STABLE [a0d016393] 2024-01-03 17:40:38 -0500
Branch: REL_14_STABLE [9b042e27e] 2024-01-03 17:40:38 -0500
Branch: REL_13_STABLE [5810888c5] 2024-01-03 17:40:38 -0500
Branch: REL_12_STABLE [c20f2aab6] 2024-01-03 17:40:38 -0500
</span><p>
<span class="original">
      Return the correct status code when a new client disconnects without
      responding to the server's password challenge (Liu Lang, Tom Lane)
</span>
新しいクライアントがサーバのパスワードチャレンジに応答せずに接続を切断した場合に正しいステータスコードを返すようにしました。
(Liu Lang, Tom Lane)
     </p><p>
<span class="original">
      In some cases we'd treat this as a loggable error, which was not the
      intention and tends to create log spam, since common clients
      like &lt;application&gt;psql&lt;/application&gt; frequently do this.  It may
      also confuse extensions that
      use &lt;varname&gt;ClientAuthentication_hook&lt;/varname&gt;.
</span>
場合によっては、これをログに記録可能なエラーとして処理しますが、これは意図したものではなく、<span class="application">psql</span>のような一般的なクライアントが頻繁に行うため、ログスパムを生成する傾向がありました。
また、<code class="varname">ClientAuthentication_hook</code>を使用する拡張も混乱させる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [c82207a54] 2023-11-28 12:34:03 -0500
Branch: REL_16_STABLE [efa8f6064] 2023-11-28 12:34:03 -0500
Branch: REL_15_STABLE [5dd30bb54] 2023-11-28 12:34:03 -0500
Branch: REL_14_STABLE [b2b1f1288] 2023-11-28 12:34:03 -0500
Branch: REL_13_STABLE [efb804682] 2023-11-28 12:34:03 -0500
Branch: REL_12_STABLE [0bd682246] 2023-11-28 12:34:03 -0500
</span><p>
<span class="original">
      Fix incompatibility with &lt;application&gt;OpenSSL&lt;/application&gt; 3.2
      (Tristan Partin, Bo Andreson)
</span>
<span class="application">OpenSSL</span> 3.2との非互換性を修正しました。
(Tristan Partin, Bo Andreson)
     </p><p>
<span class="original">
      Use the BIO &lt;quote&gt;app_data&lt;/quote&gt; field for our private storage,
      instead of assuming it's okay to use the &lt;quote&gt;data&lt;/quote&gt; field.
      This mistake didn't cause problems before, but with 3.2 it leads
      to crashes and complaints about double frees.
</span>
<span class="quote">「<span class="quote">data</span>」</span>フィールドを使用しても問題ないと仮定するのではなく、プライベートストレージにBIOの<span class="quote">「<span class="quote">app_data</span>」</span>フィールドを使用します。
この間違いは以前は問題を引き起こさなかったが、3.2ではクラッシュや二重解放に関するエラーを引き起こしていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0a5c46a7a] 2023-12-11 11:51:56 -0500
Branch: REL_16_STABLE [ebbd499d4] 2023-12-11 11:51:56 -0500
Branch: REL_15_STABLE [551d4b28e] 2023-12-11 11:51:56 -0500
Branch: REL_14_STABLE [07ce24326] 2023-12-11 11:51:56 -0500
Branch: REL_13_STABLE [87b46ad90] 2023-12-11 11:51:56 -0500
Branch: REL_12_STABLE [271d24f31] 2023-12-11 11:51:56 -0500
</span><p>
<span class="original">
      Be more wary about &lt;application&gt;OpenSSL&lt;/application&gt; not
      setting &lt;varname&gt;errno&lt;/varname&gt; on error (Tom Lane)
</span>
<span class="application">OpenSSL</span>がエラー時に<code class="varname">errno</code>を設定しないことについて、より注意するようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      If &lt;varname&gt;errno&lt;/varname&gt; isn't set, assume the cause of the
      reported failure is read EOF.  This fixes rare cases of strange
      error reports like &lt;quote&gt;could not accept SSL connection:
      Success&lt;/quote&gt;.
</span>
<code class="varname">errno</code>が設定されていない場合、報告された失敗の原因はEOFの読み込みであると想定していました。
これにより、<span class="quote">「<span class="quote">could not accept SSL connection: Success</span>」</span>のような奇妙なエラーレポートの稀なケースが修正されます。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: REL_16_STABLE [501cfd07d] 2023-11-23 13:30:13 +0200
Branch: REL_15_STABLE [481d7d1c0] 2023-11-23 13:31:51 +0200
Branch: REL_14_STABLE [555276f85] 2023-11-23 13:31:57 +0200
</span><p>
<span class="original">
      Fix file descriptor leakage when a foreign data
      wrapper's &lt;function&gt;ForeignAsyncRequest&lt;/function&gt; function fails
      (Heikki Linnakangas)
</span>
外部データラッパーの<code class="function">ForeignAsyncRequest</code>関数が失敗したときのファイル記述子のリークを修正しました。
(Heikki Linnakangas)
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [45da69371] 2024-01-12 21:40:23 -0800
Branch: REL_16_STABLE [41820e640] 2024-01-12 21:39:35 -0800
</span><p>
<span class="original">
      Fix minor memory leak in connection string validation
      for &lt;command&gt;CREATE SUBSCRIPTION&lt;/command&gt; (Jeff Davis)
</span>
<code class="command">CREATE SUBSCRIPTION</code>の接続文字列検証における軽微なメモリリークを修正しました。
(Jeff Davis)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e4e63cd98] 2024-02-02 15:34:29 -0500
Branch: REL_16_STABLE [a15378100] 2024-02-02 15:34:29 -0500
Branch: REL_15_STABLE [3766b8b64] 2024-02-02 15:34:29 -0500
Branch: REL_14_STABLE [329b96882] 2024-02-02 15:34:29 -0500
Branch: REL_13_STABLE [29df29dad] 2024-02-02 15:34:29 -0500
Branch: REL_12_STABLE [4493bfb70] 2024-02-02 15:34:29 -0500
</span><p>
<span class="original">
      Report &lt;systemitem&gt;ENOMEM&lt;/systemitem&gt; errors from file-related system
      calls as &lt;literal&gt;ERRCODE_OUT_OF_MEMORY&lt;/literal&gt;,
      not &lt;literal&gt;ERRCODE_INTERNAL_ERROR&lt;/literal&gt; (Alexander Kuzmenkov)
</span>
ファイル関連のシステムコールによる<span class="systemitem">ENOMEM</span>エラーを<code class="literal">ERRCODE_INTERNAL_ERROR</code>ではなく<code class="literal">ERRCODE_OUT_OF_MEMORY</code>として報告するようにしました。
(Alexander Kuzmenkov)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [57b440ec1] 2024-01-18 16:11:16 -0500
Branch: REL_16_STABLE [00f941356] 2024-01-18 16:10:57 -0500
Branch: REL_15_STABLE [de2d393a8] 2024-01-18 16:10:57 -0500
Branch: REL_14_STABLE [b7e8f27d1] 2024-01-18 16:10:57 -0500
</span><p>
<span class="original">
      In &lt;application&gt;PL/pgSQL&lt;/application&gt;, support SQL commands that
      are &lt;command&gt;CREATE FUNCTION&lt;/command&gt;/&lt;command&gt;CREATE
      PROCEDURE&lt;/command&gt; with SQL-standard bodies (Tom Lane)
</span>
<span class="application">PL/pgSQL</span>で、SQL標準本体を持つ<code class="command">CREATE FUNCTION</code>/<code class="command">CREATE PROCEDURE</code>をサポートしました。
(Tom Lane)
     </p><p>
<span class="original">
      Previously, such cases failed with parsing errors due to the
      semicolon(s) appearing in the function body.
</span>
以前は、関数本体にセミコロンがあるため、このようなケースは解析エラーで失敗していました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [b8ba7344e] 2023-12-05 12:43:24 +0100
Branch: REL_16_STABLE [878aa41f8] 2023-12-05 12:43:24 +0100
Branch: REL_15_STABLE [1171c6e74] 2023-12-05 12:43:24 +0100
Branch: REL_14_STABLE [f89681816] 2023-12-05 12:43:24 +0100
Branch: master [c6605c1bd] 2024-01-16 12:27:52 +0100
Branch: REL_16_STABLE [39aab1108] 2024-01-16 12:27:52 +0100
Branch: REL_15_STABLE [2b656cbd2] 2024-01-16 12:27:52 +0100
Branch: REL_14_STABLE [7a7c8c98a] 2024-01-16 12:27:52 +0100
</span><p>
<span class="original">
      Fix &lt;application&gt;libpq&lt;/application&gt;'s
      handling of errors in pipelines (&amp;Aacute;lvaro Herrera)
</span>
パイプライン内の<span class="application">libpq</span>のエラー処理を修正しました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      The pipeline state could get out of sync if an error is returned
      for reasons other than a query problem (for example, if the
      connection is lost).  Potentially this would lead to a busy-loop in
      the calling application.
</span>
問い合わせの問題以外の理由でエラーが返された場合（たとえば、接続が失われた場合）、パイプラインの状態が同期しなくなる可能性があります。
これにより、呼び出し側アプリケーションでビジーループが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [1a5594b95] 2023-11-08 16:44:08 +0100
Branch: REL_16_STABLE [42f832685] 2023-11-08 16:44:08 +0100
Branch: REL_15_STABLE [0e28091d5] 2023-11-08 16:44:08 +0100
Branch: REL_14_STABLE [99fa98766] 2023-11-08 16:44:08 +0100
</span><p>
<span class="original">
      Make &lt;application&gt;libpq&lt;/application&gt;'s
      &lt;function&gt;PQsendFlushRequest()&lt;/function&gt; function flush the client
      output buffer under the same rules as
      other &lt;literal&gt;PQsend&lt;/literal&gt; functions (Jelte Fennema-Nio)
</span>
<span class="application">libpq</span>の<code class="function">PQsendFlushRequest()</code>関数を、他の<code class="literal">PQsend</code>関数と同じ規則に従って、クライアント出力バッファをフラッシュするようにしました。
(Jelte Fennema-Nio)
     </p><p>
<span class="original">
      In pipeline mode, it may still be necessary to
      call &lt;function&gt;PQflush()&lt;/function&gt; as well; but this change removes
      some inconsistency.
</span>
パイプラインモードでは、引き続き<code class="function">PQflush()</code>を呼び出す必要がある場合がありますが、この変更により、一部の不整合が解消されます。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [01eca6a91] 2023-11-27 09:40:44 +0900
Branch: REL_16_STABLE [8984480b5] 2023-11-27 09:40:49 +0900
Branch: REL_15_STABLE [b97226815] 2023-11-27 09:40:50 +0900
Branch: REL_14_STABLE [c3b79223f] 2023-11-27 09:40:52 +0900
Branch: REL_13_STABLE [09f680d11] 2023-11-27 09:40:55 +0900
Branch: REL_12_STABLE [0217a7444] 2023-11-27 09:40:57 +0900
</span><p>
<span class="original">
      Avoid race condition when &lt;application&gt;libpq&lt;/application&gt;
      initializes OpenSSL support concurrently in two different threads
      (Willi Mann, Michael Paquier)
</span>
<span class="application">libpq</span>が2つの異なるスレッドでOpenSSLサポートを同時に初期化する場合の競合状態を回避します。
(Willi Mann, Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d053a879b] 2023-11-23 13:30:18 -0500
Branch: REL_16_STABLE [85eb77185] 2023-11-23 13:30:18 -0500
Branch: REL_15_STABLE [a50053777] 2023-11-23 13:30:18 -0500
Branch: REL_14_STABLE [8f23e6a45] 2023-11-23 13:30:18 -0500
Branch: REL_13_STABLE [5abdfd88f] 2023-11-23 13:30:18 -0500
Branch: REL_12_STABLE [18fad508b] 2023-11-23 13:30:19 -0500
</span><p>
<span class="original">
      Fix timing-dependent failure in GSSAPI data transmission (Tom Lane)
</span>
GSSAPIデータ送信におけるタイミング依存の障害を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      When using GSSAPI encryption in non-blocking
      mode, &lt;application&gt;libpq&lt;/application&gt; sometimes failed
      with &lt;quote&gt;GSSAPI caller failed to retransmit all data needing to
      be retried&lt;/quote&gt;.
</span>
非ブロッキングモードでGSSAPI暗号化を使用すると、<span class="application">libpq</span>が<span class="quote">「<span class="quote">GSSAPI caller failed to retransmit all data needing to be retried</span>」</span>というエラーを返すことがありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3d185cfc0] 2024-01-10 18:09:29 -0500
Branch: REL_16_STABLE [ba33775fd] 2024-01-10 18:09:29 -0500
</span><p>
<span class="original">
      Change &lt;application&gt;initdb&lt;/application&gt; to always un-comment
      the &lt;filename&gt;postgresql.conf&lt;/filename&gt; entries for
      the &lt;literal&gt;lc_&lt;replaceable&gt;xxx&lt;/replaceable&gt;&lt;/literal&gt; parameters
      (Kyotaro Horiguchi)
</span>
<code class="filename">postgresql.conf</code>の<code class="literal">lc_<em class="replaceable"><code>xxx</code></em></code>パラメータのエントリを常にコメント解除するよう<span class="application">initdb</span>を変更しました。
(Kyotaro Horiguchi)
     </p><p>
<span class="original">
      &lt;application&gt;initdb&lt;/application&gt; used to work this way before v16,
      and now it does again.  The change
      caused &lt;application&gt;initdb&lt;/application&gt;'s &lt;option&gt;&amp;#45;-no-locale&lt;/option&gt;
      option to not have the intended effect
      on &lt;varname&gt;lc_messages&lt;/varname&gt;.
</span>
<span class="application">initdb</span>はv16より前はこの方法で動作していましたが、現在は再びこの方法で動作するようになりました。
以前の変更により、<span class="application">initdb</span>の<code class="option">--no-locale</code>オプションが<code class="varname">lc_messages</code>に意図した効果を及ぼさなくなっていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [a70f2a57f] 2023-11-13 17:04:26 -0500
Branch: REL_16_STABLE [64d2467fc] 2023-11-13 17:04:26 -0500
Branch: REL_15_STABLE [f15147df6] 2023-11-13 17:04:10 -0500
Branch: REL_14_STABLE [15439205d] 2023-11-13 17:04:10 -0500
Branch: REL_13_STABLE [9e08789d4] 2023-11-13 17:04:10 -0500
Branch: REL_12_STABLE [891afa84c] 2023-11-13 17:04:10 -0500
Branch: master [1e3f461e8] 2023-11-14 00:31:39 -0500
Branch: REL_16_STABLE [f1674ac6b] 2023-11-14 00:31:39 -0500
Branch: REL_15_STABLE [63c1b4d88] 2023-11-14 00:31:39 -0500
Branch: REL_14_STABLE [c532be99d] 2023-11-14 00:31:39 -0500
Branch: REL_13_STABLE [7836f6838] 2023-11-14 00:31:39 -0500
Branch: REL_12_STABLE [e43790342] 2023-11-14 00:31:39 -0500
</span><p>
<span class="original">
      In &lt;application&gt;pg_dump&lt;/application&gt;, don't dump RLS policies or
      security labels for extension member objects (Tom Lane, Jacob
      Champion)
</span>
<span class="application">pg_dump</span>では、拡張メンバオブジェクトのRLSポリシーやセキュリティラベルをダンプしません。
(Tom Lane, Jacob Champion)
     </p><p>
<span class="original">
      Previously, commands would be included in the dump to set these
      properties, which is really incorrect since they should be
      considered as internal affairs of the extension.  Moreover, the
      restoring user might not have adequate privilege to set them, and
      indeed the dumping user might not have enough privilege to dump them
      (since dumping RLS policies requires acquiring lock on their table).
</span>
以前は、これらのプロパティを設定するためのコマンドがダンプに含まれていましたが、これらは拡張の内部的な問題と考えるべきでまったく正しくありませんでした。
さらに、復元するユーザーにはそれらを設定するための十分な権限がない可能性があり、ダンプするユーザーにはそれらをダンプするための十分な権限が可能性があります（RLSポリシーのダンプには、それらのテーブルのロックを取得する必要があるため）。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7418767f1] 2023-12-29 10:57:11 -0500
Branch: REL_16_STABLE [b2c9936a7] 2023-12-29 10:57:11 -0500
Branch: REL_15_STABLE [1e0841426] 2023-12-29 10:57:11 -0500
Branch: REL_14_STABLE [aa2e323ee] 2023-12-29 10:57:11 -0500
Branch: REL_13_STABLE [8d4e8b746] 2023-12-29 10:57:11 -0500
Branch: REL_12_STABLE [69d7edb06] 2023-12-29 10:57:11 -0500
</span><p>
<span class="original">
      In &lt;application&gt;pg_dump&lt;/application&gt;, don't dump an extended
      statistics object if its underlying table isn't being dumped
      (Rian McGuire, Tom Lane)
</span>
<span class="application">pg_dump</span>では、その元となるテーブルがダンプされていない場合、拡張統計オブジェクトをダンプしません。
(Rian McGuire, Tom Lane)
     </p><p>
<span class="original">
      This conforms to the behavior for other dependent objects such as
      indexes.
</span>
これは、インデックスなどの他の依存オブジェクトの動作に準拠します。
     </p></li><li class="listitem"><span class="original">
Author: Daniel Gustafsson &lt;dgustafsson@postgresql.org&gt;
Branch: master [30e54d5c5] 2023-12-20 22:37:28 +0100
Branch: REL_16_STABLE [5b5db413d] 2023-12-20 22:37:28 +0100
</span><p>
<span class="original">
      Properly detect out-of-memory in one code path
      in &lt;application&gt;pg_dump&lt;/application&gt; (Daniel Gustafsson)
</span>
<span class="application">pg_dump</span>の1つのコードパスでメモリ不足を適切に検出します。
(Daniel Gustafsson)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [49f7c6c44] 2024-01-22 17:48:30 +0100
Branch: REL_16_STABLE [07b53de70] 2024-01-22 17:48:30 +0100
Branch: REL_15_STABLE [3fd36be52] 2024-01-22 17:48:30 +0100
Branch: REL_14_STABLE [85ecff891] 2024-01-22 17:48:30 +0100
</span><p>
<span class="original">
      Make it an error for a &lt;application&gt;pgbench&lt;/application&gt; script to
      end with an open pipeline (Anthonin Bonnefoy)
</span>
<span class="application">pgbench</span>スクリプトが開いたままのパイプラインで終了することをエラーにします。
(Anthonin Bonnefoy)
     </p><p>
<span class="original">
      Previously, &lt;application&gt;pgbench&lt;/application&gt; would behave oddly if
      a &lt;command&gt;\startpipeline&lt;/command&gt; command lacked a
      matching &lt;command&gt;\endpipeline&lt;/command&gt;.  This seems like a
      scripting mistake rather than a case
      that &lt;application&gt;pgbench&lt;/application&gt; needs to handle nicely, so
      throw an error.
</span>
以前は、<code class="command">\startpipeline</code>コマンドに対応する<code class="command">\endpipeline</code>がない場合、<span class="application">pgbench</span>は奇妙な動作をしていました。
これは<span class="application">pgbench</span>が適切に処理する必要があるエラーではなく、スクリプトの間違いのようなのでエラーを投げるようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9034a2d51] 2024-01-07 15:19:50 -0500
Branch: REL_16_STABLE [cf6f802bf] 2024-01-07 15:19:50 -0500
Branch: REL_15_STABLE [940ab02b5] 2024-01-07 15:19:50 -0500
Branch: REL_14_STABLE [90e8b86fc] 2024-01-07 15:19:50 -0500
Branch: REL_13_STABLE [9e7432faf] 2024-01-07 15:19:50 -0500
Branch: REL_12_STABLE [1c7443521] 2024-01-07 15:19:50 -0500
</span><p>
<span class="original">
      Fix crash in &lt;filename&gt;contrib/intarray&lt;/filename&gt; if an array with
      an element equal to &lt;literal&gt;INT_MAX&lt;/literal&gt; is inserted into
      a &lt;literal&gt;gist__int_ops&lt;/literal&gt; index
      (Alexander Lakhin, Tom Lane)
</span>
<code class="literal">INT_MAX</code>と等しい要素を持つ配列が<code class="literal">gist__int_ops</code>インデックスに挿入された場合に発生する<code class="filename">contrib/intarray</code>のクラッシュを修正しました。
(Alexander Lakhin, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [208470136] 2023-12-19 18:19:05 +0900
Branch: REL_16_STABLE [7f68b1462] 2023-12-19 18:19:15 +0900
Branch: REL_15_STABLE [2e08440d6] 2023-12-19 18:19:16 +0900
Branch: REL_14_STABLE [bfbe4a146] 2023-12-19 18:19:18 +0900
Branch: REL_13_STABLE [586c6a091] 2023-12-19 18:19:19 +0900
Branch: REL_12_STABLE [f610d4f11] 2023-12-19 18:19:21 +0900
</span><p>
<span class="original">
      Report a better error
      when &lt;filename&gt;contrib/pageinspect&lt;/filename&gt;'s
      &lt;function&gt;hash_bitmap_info()&lt;/function&gt; function is applied to a
      partitioned hash index (Alexander Lakhin, Michael Paquier)
</span>
<code class="filename">contrib/pageinspect</code>の<code class="function">hash_bitmap_info()</code>関数をパーティション化されたハッシュインデックスに適用した場合に、より適切なエラーを報告するようにしました。
(Alexander Lakhin, Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [a8dd62ef4] 2023-12-19 15:20:39 +0900
Branch: REL_16_STABLE [b4948ed66] 2023-12-19 15:20:48 +0900
Branch: REL_15_STABLE [b745f1680] 2023-12-19 15:20:50 +0900
Branch: REL_14_STABLE [f729fdab4] 2023-12-19 15:20:52 +0900
Branch: REL_13_STABLE [b4c1d255c] 2023-12-19 15:20:53 +0900
Branch: REL_12_STABLE [bd2d3c928] 2023-12-19 15:20:55 +0900
</span><p>
<span class="original">
      Report a better error
      when &lt;filename&gt;contrib/pgstattuple&lt;/filename&gt;'s
      &lt;function&gt;pgstathashindex()&lt;/function&gt; function is applied to a
      partitioned hash index (Alexander Lakhin)
</span>
<code class="filename">contrib/pgstattuple</code>の<code class="function">pgstathashindex()</code>関数をパーティション化されたハッシュインデックスに適用した場合に、より適切なエラーを報告するようにしました。
(Alexander Lakhin)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [9886744a3] 2024-01-10 10:41:57 +0900
Branch: REL_16_STABLE [714bfb781] 2024-01-12 13:53:07 +0900
Branch: REL_15_STABLE [33d1be06a] 2024-01-12 13:53:10 +0900
Branch: REL_14_STABLE [4c6944223] 2024-01-12 13:53:12 +0900
Branch: REL_13_STABLE [c8aab699e] 2024-01-12 13:53:13 +0900
Branch: REL_12_STABLE [9e70e6564] 2024-01-12 13:53:14 +0900
Branch: master [b83747a8a] 2024-01-11 10:39:58 +0900
Branch: REL_16_STABLE [506c77f9b] 2024-01-12 13:59:51 +0900
Branch: REL_15_STABLE [7e7d827f5] 2024-01-12 13:59:58 +0900
Branch: REL_14_STABLE [4a7475e9a] 2024-01-12 14:00:00 +0900
Branch: REL_13_STABLE [2a0eb80ae] 2024-01-12 14:00:01 +0900
Branch: REL_12_STABLE [e50a52b2b] 2024-01-12 14:00:02 +0900
</span><p>
<span class="original">
      On Windows, suppress autorun options when launching subprocesses
      in &lt;application&gt;pg_ctl&lt;/application&gt;
      and &lt;application&gt;pg_regress&lt;/application&gt; (Kyotaro Horiguchi)
</span>
Windowsでは、<span class="application">pg_ctl</span>と<span class="application">pg_regress</span>でサブプロセスを起動する際に自動起動オプションを抑制します。
(Kyotaro Horiguchi)
     </p><p>
<span class="original">
      When launching a child process via &lt;filename&gt;cmd.exe&lt;/filename&gt;,
      pass the &lt;option&gt;/D&lt;/option&gt; flag to prevent executing any autorun
      commands specified in the registry.  This avoids possibly-surprising
      side effects.
</span>
<code class="filename">cmd.exe</code>経由で子プロセスを起動する場合、<code class="option">/D</code>フラグを渡して、レジストリで指定された自動実行コマンドの実行を防ぎます。
これにより、予期しない副作用が回避できます。
     </p></li><li class="listitem"><span class="original">
Author: Nathan Bossart &lt;nathan@postgresql.org&gt;
Branch: master [97287bdfa] 2024-01-29 12:08:57 -0600
Branch: REL_16_STABLE [1b924a86e] 2024-01-29 12:09:03 -0600
Branch: REL_15_STABLE [3726c1cb0] 2024-01-29 12:09:08 -0600
</span><p>
<span class="original">
      Move &lt;function&gt;is_valid_ascii()&lt;/function&gt;
      from &lt;filename&gt;mb/pg_wchar.h&lt;/filename&gt;
      to &lt;filename&gt;utils/ascii.h&lt;/filename&gt; (Jubilee Young)
</span>
<code class="function">is_valid_ascii()</code>を<code class="filename">mb/pg_wchar.h</code>から<code class="filename">utils/ascii.h</code>に移動しました。
(Jubilee Young)
     </p><p>
<span class="original">
      This change avoids the need to
      include &lt;filename&gt;&amp;lt;simd.h&amp;gt;&lt;/filename&gt;
      in &lt;filename&gt;pg_wchar.h&lt;/filename&gt;, which was causing problems for
      some third-party code.
</span>
この変更により、一部のサードパーティコードで問題を引き起こしていた<code class="filename">&lt;simd.h&gt;</code>を<code class="filename">pg_wchar.h</code>に含める必要がなくなりました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [400928b83] 2024-01-29 12:06:13 -0500
Branch: REL_16_STABLE [e02fea093] 2024-01-29 12:06:07 -0500
Branch: REL_15_STABLE [3f8ac13b1] 2024-01-29 12:06:07 -0500
Branch: REL_14_STABLE [29e25a6b1] 2024-01-29 12:06:08 -0500
Branch: REL_13_STABLE [7c53b1977] 2024-01-29 12:06:08 -0500
Branch: REL_12_STABLE [b2fd1dab9] 2024-01-29 12:06:08 -0500
</span><p>
<span class="original">
      Fix compilation failures with &lt;application&gt;libxml2&lt;/application&gt;
      version 2.12.0 and later (Tom Lane)
</span>
<span class="application">libxml2</span>バージョン2.12.0以降でのコンパイル失敗を修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [7636725b9] 2023-12-06 14:10:39 +0900
Branch: REL_16_STABLE [6248a2bb9] 2023-12-06 14:11:41 +0900
Branch: REL_15_STABLE [87ed81a87] 2023-12-06 14:11:44 +0900
Branch: REL_14_STABLE [c49b6cab1] 2023-12-06 14:11:46 +0900
Branch: REL_13_STABLE [7d5a74033] 2023-12-06 14:11:47 +0900
</span><p>
<span class="original">
      Fix compilation failure of &lt;literal&gt;WAL_DEBUG&lt;/literal&gt; code on
      Windows (Bharath Rupireddy)
</span>
Windowsでの<code class="literal">WAL_DEBUG</code>コードのコンパイル失敗を修正しました。
(Bharath Rupireddy)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [58c3151bb] 2023-12-26 16:16:37 -0500
Branch: REL_16_STABLE [b0115e7e2] 2023-12-26 16:16:29 -0500
Branch: REL_15_STABLE [5f8d6d709] 2023-12-26 16:16:29 -0500
Branch: REL_14_STABLE [7978eee02] 2023-12-26 16:16:29 -0500
Branch: REL_13_STABLE [48e797164] 2023-12-26 16:16:29 -0500
Branch: REL_12_STABLE [1613e2fae] 2023-12-26 16:16:29 -0500
Branch: master [a46972e30] 2023-12-26 17:03:02 -0500
Branch: REL_16_STABLE [c72049dbc] 2023-12-26 17:03:24 -0500
</span><p>
<span class="original">
      Suppress compiler warnings from Python's header files
      (Peter Eisentraut, Tom Lane)
</span>
Python のヘッダファイルからのコンパイラ警告を抑制します。
(Peter Eisentraut, Tom Lane)
     </p><p>
<span class="original">
      Our preferred compiler options provoke warnings about constructs
      appearing in recent versions of Python's header files.  When using
      &lt;application&gt;gcc&lt;/application&gt;, we can suppress these warnings with
      a pragma.
</span>
私たちが推奨するコンパイラオプションは、最新バージョンのPythonのヘッダファイルに現れる構造体について警告を発します。
<span class="application">gcc</span>を使用する場合、プラグマでこれらの警告を抑制できます。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [d282e88e5] 2024-01-25 13:44:54 +1300
Branch: REL_16_STABLE [60ba7cae7] 2024-01-25 13:45:22 +1300
Branch: REL_15_STABLE [67f7aaa38] 2024-01-25 13:46:07 +1300
Branch: REL_14_STABLE [364283c92] 2024-01-25 13:46:38 +1300
Branch: REL_13_STABLE [70a82f40a] 2024-01-25 13:47:20 +1300
Branch: REL_12_STABLE [d060cb658] 2024-01-25 13:47:35 +1300
</span><p>
<span class="original">
      Avoid deprecation warning when compiling with LLVM 18 (Thomas Munro)
</span>
LLVM 18でのコンパイル時の非推奨警告を回避します。
(Thomas Munro)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [272a7c303] 2024-02-01 15:57:53 -0500
Branch: REL_16_STABLE [b4fb76fb5] 2024-02-01 15:57:53 -0500
Branch: REL_15_STABLE [970b1aeeb] 2024-02-01 15:57:53 -0500
Branch: REL_14_STABLE [35b8b2c4a] 2024-02-01 15:57:53 -0500
Branch: REL_13_STABLE [ac3afc3f7] 2024-02-01 15:57:53 -0500
Branch: REL_12_STABLE [b59ae79b7] 2024-02-01 15:57:53 -0500
</span><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt;
      release 2024a for DST law changes in Greenland, Kazakhstan, and
      Palestine, plus corrections for the Antarctic stations Casey and
      Vostok.  Also historical corrections for Vietnam, Toronto, and
      Miquelon.
</span>
タイムゾーンデータファイルをグリーンランド、カザフスタン、パレスチナでの夏時間法の変更に加え、南極観測点のケイシーとヴォストークを修正した<span class="application">tzdata</span>リリース2024aに更新しました。
また、ベトナム、トロント、ミクロン島の歴史的修正も行われています。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-16-3.html" title="E.1. リリース16.3">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-16-1.html" title="E.3. リリース16.1">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.1. リリース16.3 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.3文書">ホーム</a></td><td width="40%" align="right" valign="top"> E.3. リリース16.1</td></tr></table></div></body></html>