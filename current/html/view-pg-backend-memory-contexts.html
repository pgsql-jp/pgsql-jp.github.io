<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>53.5. pg_backend_memory_contexts</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="view-pg-available-extension-versions.html" title="53.4. pg_available_extension_versions" /><link rel="next" href="view-pg-config.html" title="53.6. pg_config" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 18.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="views.html" title="第53章 システムビュー">第53章 システムビュー</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 18.0 : view-pg-backend-memory-contexts.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-available-extension-versions.html" title="53.4. pg_available_extension_versions">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="views.html" title="第53章 システムビュー">上へ</a></td><td width="60%" align="center">53.5. <code class="structname">pg_backend_memory_contexts</code></td><td width="20%" align="right"> <a accesskey="n" href="view-pg-config.html" title="53.6. pg_config">次へ</a></td></tr></table><hr /></div><div class="sect1" id="VIEW-PG-BACKEND-MEMORY-CONTEXTS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">53.5. <code class="structname">pg_backend_memory_contexts</code> <a href="#VIEW-PG-BACKEND-MEMORY-CONTEXTS" class="id_link">#</a></h2></div></div></div><a id="id-1.10.5.9.2" class="indexterm"></a><p>
<span class="original">
   The view &lt;structname&gt;pg_backend_memory_contexts&lt;/structname&gt; displays all
   the memory contexts of the server process attached to the current session.
</span>
<code class="structname">pg_backend_memory_contexts</code>ビューは、現在のセッションにアタッチされているサーバプロセスのすべてのメモリコンテキストを表示します。
  </p><p>
<span class="original">
   &lt;structname&gt;pg_backend_memory_contexts&lt;/structname&gt; contains one row
   for each memory context.
</span>
<code class="structname">pg_backend_memory_contexts</code>の各1行が各々のメモリコンテキストを格納します。
  </p><div class="table" id="id-1.10.5.9.5"><p class="title"><strong>表53.5 <code class="structname">pg_backend_memory_contexts</code> Columns</strong></p><div class="table-contents"><table class="table" summary="pg_backend_memory_contexts Columns" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">
<span class="original">
       Column Type
</span>
列 型
      </p>
      <p>
<span class="original">
       Description
</span>
説明
      </p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">name</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       Name of the memory context
</span>
メモリコンテキストの名前
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">ident</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       Identification information of the memory context. This field is truncated at 1024 bytes
</span>
メモリコンテキストの識別情報。このフィールドは1024バイトで切り捨てられる
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">type</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       Type of the memory context
</span>
《マッチ度[61.538462]》メモリコンテキストの名前
《機械翻訳》メモリコンテキストのタイプ。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">level</code> <code class="type">int4</code>
      </p>
      <p>
<span class="original">
       The 1-based level of the context in the memory context hierarchy. The
       level of a context also shows the position of that context in the
       &lt;structfield&gt;path&lt;/structfield&gt; column.
</span>
《機械翻訳》レベル階層におけるコンテキストの1から始まるメモリコンテキスト。
コンテキストのレベルは、<code class="structfield">path</code>カラム内のそのコンテキストの位置も示します。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">path</code> <code class="type">int4[]</code>
      </p>
      <p>
<span class="original">
       Array of transient numerical identifiers to describe the memory
       context hierarchy. The first element is for
       &lt;literal&gt;TopMemoryContext&lt;/literal&gt;, subsequent elements contain
       intermediate parents and the final element contains the identifier for
       the current context.
</span>
《機械翻訳》配列階層を記述する一時的な数値識別子のメモリコンテキスト。
最初の要素は<code class="literal">TopMemoryContext</code>のためのもので、後続の要素には中間の親が含まれ、最後の要素包含は現在識別子のコンテキストです。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">total_bytes</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       Total bytes allocated for this memory context
</span>
このメモリコンテキストで確保した合計バイト数
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">total_nblocks</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       Total number of blocks allocated for this memory context
</span>
このメモリコンテキストで確保した合計ブロック数
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">free_bytes</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       Free space in bytes
</span>
バイト単位の空き領域
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">free_chunks</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       Total number of free chunks
</span>
空きチャンクの数
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">used_bytes</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       Used space in bytes
</span>
バイト単位の使用領域
      </p></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
   By default, the &lt;structname&gt;pg_backend_memory_contexts&lt;/structname&gt; view can be
   read only by superusers or roles with the privileges of the
   &lt;literal&gt;pg_read_all_stats&lt;/literal&gt; role.
</span>
デフォルトでは<code class="structname">pg_backend_memory_contexts</code>ビューはスーパーユーザか、<code class="literal">pg_read_all_stats</code>ロールの権限を持つユーザのみが読み取り専用でアクセスできます。
  </p><p>
<span class="original">
   Since memory contexts are created and destroyed during the running of a
   query, the identifiers stored in the &lt;structfield&gt;path&lt;/structfield&gt; column
   can be unstable between multiple invocations of the view in the same query.
   The example below demonstrates an effective usage of this column and
   calculates the total number of bytes used by
   &lt;literal&gt;CacheMemoryContext&lt;/literal&gt; and all of its children:
</span>
《機械翻訳》メモリ・コンテキストは問い合わせの実行中に作成および破棄されるため、<code class="structfield">パス</code>カラムに格納された識別子は、同じ問い合わせのビューのマルチプル起動間で不安定になる可能性があります。
次の例は、このカラムの効果的な使用方法を示し、<code class="literal">CacheMemoryContext</code>およびそのすべての子によって使用される合計バイト数を計算します。

</p><pre class="programlisting">
WITH memory_contexts AS (
    SELECT * FROM pg_backend_memory_contexts
)
SELECT sum(c1.total_bytes)
FROM memory_contexts c1, memory_contexts c2
WHERE c2.name = 'CacheMemoryContext'
AND c1.path[c2.level] = c2.path[c2.level];
</pre><p>

<span class="original">
   The &lt;link linkend="queries-with"&gt;Common Table Expression&lt;/link&gt; is used
   to ensure the context IDs in the &lt;structfield&gt;path&lt;/structfield&gt; column
   match between both evaluations of the view.
</span>
《機械翻訳》<a class="link" href="queries-with.html" title="7.8. WITH問い合わせ（共通テーブル式）">共通テーブル式</a>は、コンテキストの両方の評価の間で<code class="structfield">path</code>カラムマッチのビューIDを保証するために使用されます。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-available-extension-versions.html" title="53.4. pg_available_extension_versions">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="views.html" title="第53章 システムビュー">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-config.html" title="53.6. pg_config">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">53.4. <code class="structname">pg_available_extension_versions</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 53.6. <code class="structname">pg_config</code></td></tr></table></div></body></html>