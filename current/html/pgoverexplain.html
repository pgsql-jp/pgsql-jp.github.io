<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>F.29. pg_overexplain — allow EXPLAIN to dump even more details</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="pglogicalinspect.html" title="F.28. pg_logicalinspect — ロジカルデコーディングコンポーネントの調査" /><link rel="next" href="pgprewarm.html" title="F.30. pg_prewarm — リレーションデータをバッファキャッシュにプリロードする" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 18.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="contrib.html" title="付録F 追加で提供されるモジュールと拡張">付録F 追加で提供されるモジュールと拡張</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 18.0 : pgoverexplain.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="pglogicalinspect.html" title="F.28. pg_logicalinspect — ロジカルデコーディングコンポーネントの調査">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="contrib.html" title="付録F 追加で提供されるモジュールと拡張">上へ</a></td><td width="60%" align="center">F.29. pg_overexplain — allow EXPLAIN to dump even more details</td><td width="20%" align="right"> <a accesskey="n" href="pgprewarm.html" title="F.30. pg_prewarm — リレーションデータをバッファキャッシュにプリロードする">次へ</a></td></tr></table><hr /></div><div class="sect1" id="PGOVEREXPLAIN"><div class="titlepage"><div><div><h2 class="title" style="clear: both">F.29. pg_overexplain — allow EXPLAIN to dump even more details <a href="#PGOVEREXPLAIN" class="id_link">#</a></h2></div></div></div><a id="id-1.11.7.39.2" class="indexterm"></a><p>
<span class="original">
  The &lt;filename&gt;pg_overexplain&lt;/filename&gt; module extends &lt;command&gt;EXPLAIN&lt;/command&gt;
  with new options that provide additional output. It is mostly intended to
  assist with debugging of and development of the planner, rather than for
  general use. Since this module displays internal details of planner data
  structures, it may be necessary to refer to the source code to make sense
  of the output. Furthermore, the output is likely to change whenever (and as
  often as) those data structures change.
</span>
《機械翻訳》<code class="filename">pg_overexplain</code>モジュールは、追加の出力を提供する新しいオプションで拡張されます。
これは、一般的な使用ではなく、主にプランナのデバッグと開発を支援することを目的としています。
このモジュールはプランナデータ構造の内部詳細を表示するため、出力のソースコード対makeの意味を参照する必要がある場合があります。
さらに、これらのデータ構造が変更されるたびに<code class="command">EXPLAIN</code>および同じ頻度で出力が変更される可能性があります。
 </p><p>
<span class="original">
  To use it, simply load it into the server.  You can load it into an
  individual session:
</span>
《機械翻訳》使用するには、サーバにロードするだけです。
個別のセッションにロードすることもできます。

</p><pre class="programlisting">
LOAD 'pg_overexplain';
</pre><p>

<span class="original">
  You can also preload it into some or all sessions by including
  &lt;literal&gt;pg_overexplain&lt;/literal&gt; in
  &lt;xref linkend="guc-session-preload-libraries"/&gt; or
  &lt;xref linkend="guc-shared-preload-libraries"/&gt; in
  &lt;filename&gt;postgresql.conf&lt;/filename&gt;.
</span>
《機械翻訳》また、<code class="filename">postgresql.conf</code>に<a class="xref" href="runtime-config-client.html#GUC-SESSION-PRELOAD-LIBRARIES">session_preload_libraries</a>の<code class="literal">pg_overexplain</code>を含めるか、に<a class="xref" href="runtime-config-client.html#GUC-SHARED-PRELOAD-LIBRARIES">shared_preload_libraries</a>を含めることで、セッションの一部またはすべてをプリロードすることもできます。
 </p><div class="sect2" id="PGOVEREXPLAIN-DEBUG"><div class="titlepage"><div><div><h3 class="title">F.29.1. EXPLAIN (DEBUG) <a href="#PGOVEREXPLAIN-DEBUG" class="id_link">#</a></h3></div></div></div><p>
<span class="original">
   The &lt;literal&gt;DEBUG&lt;/literal&gt; option displays miscellaneous information from
   the plan tree that is not normally shown because it is not expected to be
   of general interest. For each individual plan node, it will display the
   following fields.  See &lt;literal&gt;Plan&lt;/literal&gt; in
   &lt;literal&gt;nodes/plannodes.h&lt;/literal&gt; for additional documentation of these
   fields.
</span>
《機械翻訳》<code class="literal">DEBUG</code>オプションを選択すると、計画ツリーのその他の情報が表示されます。
これらの情報は、一般的な関心事項ではないため、通常は表示されません。
個々のプランノードごとに、次のフィールドがディスプレイされます。
これらのフィールドの追加文書については、<code class="literal">nodes/plannodes.h</code>のを参照してください。
<code class="literal">Plan</code>
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Disabled Nodes&lt;/literal&gt;. Normal &lt;command&gt;EXPLAIN&lt;/command&gt;
     determines whether a node is disabled by checking whether the node's
     count of disabled nodes is larger than the sum of the counts for the
     underlying nodes. This option shows the raw counter value.
</span>
《機械翻訳》<code class="literal">Disabled Nodes</code>.Normal <code class="command">EXPLAIN</code>無効なノードのノードのカウントが、基礎となるノードのカウントのノードよりも大きいかどうかをチェックすることによって、総和が無効になっているかどうかを判断します。
このオプションは、生のカウンタ値を示します。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Parallel Safe&lt;/literal&gt;. Indicates whether it would be safe for
     a plan tree node to appear beneath a &lt;literal&gt;Gather&lt;/literal&gt; or
     &lt;literal&gt;Gather Merge&lt;/literal&gt; node, regardless of whether it is
     actually below such a node.
</span>
《機械翻訳》<code class="literal">Parallel Safe</code>.計画ツリーノードが<code class="literal">Gather</code>または<code class="literal">Gather Merge</code>ノードの下に表示される場合、実際にそのようなノードの下にあるかどうかに関係なく、セーフであるかどうかを示します。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Plan Node ID&lt;/literal&gt;. An internal ID number that should be
     unique for every node in the plan tree. It is used to coordinate parallel
     query activity.
</span>
《機械翻訳》<code class="literal">Plan Node ID</code>.計画ツリー内のすべてのノードに対してユニークである必要がある内部ID番号。
パラレル問い合わせ活動を調整するために使用されます。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;extParam&lt;/literal&gt; and &lt;literal&gt;allParam&lt;/literal&gt;. Information
     about which numbered parameters affect this plan node or its children. In
     text mode, these fields are only displayed if they are non-empty sets.
</span>
《機械翻訳》<code class="literal">extParam</code>および<code class="literal">allParam</code>。
このプランノードまたはその子に影響を与える番号付きパラメータに関する情報。
テキストモードでは、これらのフィールドは空のセットでない場合にのみ表示されます。
    </p></li></ul></div><p>
<span class="original">
   Once per query, the &lt;literal&gt;DEBUG&lt;/literal&gt; option will display the
   following fields. See &lt;literal&gt;PlannedStmt&lt;/literal&gt; in
   &lt;literal&gt;nodes/plannodes.h&lt;/literal&gt; for additional detail.
</span>
《機械翻訳》問い合わせごとに1回、<code class="literal">DEBUG</code>オプションを使用すると、次のフィールドがディスプレイされます。
詳細については、<code class="literal">PlannedStmt</code>のを参照してください。
<code class="literal">nodes/plannodes.h</code>
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Command Type&lt;/literal&gt;. For example, &lt;literal&gt;select&lt;/literal&gt;
     or &lt;literal&gt;update&lt;/literal&gt;.
</span>
《機械翻訳》<code class="literal">Command Type</code>.例の場合、<code class="literal">select</code>または<code class="literal">update</code>.
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Flags&lt;/literal&gt;. A comma-separated list of Boolean structure
     member names from the &lt;literal&gt;PlannedStmt&lt;/literal&gt; that are set to
     &lt;literal&gt;true&lt;/literal&gt;. It covers the following structure members:
     &lt;literal&gt;hasReturning&lt;/literal&gt;, &lt;literal&gt;hasModifyingCTE&lt;/literal&gt;,
     &lt;literal&gt;canSetTag&lt;/literal&gt;, &lt;literal&gt;transientPlan&lt;/literal&gt;,
     &lt;literal&gt;dependsOnRole&lt;/literal&gt;, &lt;literal&gt;parallelModeNeeded&lt;/literal&gt;.
</span>
《機械翻訳》<code class="literal">Flags</code>.<code class="literal">true</code>に設定されているからのブール構造カンマ名のリストで区切られたメンバ。
次の構造メンバが含まれます:<code class="literal">hasReturning</code>,<code class="literal">hasModifyingCTE</code>,<code class="literal">canSetTag</code>,<code class="literal">transientPlan</code>,<code class="literal">dependsOnRole</code>,<code class="literal">parallelModeNeeded</code>。
<code class="literal">PlannedStmt</code>
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Subplans Needing Rewind&lt;/literal&gt;. Integer IDs of subplans that
     may need to be rewound by the executor.
</span>
《機械翻訳》<code class="literal">Subplans Needing Rewind</code>整数による巻き戻しが必要な可能性があるサブプランのエグゼキュータID。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Relation OIDs&lt;/literal&gt;. OIDs of relations upon which this plan
     depends.
</span>
《機械翻訳》<code class="literal">Relation OIDs</code>このプランが依存しているリレーションのOID。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Executor Parameter Types&lt;/literal&gt;. Type OID for each executor parameter
     (e.g. when a nested loop is chosen and a parameter is used to pass a value down
     to an inner index scan). Does not include parameters supplied to a prepared
     statement by the user.
</span>
《機械翻訳》<code class="literal">Executor Parameter Types</code>各タイプoidのエグゼキュータパラメータたとえば、ネステッドループが選択され、パラメータが値ダウンを内部インデックススキャンに渡すために使用される場合。
includeは、ユーザによって提供されるをプリペアドステートメントにパラメータ設定しません。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;Parse Location&lt;/literal&gt;. Location within the query string
     supplied to the planner where this query's text can be found. May be
     &lt;literal&gt;Unknown&lt;/literal&gt; in some contexts. Otherwise, may be
     &lt;literal&gt;NNN to end&lt;/literal&gt; for some integer &lt;literal&gt;NNN&lt;/literal&gt; or
     &lt;literal&gt;NNN for MMM bytes&lt;/literal&gt; for some integers
     &lt;literal&gt;NNN&lt;/literal&gt; and &lt;literal&gt;MMM&lt;/literal&gt;.
</span>
《機械翻訳》<code class="literal">Parse Location</code>。
問い合わせー文字列提供される内で、このプランナのテキストを見つけることができる問い合わせの場所。
コンテキストによっては<code class="literal">Unknown</code>になる場合もあります。
それ以外の場合は、<code class="literal">NNN to end</code>いくつかの整数に対して<code class="literal">NNN</code>または<code class="literal">NNN for MMM bytes</code>いくつかの整数に対して<code class="literal">NNN</code>および<code class="literal">MMM</code>になる場合もあります。
    </p></li></ul></div></div><div class="sect2" id="PGOVEREXPLAIN-RANGE-TABLE"><div class="titlepage"><div><div><h3 class="title">F.29.2. EXPLAIN (RANGE_TABLE) <a href="#PGOVEREXPLAIN-RANGE-TABLE" class="id_link">#</a></h3></div></div></div><p>
<span class="original">
   The &lt;literal&gt;RANGE_TABLE&lt;/literal&gt; option displays information from the
   plan tree specifically concerning the query's range table. Range table
   entries correspond roughly to items appearing in the query's
   &lt;literal&gt;FROM&lt;/literal&gt; clause, but with numerous exceptions. For example,
   subqueries that are proved unnecessary may be deleted from the range table
   entirely, while inheritance expansion adds range table entries for child
   tables that are not named directly in the query.
</span>
《機械翻訳》<code class="literal">RANGE_TABLE</code>オプションは、特に計画ツリーのレンジテーブルに関する問い合わせからの情報を表示します。
レンジテーブルエントリは、問い合わせ<code class="literal">FROM</code>句に表示される項目にほぼ対応していますが、多くの例外があります。
例の場合、不要であることが証明されたサブ問い合わせはレンジテーブルから完全に削除される可能性がありますが、継承展開は、問い合わせに直接記名的ではない子テーブルのレンジテーブルエントリを追加します。
  </p><p>
<span class="original">
   Range table entries are generally referenced within the query plan by a
   range table index, or RTI. Plan nodes that reference one or more RTIs will
   be labelled accordingly, using one of the following fields: &lt;literal&gt;Scan
   RTI&lt;/literal&gt;, &lt;literal&gt;Nominal RTI&lt;/literal&gt;, &lt;literal&gt;Exclude Relation
   RTI&lt;/literal&gt;, &lt;literal&gt;Append RTIs&lt;/literal&gt;.
</span>
《機械翻訳》レンジテーブルエントリは、通常、被参照インデックスまたはRTIによる問い合わせプラン内のレンジテーブルです。
計画ノードでは、次のフィールドのいずれかを使用して、1つ以上のRTIに適切なラベルが付けられます:<code class="literal">Scan RTI</code>、<code class="literal">Nominal RTI</code>、<code class="literal">Exclude Relation RTI</code>、<code class="literal">Append RTIs</code>。
リファレンス
  </p><p>
<span class="original">
   In addition, the query as a whole may maintain lists of range table indexes
   that are needed for various purposes. These lists will be displayed once
   per query, labelled as appropriate as &lt;literal&gt;Unprunable RTIs&lt;/literal&gt; or
   &lt;literal&gt;Result RTIs&lt;/literal&gt;. In text mode, these fields are only
   displayed if they are non-empty sets.
</span>
《機械翻訳》さらに、問い合わせは全体として、様々な目的に必要なレンジテーブル索引のリストを保持できます。
これらのリストは、必要に応じて<code class="literal">Unprunable RTIs</code>または<code class="literal">Result RTIs</code>とラベル付けされ、問い合わせごとに1回表示されます。
テキストモードでは、これらのフィールドは空のセットでない場合にのみ表示されます。
  </p><p>
<span class="original">
   Finally, but most importantly, the &lt;literal&gt;RANGE_TABLE&lt;/literal&gt; option
   will display a dump of the query's entire range table. Each range table
   entry is labelled with the appropriate range table index, the kind of range
   table entry (e.g.  &lt;literal&gt;relation&lt;/literal&gt;,
   &lt;literal&gt;subquery&lt;/literal&gt;, or &lt;literal&gt;join&lt;/literal&gt;), followed by the
   contents of various range table entry fields that are not normally part of
   &lt;literal&gt;EXPLAIN&lt;/literal&gt; output. Some of these fields are only displayed
   for certain kinds of range table entries. For example,
   &lt;literal&gt;Eref&lt;/literal&gt; is displayed for all types of range table entries,
   but &lt;literal&gt;CTE Name&lt;/literal&gt; is displayed only for range table entries
   of type &lt;literal&gt;cte&lt;/literal&gt;.
</span>
《機械翻訳》最後になりますが、最も重要なことは、<code class="literal">RANGE_TABLE</code>オプションが問い合わせの全レンジテーブルのダンプをディスプレイすることです。
各レンジテーブルエントリには、適切なレンジテーブルインデックス、レンジテーブルエントリの種類<code class="literal">relation</code>、<code class="literal">subquery</code>または<code class="literal">join</code>などの後に、通常はパートではない<code class="literal">EXPLAIN</code>出力様々なレンジテーブルエントリフィールドの内容が続きます。
これらのフィールドの一部は、特定の種類のレンジテーブルエントリに対してのみ表示されます。
例では、<code class="literal">Eref</code>はすべてのタイプのレンジテーブルエントリに対して表示されますが、<code class="literal">CTE Name</code>はタイプ<code class="literal">cte</code>のレンジテーブルエントリに対してのみ表示されます。
  </p><p>
<span class="original">
   For more information about range table entries, see the definition of
   &lt;literal&gt;RangeTblEntry&lt;/literal&gt; in &lt;literal&gt;nodes/plannodes.h&lt;/literal&gt;.
</span>
《機械翻訳》レンジテーブルエントリの詳細については、<code class="literal">nodes/plannodes.h</code>内のの定義を参照してください。
<code class="literal">RangeTblEntry</code>
  </p></div><div class="sect2" id="PGOVEREXPLAIN-AUTHOR"><div class="titlepage"><div><div><h3 class="title">F.29.3. 作者 <a href="#PGOVEREXPLAIN-AUTHOR" class="id_link">#</a></h3></div></div></div><span class="original">
  &lt;title&gt;Author&lt;/title&gt;
</span><p>
   Robert Haas <code class="email">&lt;<a class="email" href="mailto:rhaas@postgresql.org">rhaas@postgresql.org</a>&gt;</code>
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pglogicalinspect.html" title="F.28. pg_logicalinspect — ロジカルデコーディングコンポーネントの調査">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="contrib.html" title="付録F 追加で提供されるモジュールと拡張">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="pgprewarm.html" title="F.30. pg_prewarm — リレーションデータをバッファキャッシュにプリロードする">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">F.28. pg_logicalinspect — ロジカルデコーディングコンポーネントの調査 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> F.30. pg_prewarm — リレーションデータをバッファキャッシュにプリロードする</td></tr></table></div></body></html>