<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. Release 11.5</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release.html" title="付録E リリースノート" /><link rel="next" href="release-11-4.html" title="E.2. リリース 11.4" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.5文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.5 &#10;                      release-11-5.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.1. Release 11.5</td><td width="20%" align="right"> <a accesskey="n" href="release-11-4.html" title="E.2. リリース 11.4">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-11-5"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. Release 11.5</h2></div></div></div><p><strong>Release date: </strong>2019-08-08</p><p>
   This release contains a variety of fixes from 11.4.
   For information about new features in major release 11, see
   <a class="xref" href="release-11.html" title="E.6. リリース11">E.6</a>.
  </p><div class="sect2" id="id-1.11.6.5.4"><div class="titlepage"><div><div><h3 class="title">E.1.1. Migration to Version 11.5</h3></div></div></div><p>
    A dump/restore is not required for those running 11.X.
   </p><p>
    However, if you are upgrading from a version earlier than 11.1,
    see <a class="xref" href="release-11-1.html" title="E.5. リリース11.1">E.5</a>.
   </p></div><div class="sect2" id="id-1.11.6.5.5"><div class="titlepage"><div><div><h3 class="title">E.1.2. Changes</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [ffa2d37e5] 2019-08-05 07:48:41 -0700
Branch: REL_12_STABLE [9993fa9dd] 2019-08-05 07:48:45 -0700
Branch: REL_11_STABLE [21f94c51f] 2019-08-05 07:48:45 -0700
Branch: REL_10_STABLE [2062007cb] 2019-08-05 07:48:45 -0700
Branch: REL9_6_STABLE [7da46192d] 2019-08-05 07:48:45 -0700
Branch: REL9_5_STABLE [752fa3dbf] 2019-08-05 07:48:45 -0700
Branch: REL9_4_STABLE [86737438b] 2019-08-05 07:48:46 -0700
</span><p>
      Require schema qualification to cast to a temporary type when using
      functional cast syntax (Noah Misch)
     </p><p>
      We have long required invocations of temporary functions to
      explicitly specify the temporary schema, that
      is <code class="literal">pg_temp.<em class="replaceable"><code>func_name</code></em>(<em class="replaceable"><code>args</code></em>)</code>.
      Require this as well for casting to temporary types using functional
      notation, for
      example <code class="literal">pg_temp.<em class="replaceable"><code>type_name</code></em>(<em class="replaceable"><code>arg</code></em>)</code>.
      Otherwise it's possible to capture a function call using a temporary
      object, allowing privilege escalation in much the same ways that we
      blocked in CVE-2007-2138.
      (CVE-2019-10208)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4766dce0d] 2019-08-05 11:20:31 -0400
Branch: REL_12_STABLE [de4b75c15] 2019-08-05 11:20:33 -0400
Branch: REL_11_STABLE [a034418cf] 2019-08-05 11:20:34 -0400
</span><p>
      Fix execution of hashed subplans that require cross-type comparison
      (Tom Lane, Andreas Seltenreich)
     </p><p>
      Hashed subplans used the outer query's original comparison operator
      to compare entries of the hash table.  This is the wrong thing if
      that operator is cross-type, since all the hash table entries will
      be of the subquery's output type.  For the set of hashable
      cross-type operators in core <span class="productname">PostgreSQL</span>,
      this mistake seems nearly harmless on 64-bit machines, but it can
      result in crashes or perhaps unauthorized disclosure of server
      memory on 32-bit machines.  Extensions might provide hashable
      cross-type operators that create larger risks.
      (CVE-2019-10209)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_12_BR [f946a4091] 2019-06-24 16:43:21 -0400
Branch: REL_11_STABLE [afaf48afb] 2019-06-24 16:43:05 -0400
Branch: REL_10_STABLE [cb8962ce8] 2019-06-24 16:43:05 -0400
Branch: REL9_6_STABLE [da1041fc3] 2019-06-24 16:43:05 -0400
Branch: REL9_5_STABLE [316f68932] 2019-06-24 16:43:05 -0400
Branch: REL9_4_STABLE [ddfb1b2ee] 2019-06-24 16:43:05 -0400
</span><p>
      Fix failure of <code class="command">ALTER TABLE ... ALTER COLUMN TYPE</code>
      when altering multiple columns' types in one command (Tom Lane)
     </p><p>
      This fixes a regression introduced in the most recent minor releases:
      indexes using the altered columns were not processed correctly,
      leading to strange failures during <code class="command">ALTER TABLE</code>.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [5562272a4] 2019-07-23 17:22:15 -0400
Branch: REL_12_STABLE [3ffe655c0] 2019-07-23 17:22:15 -0400
Branch: REL_11_STABLE [ec7f9a740] 2019-07-23 17:22:15 -0400
</span><p>
      Prevent dropping a partitioned table's trigger if there are pending
      trigger events in child partitions (Álvaro Herrera)
     </p><p>
      This notably applies to foreign key constraints, since those are
      implemented by triggers.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [2c84ea6cf] 2019-07-09 17:16:36 -0400
Branch: REL_12_STABLE [ae0a2945b] 2019-07-09 17:16:36 -0400
Branch: REL_11_STABLE [1637d959d] 2019-07-09 17:16:36 -0400
Branch: REL_11_STABLE [2ede93de9] 2019-07-10 09:13:50 -0400
</span><p>
      Include user-specified trigger arguments when copying a trigger
      definition from a partitioned table to one of its partitions
      (Patrick McHardy)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [a0555ddab] 2019-07-22 14:55:40 -0400
Branch: REL_12_STABLE [79e573fa4] 2019-07-22 14:55:23 -0400
Branch: REL_11_STABLE [6cdefc82b] 2019-07-22 14:55:23 -0400
Branch: REL_10_STABLE [0e1deaa4c] 2019-07-22 14:55:23 -0400
</span><p>
      Install dependencies to prevent dropping partition key columns
      (Tom Lane)
     </p><p>
      <code class="command">ALTER TABLE ... DROP COLUMN</code> will refuse to drop
      a column that is a partition key column.  However, indirect drops
      (such as a cascade from dropping a key column's data type) had no
      such check, allowing the deletion of a key column.  This resulted in
      a badly broken partitioned table that could neither be accessed nor
      dropped.
     </p><p>
      This fix adds <code class="structname">pg_depend</code> entries that
      enforce that the whole partitioned table, not just the key column,
      will be dropped if a cascaded drop forces removal of the key column.
      However, such entries will only be created when a partitioned table
      is created; so this fix does not remove the risk for pre-existing
      partitioned tables.  The issue can only arise for partition key
      columns of non-built-in data types, so it seems not to be a hazard
      for most users.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_12_BR [23cccb17f] 2019-06-28 14:51:08 -0400
Branch: REL_11_STABLE [43085a4f6] 2019-06-28 14:51:08 -0400
</span><p>
      Ensure that column numbers are correctly mapped between a partitioned
      table and its default partition (Amit Langote)
     </p><p>
      Some operations misbehaved if the mapping wasn't exactly one-to-one,
      for example if there were dropped columns in one table and not the
      other.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_12_BR [55ed3defc] 2019-06-26 18:38:51 -0400
Branch: REL_11_STABLE [9653ca219] 2019-06-26 18:38:51 -0400
Branch: master Release: REL_12_BR [050098b14] 2019-06-27 11:57:10 -0400
Branch: REL_11_STABLE [e4f2d4fe9] 2019-06-27 11:57:10 -0400
</span><p>
      Ignore partitions that are foreign tables when creating indexes on
      partitioned tables (Álvaro Herrera)
     </p><p>
      Previously an error was thrown on encountering a foreign-table
      partition, but that's unhelpful and doesn't protect against any
      actual problem.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [489247b0e] 2019-08-04 11:18:45 -0400
Branch: REL_12_STABLE [865440714] 2019-08-04 11:18:45 -0400
Branch: REL_11_STABLE [e3967a16d] 2019-08-04 11:18:45 -0400
</span><p>
      Prune a partitioned table's default partition (that is, avoid
      uselessly scanning it) in more cases (Yuzuko Hosoya)
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [cfde23493] 2019-07-12 19:12:38 +1200
Branch: REL_12_STABLE [30a268ed2] 2019-07-12 19:11:45 +1200
Branch: REL_11_STABLE [757f1baa8] 2019-07-12 19:10:12 +1200
</span><p>
      Fix possible failure to prune partitions when there are
      multiple partition key columns of <code class="type">boolean</code> type
      (David Rowley)
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [a5be4062f] 2019-07-03 23:44:54 +1200
Branch: REL_12_STABLE [0cce43a71] 2019-07-03 23:45:25 +1200
Branch: REL_11_STABLE [133f5ae21] 2019-07-03 23:45:42 +1200
Branch: REL_10_STABLE [232019b79] 2019-07-03 23:46:06 +1200
Branch: REL9_6_STABLE [388d05a5e] 2019-07-03 23:46:26 +1200
</span><p>
      Don't optimize away <code class="literal">GROUP BY</code> columns when the
      table involved is an inheritance parent (David Rowley)
     </p><p>
      Normally, if a table's primary key column(s) are included
      in <code class="literal">GROUP BY</code>, it's safe to drop any other grouping
      columns, since the primary key columns are enough to make the groups
      unique.  This rule does not work if the query is also reading
      inheritance child tables, though; the parent's uniqueness does not
      extend to the children.
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master Release: REL_12_BR [aca127c10] 2019-06-19 01:25:57 +1200
Branch: REL_11_STABLE [14d8b539d] 2019-06-19 02:13:52 +1200
</span><p>
      Avoid incorrect use of parallel hash join for semi-join queries
      (Thomas Munro)
     </p><p>
      This error resulted in duplicate result rows from
      some <code class="literal">EXISTS</code> queries.
     </p></li><li class="listitem"><span class="original">
Author: Andrew Gierth &lt;rhodiumtoad@postgresql.org&gt;
Branch: master Release: REL_12_BR [da53be23d] 2019-06-30 23:49:13 +0100
Branch: REL_11_STABLE [05dc5f476] 2019-06-30 23:49:23 +0100
Branch: REL_10_STABLE [a1637caee] 2019-06-30 23:49:25 +0100
Branch: REL9_6_STABLE [793eb94e3] 2019-06-30 23:49:29 +0100
Branch: REL9_5_STABLE [4a36c7715] 2019-06-30 23:49:31 +0100
</span><p>
      Avoid using unnecessary sort steps for some queries
      with <code class="literal">GROUPING SETS</code> (Andrew Gierth, Richard Guo)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d3751adcf] 2019-07-12 16:24:59 -0400
Branch: REL_12_STABLE [cee976c4e] 2019-07-12 16:24:59 -0400
Branch: REL_11_STABLE [5c1b7edc2] 2019-07-12 16:24:59 -0400
</span><p>
      Fix possible failure of planner's index endpoint probes (Tom Lane)
     </p><p>
      When using a recently-created index to determine the minimum or
      maximum value of a column, the planner could select a recently-dead
      tuple that does not actually contain the endpoint value.  In the
      worst case the tuple might contain a null, resulting in a visible
      error <span class="quote">「<span class="quote">found unexpected null value in index</span>」</span>; more
      likely we would just end up using the wrong value, degrading the
      quality of planning estimates.
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [f5825853e] 2019-07-10 10:15:32 +1200
Branch: REL_12_STABLE [abbb2e143] 2019-07-10 10:15:43 +1200
Branch: REL_11_STABLE [9509173d2] 2019-07-10 10:15:54 +1200
Branch: REL_10_STABLE [72b526779] 2019-07-10 10:16:02 +1200
</span><p>
      Fix failure to access trigger transition tables
      during <code class="literal">EvalPlanQual</code> rechecks (Alex Aktsipetrov)
     </p><p>
      Triggers that rely on transition tables sometimes failed in the
      presence of concurrent updates.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3093eb2b8] 2019-07-16 18:17:47 -0400
Branch: REL_12_STABLE [e0d13dc6f] 2019-07-16 18:17:47 -0400
Branch: REL_11_STABLE [46e2a18d0] 2019-07-16 18:17:47 -0400
Branch: REL_10_STABLE [583025c3c] 2019-07-16 18:17:47 -0400
Branch: REL9_6_STABLE [a6e7eb42d] 2019-07-16 18:17:47 -0400
Branch: REL9_5_STABLE [f9208f246] 2019-07-16 18:17:47 -0400
Branch: REL9_4_STABLE [67bd6adcb] 2019-07-16 18:17:47 -0400
</span><p>
      Fix mishandling of multi-column foreign keys when rebuilding a
      foreign key constraint (Tom Lane)
     </p><p>
      <code class="command">ALTER TABLE</code> could make an incorrect decision about
      whether revalidation of a foreign key is necessary, if not all
      columns of the key are of the same type.  It seems likely that the
      error would always have been in the conservative direction, that is
      revalidating unnecessarily.
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [14ef15a22] 2019-07-30 19:47:33 +0200
Branch: REL_12_STABLE [e1947f6c3] 2019-07-30 19:48:13 +0200
Branch: REL_11_STABLE [4dbf70b2f] 2019-07-30 19:48:26 +0200
Branch: REL_10_STABLE [859b3003d] 2019-07-30 19:48:39 +0200
</span><p>
      Don't build extended statistics for inheritance trees (Tomas Vondra)
     </p><p>
      This avoids a <span class="quote">「<span class="quote">tuple already updated by self</span>」</span> error
      during <code class="command">ANALYZE</code>.
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_12_BR [8b21b416e] 2019-06-18 18:23:16 -0400
Branch: REL_11_STABLE [5246d3e79] 2019-06-18 18:23:16 -0400
Branch: REL_10_STABLE [0772d8a00] 2019-06-18 18:23:16 -0400
Branch: REL9_6_STABLE [0ba35c7c9] 2019-06-18 18:23:16 -0400
</span><p>
      Avoid spurious deadlock errors when upgrading a tuple lock
      (Oleksii Kliukin)
     </p><p>
      When two or more transactions are waiting for a transaction T1 to
      release a tuple-level lock, and T1 upgrades its lock to a higher
      level, a spurious deadlock among the waiting transactions could be
      reported when T1 finishes.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3420851a2] 2019-07-29 18:49:04 -0400
Branch: REL_12_STABLE [d933816c0] 2019-07-29 18:49:04 -0400
Branch: REL_11_STABLE [0dcb1c6c4] 2019-07-29 18:49:04 -0400
Branch: REL_10_STABLE [af41ab50f] 2019-07-29 18:49:04 -0400
Branch: REL9_6_STABLE [c3b613e1b] 2019-07-29 18:49:04 -0400
</span><p>
      Fix failure to resolve deadlocks involving multiple parallel worker
      processes (Rui Hai Jiang)
     </p><p>
      It is not clear whether this bug is reachable with non-artificial
      queries, but if it did happen, the queries involved in an
      otherwise-resolvable deadlock would block until canceled.
     </p></li><li class="listitem"><span class="original">
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [e6feef571] 2019-07-18 13:41:10 -0700
Branch: REL_12_STABLE [613eabcd5] 2019-07-18 17:26:47 -0700
Branch: REL_11_STABLE [f5f20deda] 2019-07-18 14:01:17 -0700
Branch: REL_10_STABLE [955089d4d] 2019-07-18 16:49:10 -0700
Branch: REL9_6_STABLE [56afeb765] 2019-07-18 16:53:17 -0700
Branch: REL9_5_STABLE [8af1fccba] 2019-07-18 16:55:59 -0700
Branch: REL9_4_STABLE [2be355498] 2019-07-18 17:01:44 -0700
Branch: master [b538c90b1] 2019-07-18 17:04:50 -0700
Branch: REL_12_STABLE [5245552dd] 2019-07-18 17:26:56 -0700
Branch: REL_11_STABLE [477ebfc96] 2019-07-18 16:45:03 -0700
Branch: REL_10_STABLE [b0a7e0f07] 2019-07-18 16:49:25 -0700
Branch: REL9_6_STABLE [390bf90f7] 2019-07-18 16:53:25 -0700
Branch: REL9_5_STABLE [f1c72294b] 2019-07-18 16:56:18 -0700
Branch: REL9_4_STABLE [812623b69] 2019-07-18 17:01:58 -0700
</span><p>
      Prevent incorrect canonicalization of date ranges
      with <code class="literal">infinity</code> endpoints (Laurenz Albe)
     </p><p>
      It's incorrect to try to convert an open range to a closed one or
      vice versa by incrementing or decrementing the endpoint value, if
      the endpoint is infinite; so leave the range alone in such cases.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b9d2c5c7a] 2019-07-26 11:59:00 -0400
Branch: REL_12_STABLE [01e0538e8] 2019-07-26 11:59:00 -0400
Branch: REL_11_STABLE [ca918f99a] 2019-07-26 11:59:00 -0400
Branch: REL_10_STABLE [fa854112f] 2019-07-26 11:59:00 -0400
Branch: REL9_6_STABLE [30bed9f63] 2019-07-26 11:59:00 -0400
Branch: REL9_5_STABLE [13e493cf6] 2019-07-26 11:59:00 -0400
Branch: REL9_4_STABLE [81b29c871] 2019-07-26 11:59:00 -0400
</span><p>
      Fix loss of fractional digits when converting very
      large <code class="type">money</code> values to <code class="type">numeric</code> (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_12_BR [3c28fd228] 2019-06-19 11:02:19 +0900
Branch: REL_11_STABLE [6dfc94644] 2019-06-19 11:02:28 +0900
</span><p>
      Fix printing of <code class="literal">BTREE_META_CLEANUP</code> WAL records
      (Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Peter Geoghegan &lt;pg@bowt.ie&gt;
Branch: master [d004147eb] 2019-07-18 13:22:56 -0700
Branch: REL_12_STABLE [7772dece9] 2019-07-18 13:22:54 -0700
Branch: REL_11_STABLE [6523f2ed3] 2019-07-18 13:22:53 -0700
</span><p>
      Prevent assertion failures due to mishandling of version-2 btree
      metapages (Peter Geoghegan)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_12_BR [1323bfce5] 2019-06-22 20:31:50 -0400
Branch: REL_11_STABLE [40dde8290] 2019-06-22 20:31:50 -0400
Branch: REL_10_STABLE [05399b148] 2019-06-22 20:31:50 -0400
Branch: REL9_6_STABLE [9895e3a36] 2019-06-22 20:31:50 -0400
Branch: REL9_5_STABLE [36d2c3ad3] 2019-06-22 20:31:50 -0400
Branch: REL9_4_STABLE [2854e2ab6] 2019-06-22 20:31:50 -0400
</span><p>
      Fix spinlock assembly code for MIPS CPUs so that it works on
      MIPS r6 (YunQiang Su)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [5683b3495] 2019-07-03 18:08:53 -0400
Branch: REL_12_STABLE [1dd8cf1b4] 2019-07-03 18:08:53 -0400
Branch: REL_11_STABLE [24c5c711f] 2019-07-03 18:08:53 -0400
</span><p>
      Ensure that a record or row value returned from a PL/pgSQL function
      is marked with the function's declared composite type (Tom Lane)
     </p><p>
      This avoids problems if the result is stored directly into a table.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b654714f9] 2019-07-25 12:11:17 -0400
Branch: REL_12_STABLE [c58cf97f2] 2019-07-25 12:11:18 -0400
Branch: REL_11_STABLE [11a0a4db3] 2019-07-25 12:11:19 -0400
Branch: REL_10_STABLE [cb65b454f] 2019-07-25 12:11:21 -0400
Branch: REL9_6_STABLE [ba27151d1] 2019-07-25 12:11:22 -0400
Branch: REL9_5_STABLE [6266654db] 2019-07-25 12:11:23 -0400
Branch: REL9_4_STABLE [8c52b77dd] 2019-07-25 12:11:24 -0400
</span><p>
      Make <span class="application">libpq</span> ignore carriage return
      (<code class="literal">\r</code>) in connection service files
      (Tom Lane, Michael Paquier)
     </p><p>
      In some corner cases, service files containing Windows-style
      newlines could be mis-parsed, resulting in connection failures.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0ec3e13c6] 2019-07-02 13:35:14 -0400
Branch: REL_12_STABLE [4f3648de2] 2019-07-02 13:35:14 -0400
Branch: REL_11_STABLE [074add6ed] 2019-07-02 13:35:14 -0400
Branch: REL_10_STABLE [90434e6f2] 2019-07-02 13:35:14 -0400
Branch: REL9_6_STABLE [47fe7a753] 2019-07-02 13:35:14 -0400
</span><p>
      In <span class="application">psql</span>, avoid offering incorrect tab
      completion options
      after <code class="literal">SET <em class="replaceable"><code>variable</code></em> =</code>
      (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4e784f351] 2019-07-24 18:14:43 -0400
Branch: REL_12_STABLE [d16e514be] 2019-07-24 18:14:45 -0400
Branch: REL_11_STABLE [cff13efb4] 2019-07-24 18:14:46 -0400
Branch: REL_10_STABLE [3808cf21f] 2019-07-24 18:14:27 -0400
</span><p>
      Fix a small memory leak in <span class="application">psql</span>'s
      <code class="literal">\d</code> command (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [07b39083c] 2019-07-31 15:42:49 -0400
Branch: REL_12_STABLE [408f75938] 2019-07-31 15:42:50 -0400
Branch: REL_11_STABLE [c64e29705] 2019-07-31 15:42:50 -0400
Branch: REL_10_STABLE [7615afa48] 2019-07-31 15:42:50 -0400
Branch: REL9_6_STABLE [b31a98022] 2019-07-31 15:42:50 -0400
Branch: REL9_5_STABLE [9dd74ba5a] 2019-07-31 15:42:50 -0400
Branch: REL9_4_STABLE [4e10b6f82] 2019-07-31 15:42:50 -0400
</span><p>
      Fix <span class="application">pg_dump</span> to ensure that custom operator
      classes are dumped in the right order (Tom Lane)
     </p><p>
      If a user-defined opclass is the subtype opclass of a user-defined
      range type, related objects were dumped in the wrong order,
      producing an unrestorable dump.  (The underlying failure to handle
      opclass dependencies might manifest in other cases too, but this is
      the only known case.)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: REL_11_STABLE [e991b6cce] 2019-07-26 15:17:03 -0400
Branch: REL_10_STABLE [46c193213] 2019-07-26 15:17:03 -0400
</span><p>
      Fix possible lockup in <span class="application">pgbench</span> when
      using <code class="option">-R</code> option (Fabien Coelho)
     </p></li><li class="listitem"><span class="original">
Author: Peter Geoghegan &lt;pg@bowt.ie&gt;
Branch: master [894af78f1] 2019-07-20 11:11:55 -0700
Branch: REL_12_STABLE [980224b4a] 2019-07-20 11:11:54 -0700
Branch: REL_11_STABLE [577c8802d] 2019-07-20 11:11:52 -0700
</span><p>
      Improve reliability of <code class="filename">contrib/amcheck</code>'s index
      verification (Peter Geoghegan)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e0f504885] 2019-08-04 14:05:34 -0400
Branch: REL_12_STABLE [df521ab79] 2019-08-04 14:05:35 -0400
Branch: REL_11_STABLE [e8b639357] 2019-08-04 14:05:35 -0400
</span><p>
      Fix handling of Perl <code class="literal">undef</code> values
      in <code class="filename">contrib/jsonb_plperl</code> (Ivan Panchenko)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [b2a3d706b] 2019-08-01 09:37:28 +0900
Branch: REL_12_STABLE [20f5cb195] 2019-08-01 09:37:48 +0900
Branch: REL_11_STABLE [a7eb28d0c] 2019-08-01 09:38:02 +0900
Branch: REL_10_STABLE [cb0074417] 2019-08-01 09:38:14 +0900
Branch: REL9_6_STABLE [957b822b5] 2019-08-01 09:38:20 +0900
Branch: REL9_5_STABLE [4536e494f] 2019-08-01 09:38:25 +0900
Branch: REL9_4_STABLE [eea28a3cb] 2019-08-01 09:38:29 +0900
</span><p>
      Fix <code class="filename">contrib/passwordcheck</code> to coexist with other
      users of <code class="varname">check_password_hook</code> (Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f5a4ab23e] 2019-07-25 11:02:43 -0400
Branch: REL_12_STABLE [665329abe] 2019-07-25 11:02:57 -0400
Branch: REL_11_STABLE [5a1c61bdf] 2019-07-25 11:03:08 -0400
Branch: REL_10_STABLE [5c3d47287] 2019-07-25 11:03:13 -0400
Branch: REL9_6_STABLE [0a9ba5baa] 2019-07-25 11:03:21 -0400
Branch: REL9_5_STABLE [b22e24983] 2019-07-25 11:03:30 -0400
Branch: REL9_4_STABLE [0e259d4bc] 2019-07-25 11:03:37 -0400
</span><p>
      Fix <code class="filename">contrib/sepgsql</code> tests to work under recent
      SELinux releases (Mike Palmiotto)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [27cd521e6] 2019-07-26 10:01:18 +1200
Branch: REL_12_STABLE [3964d3bce] 2019-07-26 10:09:31 +1200
Branch: REL_11_STABLE [77d5dea38] 2019-07-26 10:09:54 +1200
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [803466b6f] 2019-08-04 13:07:12 -0400
Branch: REL_12_STABLE [4844c6303] 2019-08-04 13:07:12 -0400
Branch: REL_11_STABLE [45d6789e7] 2019-08-04 13:07:12 -0400
</span><p>
      Improve stability of <code class="filename">src/test/kerberos</code>
      and <code class="filename">src/test/ldap</code> regression tests
      (Thomas Munro, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [7d81bdc8c] 2019-07-24 10:53:39 +0900
Branch: REL_12_STABLE [0ceb28da0] 2019-07-24 10:54:20 +0900
Branch: REL_11_STABLE [ca553394b] 2019-07-24 10:54:26 +0900
Branch: REL_10_STABLE [46fb7ff65] 2019-07-24 10:54:32 +0900
Branch: REL9_6_STABLE [c6f961bbb] 2019-07-24 10:54:39 +0900
</span><p>
      Improve stability of <code class="filename">src/test/recovery</code>
      regression tests (Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_12_BR [eb9812f27] 2019-05-21 13:11:57 -0400
Branch: REL_11_STABLE [8d21512dc] 2019-07-22 17:14:22 -0400
Branch: REL_10_STABLE [7ac7bf50c] 2019-07-22 17:14:22 -0400
Branch: REL9_6_STABLE [75348a733] 2019-07-22 17:14:22 -0400
Branch: REL9_5_STABLE [69c3d5191] 2019-07-22 17:14:22 -0400
Branch: REL9_4_STABLE [19f9a5aed] 2019-07-22 17:14:22 -0400
</span><p>
      Reduce <span class="systemitem">stderr</span> output
      from <span class="application">pg_upgrade</span>'s test script (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Andrew Dunstan &lt;andrew@dunslane.net&gt;
Branch: master [1a721248f] 2019-07-24 11:41:39 -0400
Branch: REL_12_STABLE [bfa4263e7] 2019-07-24 11:47:58 -0400
Branch: REL_11_STABLE [1357181d4] 2019-07-24 11:48:25 -0400
</span><p>
      Fix <span class="application">pgbench</span> regression tests to work on
      Windows (Fabien Coelho)
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master Release: REL_12_BR [660a2b190] 2019-06-21 20:34:23 -0700
Branch: REL_11_STABLE [a40dca815] 2019-06-21 20:47:34 -0700
Branch: REL_10_STABLE [6121ba9d1] 2019-06-21 20:58:42 -0700
Branch: REL9_6_STABLE [186113b04] 2019-06-21 20:59:38 -0700
</span><p>
      Fix TAP tests to work with msys Perl, in cases where the build
      directory is on a non-root msys mount point (Noah Misch)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [2b1394fc2] 2019-07-02 14:02:33 +0900
Branch: REL_12_STABLE [f2d069ce9] 2019-07-03 08:57:22 +0900
Branch: REL_11_STABLE [721963f24] 2019-07-03 08:57:39 +0900
Branch: REL_10_STABLE [0ce8e49b2] 2019-07-03 08:58:04 +0900
Branch: REL9_6_STABLE [78aaffd28] 2019-07-03 08:58:17 +0900
Branch: REL9_5_STABLE [3337fd192] 2019-07-03 08:58:28 +0900
Branch: REL9_4_STABLE [d49c127d9] 2019-07-03 08:58:34 +0900
</span><p>
      Support building Postgres with Microsoft Visual Studio 2019
      (Haribabu Kommi)
     </p></li><li class="listitem"><span class="original">
Author: Andrew Dunstan &lt;andrew@dunslane.net&gt;
Branch: master [20e99cddd] 2019-07-25 11:38:43 -0400
Branch: REL_12_STABLE [6e5417d77] 2019-07-25 11:39:26 -0400
Branch: REL_11_STABLE [fe9e63284] 2019-07-25 11:39:34 -0400
Branch: REL_10_STABLE [165f4eecf] 2019-07-25 11:39:45 -0400
Branch: REL9_6_STABLE [09fa17160] 2019-07-25 11:40:09 -0400
Branch: REL9_5_STABLE [4f435f78d] 2019-07-25 11:40:23 -0400
Branch: REL9_4_STABLE [53fd0f04b] 2019-07-25 11:40:34 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [cb9bb1578] 2019-07-25 14:42:02 -0400
Branch: REL_12_STABLE [b24537046] 2019-07-25 14:42:08 -0400
Branch: REL_11_STABLE [e465d9d40] 2019-07-25 14:42:12 -0400
Branch: REL_10_STABLE [ed304d1e2] 2019-07-25 14:42:16 -0400
Branch: REL9_6_STABLE [3f1c6d048] 2019-07-25 14:42:21 -0400
Branch: REL9_5_STABLE [4583605e6] 2019-07-25 14:42:25 -0400
Branch: REL9_4_STABLE [7ea91ae19] 2019-07-25 14:42:30 -0400
</span><p>
      In Visual Studio builds, honor <code class="literal">WindowsSDKVersion</code>
      environment variable, if that's set (Peifeng Qiu)
     </p><p>
      This fixes build failures in some configurations.
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_12_BR [d993e0fb8] 2019-06-26 10:44:46 +0900
Branch: REL_11_STABLE [0e08a3a1f] 2019-06-26 23:04:32 +0900
Branch: REL_10_STABLE [a55980559] 2019-06-26 23:05:06 +0900
Branch: REL9_6_STABLE [532960669] 2019-06-26 23:05:34 +0900
Branch: REL9_5_STABLE [d908a0087] 2019-06-26 23:05:54 +0900
Branch: REL9_4_STABLE [05b2758c3] 2019-06-26 23:06:14 +0900
</span><p>
      Support OpenSSL 1.1.0 and newer in Visual Studio builds
      (Juan José Santamaría Flecha, Michael Paquier)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master Release: REL_12_BR [0089c3059] 2019-06-25 09:36:21 +1200
Branch: REL_11_STABLE [2839bf353] 2019-06-25 09:40:20 +1200
Branch: REL_10_STABLE [956611e4c] 2019-06-25 09:40:54 +1200
Branch: REL9_6_STABLE [3a3b361cc] 2019-06-25 09:41:15 +1200
Branch: REL9_5_STABLE [9ad5ea82d] 2019-06-25 09:44:10 +1200
</span><p>
      Allow <span class="application">make</span> options to be passed down
      to <span class="application">gmake</span> when non-GNU make is invoked at
      the top level (Thomas Munro)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3754113f3] 2019-07-26 12:45:32 -0400
Branch: REL_12_STABLE [e31dfe99c] 2019-07-26 12:45:52 -0400
Branch: REL_11_STABLE [4459266bf] 2019-07-26 12:45:57 -0400
Branch: REL_10_STABLE [ae9b91be7] 2019-07-26 12:46:03 -0400
Branch: REL9_6_STABLE [51b47471f] 2019-07-26 12:46:10 -0400
Branch: REL9_5_STABLE [9ef811742] 2019-07-26 12:46:15 -0400
Branch: REL9_4_STABLE [6c4ffab76] 2019-07-26 12:46:20 -0400
</span><p>
      Avoid choosing <code class="literal">localtime</code>
      or <code class="literal">posixrules</code> as <code class="varname">TimeZone</code>
      during <span class="application">initdb</span> (Tom Lane)
     </p><p>
      In some cases <span class="application">initdb</span> would choose one of
      these artificial zone names over the <span class="quote">「<span class="quote">real</span>」</span> zone name.
      Prefer any other match to the C library's timezone behavior over
      these two.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [8ab66081c] 2019-07-26 13:07:08 -0400
Branch: REL_12_STABLE [d095b2fe6] 2019-07-26 13:07:08 -0400
Branch: REL_11_STABLE [d304313b0] 2019-07-26 13:07:08 -0400
Branch: REL_10_STABLE [55862b2e9] 2019-07-26 13:07:08 -0400
Branch: REL9_6_STABLE [f6c7c64e9] 2019-07-26 13:07:08 -0400
Branch: REL9_5_STABLE [f227aecb9] 2019-07-26 13:07:08 -0400
Branch: REL9_4_STABLE [e49132e63] 2019-07-26 13:07:08 -0400
</span><p>
      Adjust <code class="structname">pg_timezone_names</code> view to show
      the <code class="literal">Factory</code> time zone if and only if it has a
      short abbreviation (Tom Lane)
     </p><p>
      Historically, IANA set up this artificial zone with
      an <span class="quote">「<span class="quote">abbreviation</span>」</span> like <code class="literal">Local time zone must be
      set--see zic manual page</code>.  Modern versions of the tzdb
      database show <code class="literal">-00</code> instead, but some platforms
      alter the data to show one or another of the historical phrases.
      Show this zone only if it uses the modern abbreviation.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f285322f9] 2019-07-17 18:26:23 -0400
Branch: REL_12_STABLE [59cea8f36] 2019-07-17 18:26:23 -0400
Branch: REL_11_STABLE [1d1ff50d2] 2019-07-17 18:26:23 -0400
Branch: REL_10_STABLE [ccc323b57] 2019-07-17 18:26:24 -0400
Branch: REL9_6_STABLE [22e73dea3] 2019-07-17 18:26:24 -0400
Branch: REL9_5_STABLE [417845646] 2019-07-17 18:26:24 -0400
Branch: REL9_4_STABLE [6db29a8fc] 2019-07-17 18:26:24 -0400
Branch: master [421466863] 2019-07-19 14:48:57 -0400
Branch: REL_12_STABLE [533522846] 2019-07-19 14:49:05 -0400
Branch: REL_11_STABLE [ee9417a04] 2019-07-19 14:49:10 -0400
Branch: REL_10_STABLE [8a4fa297a] 2019-07-19 14:49:15 -0400
Branch: REL9_6_STABLE [e480d8350] 2019-07-19 14:49:21 -0400
Branch: REL9_5_STABLE [caa22d72a] 2019-07-19 14:49:26 -0400
Branch: REL9_4_STABLE [847561c1d] 2019-07-19 14:49:31 -0400
</span><p>
      Sync our copy of the timezone library with IANA tzcode release 2019b
      (Tom Lane)
     </p><p>
      This adds support for <span class="application">zic</span>'s new <code class="option">-b
      slim</code> option to reduce the size of the installed zone files.
      We are not currently using that, but may enable it in future.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [93907478e] 2019-07-17 19:15:21 -0400
Branch: REL_12_STABLE [d4f283162] 2019-07-17 19:15:35 -0400
Branch: REL_11_STABLE [bcafb675a] 2019-07-17 19:15:42 -0400
Branch: REL_10_STABLE [53256e892] 2019-07-17 19:15:48 -0400
Branch: REL9_6_STABLE [e3441b2a2] 2019-07-17 19:15:55 -0400
Branch: REL9_5_STABLE [a0c905f23] 2019-07-17 19:16:01 -0400
Branch: REL9_4_STABLE [8474656d9] 2019-07-17 19:16:13 -0400
</span><p>
      Update time zone data files to <span class="application">tzdata</span>
      release 2019b for DST law changes in Brazil, plus
      historical corrections for Hong Kong, Italy, and Palestine.
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-11-4.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">付録E リリースノート </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.2. リリース 11.4</td></tr></table></div></body></html>