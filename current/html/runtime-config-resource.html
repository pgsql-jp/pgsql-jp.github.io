<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.4. 資源の消費</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="runtime-config-connection.html" title="19.3. 接続と認証" /><link rel="next" href="runtime-config-wal.html" title="19.5. 先行書き込みログ（WAL）" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 18.2文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="runtime-config.html" title="第19章 サーバ設定">第19章 サーバ設定</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 18.2 : runtime-config-resource.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="runtime-config-connection.html" title="19.3. 接続と認証">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="第19章 サーバ設定">上へ</a></td><td width="60%" align="center">19.4. 資源の消費</td><td width="20%" align="right"> <a accesskey="n" href="runtime-config-wal.html" title="19.5. 先行書き込みログ（WAL）">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RUNTIME-CONFIG-RESOURCE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.4. 資源の消費 <a href="#RUNTIME-CONFIG-RESOURCE" class="id_link">#</a></h2></div></div></div><span class="original">
    &lt;title&gt;Resource Consumption&lt;/title&gt;
</span><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-MEMORY"><div class="titlepage"><div><div><h3 class="title">19.4.1. メモリ <a href="#RUNTIME-CONFIG-RESOURCE-MEMORY" class="id_link">#</a></h3></div></div></div><span class="original">
     &lt;title&gt;Memory&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt id="GUC-SHARED-BUFFERS"><span class="term"><code class="varname">shared_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.1.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.1.1.4" class="indexterm"></a>
      </span> <a href="#GUC-SHARED-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Sets the amount of memory the database server uses for shared
        memory buffers.  The default is typically 128 megabytes
        (&lt;literal&gt;128MB&lt;/literal&gt;), but might be less if your kernel settings will
        not support it (as determined during &lt;application&gt;initdb&lt;/application&gt;).
        This setting must be at least 128 kilobytes.  However,
        settings significantly higher than the minimum are usually needed
        for good performance.
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        (Non-default values of &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; change the minimum
        value.)
        This parameter can only be set at server start.
</span>
データベースサーバが共有メモリバッファのために使用するメモリ量を設定します。
デフォルトは一般的に128メガバイト(<code class="literal">128MB</code>)です。
しかし、稼働中のカーネルの設定がこの値をサポートしていない場合、より少なくなることがあります（<span class="application">initdb</span>の過程で決定されます）。
この設定は最低限128キロバイトなければなりません。
しかし、良い性能を引き出すためには、最小値よりかなり高い値の設定が通例必要です。
この値が単位なしで指定された場合は、ブロック単位であるとみなします。すなわち、<code class="symbol">BLCKSZ</code>バイト、一般的には8kBです。
（<code class="symbol">BLCKSZ</code>がデフォルト値と異なる場合、この最小値も異なる値になります。）
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>
<span class="original">
        If you have a dedicated database server with 1GB or more of RAM, a
        reasonable starting value for &lt;varname&gt;shared_buffers&lt;/varname&gt; is 25%
        of the memory in your system.  There are some workloads where even
        larger settings for &lt;varname&gt;shared_buffers&lt;/varname&gt; are effective, but
        because &lt;productname&gt;PostgreSQL&lt;/productname&gt; also relies on the
        operating system cache, it is unlikely that an allocation of more than
        40% of RAM to &lt;varname&gt;shared_buffers&lt;/varname&gt; will work better than a
        smaller amount.  Larger settings for &lt;varname&gt;shared_buffers&lt;/varname&gt;
        usually require a corresponding increase in
        &lt;varname&gt;max_wal_size&lt;/varname&gt;, in order to spread out the
        process of writing large quantities of new or changed data over a
        longer period of time.
</span>
1GB以上のRAMを載せた専用データベースサーバを使用している場合、<code class="varname">shared_buffers</code>に対する妥当な初期値はシステムメモリの25%です。
<code class="varname">shared_buffers</code>をこれよりも大きな値に設定することが有効なワークロードもあります。
しかし、<span class="productname">PostgreSQL</span>はオペレーティングシステムキャッシュにも依存するため、<code class="varname">shared_buffers</code>にRAMの40%以上を割り当てても、それより小さい値の時より動作が良くなる見込みはありません。
<code class="varname">shared_buffers</code>をより大きく設定する場合は、大抵<code class="varname">max_wal_size</code>も合わせて増やす必要があります。これは、新規または変更された多量のデータを書き出す処理をより長い時間に渡って分散させるためです。
       </p><p>
<span class="original">
        On systems with less than 1GB of RAM, a smaller percentage of RAM is
        appropriate, so as to leave adequate space for the operating system.
</span>
1GB未満のRAMのシステムでは、オペレーティングシステムに十分な余裕を残すために、RAMに対してより小さい割合を設定することが適切です。
       </p></dd><dt id="GUC-HUGE-PAGES"><span class="term"><code class="varname">huge_pages</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.8.2.2.2.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.2.1.4" class="indexterm"></a>
      </span> <a href="#GUC-HUGE-PAGES" class="id_link">#</a></dt><dd><p>
<span class="original">
        Controls whether huge pages are requested for the main shared memory
        area. Valid values are &lt;literal&gt;try&lt;/literal&gt; (the default),
        &lt;literal&gt;on&lt;/literal&gt;, and &lt;literal&gt;off&lt;/literal&gt;.
        This parameter can only be set at server start. With
        &lt;varname&gt;huge_pages&lt;/varname&gt; set to &lt;literal&gt;try&lt;/literal&gt;, the
        server will try to request huge pages, but fall back to the default if
        that fails. With &lt;literal&gt;on&lt;/literal&gt;, failure to request huge pages
        will prevent the server from starting up. With &lt;literal&gt;off&lt;/literal&gt;,
        huge pages will not be requested. The actual state of huge pages is
        indicated by the server variable
        &lt;xref linkend="guc-huge-pages-status"/&gt;.
</span>
《マッチ度[82.361963]》主共有メモリ領域に対してhuge pageを要求するかどうかを管理します。
可能な値は<code class="literal">try</code> (デフォルト)、<code class="literal">on</code>、<code class="literal">off</code>です。
<code class="varname">huge_pages</code>を<code class="literal">try</code>に設定すると、サーバはhuge pageの要求を試み、失敗したらデフォルトに戻します。
<code class="literal">on</code>にすると、要求に失敗した場合にサーバの起動ができなくなることになります。
<code class="literal">off</code>ならhuge pageの要求は行いません。
huge pageの実際の状態は、サーバ変数<a class="xref" href="runtime-config-preset.html#GUC-HUGE-PAGES-STATUS">huge_pages_status</a>で示されています。
《機械翻訳》«Controls whether huge pages are requested for the main shared memory area. Valid values are <code class="literal">try</code> (the default), <code class="literal">on</code>, and <code class="literal">off</code>. This parameter can only be set at server start. With <code class="varname">huge_pages</code> set to <code class="literal">try</code>, the server will try to request huge pages, but fall back to the default if that fails. With <code class="literal">on</code>, failure to request huge pages will prevent the server from starting up. With <code class="literal">off</code>, huge pages will not be requested. The actual state of huge pages is indicated by the server variable <a class="xref" href="runtime-config-preset.html#GUC-HUGE-PAGES-STATUS">huge_pages_status</a>.»
       </p><p>
<span class="original">
        At present, this setting is supported only on Linux and Windows. The
        setting is ignored on other systems when set to
        &lt;literal&gt;try&lt;/literal&gt;.  On Linux, it is only supported when
        &lt;varname&gt;shared_memory_type&lt;/varname&gt; is set to &lt;literal&gt;mmap&lt;/literal&gt;
        (the default).
</span>
今のところこの機能はLinuxとWindowsでのみサポートされています。
他のシステムでは<code class="literal">try</code>と設定しても無視されます。
Linuxではこの機能は<code class="varname">shared_memory_type</code>が<code class="literal">mmap</code>（デフォルトです）に設定されている時にのみサポートされます。
       </p><p>
<span class="original">
        The use of huge pages results in smaller page tables and less CPU time
        spent on memory management, increasing performance. For more details about
        using huge pages on Linux, see &lt;xref linkend="linux-huge-pages"/&gt;.
</span>
huge pageを使うと、ページテーブルが小さくなり、メモリ管理に使用されるCPU時間が少なくなり、性能が向上します。
詳細は、<a class="xref" href="kernel-resources.html#LINUX-HUGE-PAGES" title="18.4.5. LinuxのHugePages">18.4.5</a>を見てください。
       </p><p>
<span class="original">
        Huge pages are known as large pages on Windows.  To use them, you need to
        assign the user right &lt;quote&gt;Lock pages in memory&lt;/quote&gt; to the Windows user account
        that runs &lt;productname&gt;PostgreSQL&lt;/productname&gt;.
        You can use Windows Group Policy tool (gpedit.msc) to assign the user right
        &lt;quote&gt;Lock pages in memory&lt;/quote&gt;.
        To start the database server on the command prompt as a standalone process,
        not as a Windows service, the command prompt must be run as an administrator or
        User Access Control (UAC) must be disabled. When the UAC is enabled, the normal
        command prompt revokes the user right &lt;quote&gt;Lock pages in memory&lt;/quote&gt; when started.
</span>
huge pageはWindowsではlarge pageとして知られています。
それを使用するには、<span class="productname">PostgreSQL</span>を実行するWindowsユーザアカウントに<span class="quote">「<span class="quote">メモリ中のロックページ</span>」</span>権限を与える必要があります。
ユーザに<span class="quote">「<span class="quote">メモリ中のロックページ</span>」</span>権限を与えるには、Windowsのグループポリシーツール(gpedit.msc)を利用できます。
Windowsサービスとしてではなく、スタンドアローンプロセスとしてデータベースサーバをコマンドプロンプトで起動するには、コマンドプロンプトを管理者として実行するか、ユーザアクセス管理(UAC)を無効にしておかなければなりません。
UACが有効ならば、通常のコマンドプロンプトは起動時にユーザの<span class="quote">「<span class="quote">メモリ中のロックページ</span>」</span>権限を剥奪します。
       </p><p>
<span class="original">
        Note that this setting only affects the main shared memory area.
        Operating systems such as Linux, FreeBSD, and Illumos can also use
        huge pages (also known as &lt;quote&gt;super&lt;/quote&gt; pages or
        &lt;quote&gt;large&lt;/quote&gt; pages) automatically for normal memory
        allocation, without an explicit request from
        &lt;productname&gt;PostgreSQL&lt;/productname&gt;. On Linux, this is called
        &lt;quote&gt;transparent huge pages&lt;/quote&gt;&lt;indexterm&gt;&lt;primary&gt;transparent
        huge pages&lt;/primary&gt;&lt;/indexterm&gt; (THP). That feature has been known to
        cause performance degradation with
        &lt;productname&gt;PostgreSQL&lt;/productname&gt; for some users on some Linux
        versions, so its use is currently discouraged (unlike explicit use of
        &lt;varname&gt;huge_pages&lt;/varname&gt;).
</span>
この設定は主共有メモリ領域にのみ影響することに注意してください。
Linux、FreeBSD、Illumosのようなオペレーティングシステムでは、<span class="productname">PostgreSQL</span>からの明示的な要求なしにhuge page（<span class="quote">「<span class="quote">super</span>」</span> pageあるいは<span class="quote">「<span class="quote">large</span>」</span>pageとしての知られています）が通常のメモリ獲得の際に使用できます。
Linuxでは、これは<span class="quote">「<span class="quote">transparent huge pages</span>」</span><a id="id-1.6.6.8.2.2.2.2.5.5" class="indexterm"></a> (THP)と呼ばれています。
この機能は、あるLinuxバージョンのあるユーザにおいて<span class="productname">PostgreSQL</span>の性能低下をもたらすことが知られています。
ですから、この機能の利用は（<code class="varname">huge_pages</code>の明示的な利用と違って）今の所推奨されていません。
       </p></dd><dt id="GUC-HUGE-PAGE-SIZE"><span class="term"><code class="varname">huge_page_size</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.3.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.3.1.4" class="indexterm"></a>
      </span> <a href="#GUC-HUGE-PAGE-SIZE" class="id_link">#</a></dt><dd><p>
<span class="original">
        Controls the size of huge pages, when they are enabled with
        &lt;xref linkend="guc-huge-pages"/&gt;.
        The default is zero (&lt;literal&gt;0&lt;/literal&gt;).
        When set to &lt;literal&gt;0&lt;/literal&gt;, the default huge page size on the
        system will be used. This parameter can only be set at server start.
</span>
<a class="xref" href="runtime-config-resource.html#GUC-HUGE-PAGES">huge_pages</a>が有効なときにhuge pageのサイズを制御します。
デフォルトはゼロ(<code class="literal">0</code>)です。
<code class="literal">0</code>に設定すると、システムのデフォルトのhuge pageのサイズが使われます。
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>
<span class="original">
        Some commonly available page sizes on modern 64 bit server architectures include:
        &lt;literal&gt;2MB&lt;/literal&gt; and &lt;literal&gt;1GB&lt;/literal&gt; (Intel and AMD), &lt;literal&gt;16MB&lt;/literal&gt; and
        &lt;literal&gt;16GB&lt;/literal&gt; (IBM POWER), and &lt;literal&gt;64kB&lt;/literal&gt;, &lt;literal&gt;2MB&lt;/literal&gt;,
        &lt;literal&gt;32MB&lt;/literal&gt; and &lt;literal&gt;1GB&lt;/literal&gt; (ARM). For more information
        about usage and support, see &lt;xref linkend="linux-huge-pages"/&gt;.
</span>
現代の64ビットサーバアーキテクチャにおける可能な一般的なページサイズには以下が含まれます。
<code class="literal">2MB</code>と<code class="literal">1GB</code> (IntelとAMD)、<code class="literal">16MB</code>と<code class="literal">16GB</code> (IBM POWER)、<code class="literal">64kB</code>、<code class="literal">2MB</code>、<code class="literal">32MB</code>そして<code class="literal">1GB</code> (ARM)。
使い方とサポートに関する詳細な情報に関しては<a class="xref" href="kernel-resources.html#LINUX-HUGE-PAGES" title="18.4.5. LinuxのHugePages">18.4.5</a>を参照してください。
       </p><p>
<span class="original">
        Non-default settings are currently supported only on Linux.
</span>
今の所Linuxでサポートされるデフォルトの設定値はありません。
       </p></dd><dt id="GUC-TEMP-BUFFERS"><span class="term"><code class="varname">temp_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.4.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.4.1.4" class="indexterm"></a>
      </span> <a href="#GUC-TEMP-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Sets the maximum amount of memory used for temporary buffers within
        each database session.  These are session-local buffers used only
        for access to temporary tables.
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default is eight megabytes (&lt;literal&gt;8MB&lt;/literal&gt;).
        (If &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; is not 8kB, the default value scales
        proportionally to it.)
        This setting can be changed within individual
        sessions, but only before the first use of temporary tables
        within the session; subsequent attempts to change the value will
        have no effect on that session.
</span>
それぞれのデータベースセッションが使用する一時バッファの最大メモリ量を設定します。
一時バッファは、一時テーブルにアクセスする時にのみ使用されるセッションローカルのバッファです。
この値が単位なしで指定された場合は、ブロック単位であるとみなします。すなわち、<code class="symbol">BLCKSZ</code>バイト、一般的には8kBです。
デフォルトは8メガバイト（<code class="literal">8MB</code>）です。
（<code class="symbol">BLCKSZ</code>が8kBでなければ、それに比例して増減します。）
設定はそれぞれのセッション内で変更できますが、そのセッション内で一時テーブルが最初に使用されるまでになります。それより後に値の変更を試みても、そのセッションでは効果がありません。
       </p><p>
<span class="original">
        A session will allocate temporary buffers as needed up to the limit
        given by &lt;varname&gt;temp_buffers&lt;/varname&gt;.  The cost of setting a large
        value in sessions that do not actually need many temporary
        buffers is only a buffer descriptor, or about 64 bytes, per
        increment in &lt;varname&gt;temp_buffers&lt;/varname&gt;.  However if a buffer is
        actually used an additional 8192 bytes will be consumed for it
        (or in general, &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes).
</span>
セッションは、<code class="varname">temp_buffers</code>を上限として、必要に応じて一時バッファを確保します。
多くの一時バッファを実際に必要としないセッションで大きな値を設定するコストとは、<code class="varname">temp_buffers</code>の増分毎に、1つのバッファ記述子、約64バイトだけです。
しかし、バッファが実際に使用されると、それに対して追加の8192バイト（汎用的に言えば<code class="symbol">BLCKSZ</code>バイト）が消費されます。
       </p></dd><dt id="GUC-MAX-PREPARED-TRANSACTIONS"><span class="term"><code class="varname">max_prepared_transactions</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.5.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.5.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MAX-PREPARED-TRANSACTIONS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Sets the maximum number of transactions that can be in the
        &lt;quote&gt;prepared&lt;/quote&gt; state simultaneously (see &lt;xref
        linkend="sql-prepare-transaction"/&gt;).
        Setting this parameter to zero (which is the default)
        disables the prepared-transaction feature.
        This parameter can only be set at server start.
</span>
同時に<span class="quote">「<span class="quote">プリペアド</span>」</span>状態にできるトランザクションの最大数を設定します（<a class="xref" href="sql-prepare-transaction.html" title="PREPARE TRANSACTION"><span class="refentrytitle">PREPARE TRANSACTION</span></a>を参照してください）。
このパラメータをゼロ（これがデフォルトです）に設定すると、プリペアドトランザクション機能が無効になります。
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>
<span class="original">
        If you are not planning to use prepared transactions, this parameter
        should be set to zero to prevent accidental creation of prepared
        transactions.  If you are using prepared transactions, you will
        probably want &lt;varname&gt;max_prepared_transactions&lt;/varname&gt; to be at
        least as large as &lt;xref linkend="guc-max-connections"/&gt;, so that every
        session can have a prepared transaction pending.
</span>
プリペアドトランザクションの使用を意図しないのであれば、このパラメータはプリペアドトランザクションが偶然に作成されないようゼロに設定すべきです。
プリペアドトランザクションを使用する場合、全てのセッションがプリペアドトランザクションを保留できるように、<code class="varname">max_prepared_transactions</code>を少なくとも<a class="xref" href="runtime-config-connection.html#GUC-MAX-CONNECTIONS">max_connections</a>と同じ大きさに設定するのが良いでしょう。
       </p><p>
<span class="original">
        When running a standby server, you must set this parameter to the
        same or higher value than on the primary server. Otherwise, queries
        will not be allowed in the standby server.
</span>
スタンバイサーバを運用している場合、このパラメータはプライマリサーバ上の設定よりも同等かもしくはより高水準に設定しなければなりません。そうしないと問い合わせがスタンバイサーバ内で受け入れられません。
       </p></dd><dt id="GUC-WORK-MEM"><span class="term"><code class="varname">work_mem</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.6.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.6.1.4" class="indexterm"></a>
      </span> <a href="#GUC-WORK-MEM" class="id_link">#</a></dt><dd><p>
<span class="original">
        Sets the base maximum amount of memory to be used by a query operation
        (such as a sort or hash table) before writing to temporary disk files.
        If this value is specified without units, it is taken as kilobytes.
        The default value is four megabytes (&lt;literal&gt;4MB&lt;/literal&gt;).
        Note that a complex query might perform several sort and hash
        operations at the same time, with each operation generally being
        allowed to use as much memory as this value specifies before
        it starts
        to write data into temporary files.  Also, several running
        sessions could be doing such operations concurrently.
        Therefore, the total memory used could be many times the value
        of &lt;varname&gt;work_mem&lt;/varname&gt;; it is necessary to keep this
        fact in mind when choosing the value.  Sort operations are used
        for &lt;literal&gt;ORDER BY&lt;/literal&gt;, &lt;literal&gt;DISTINCT&lt;/literal&gt;,
        and merge joins.
        Hash tables are used in hash joins, hash-based aggregation, memoize
        nodes and hash-based processing of &lt;literal&gt;IN&lt;/literal&gt; subqueries.
</span>
一時ディスクファイルに書き込む前に、問い合わせ操作（ソートやハッシュなど）で使用される最大メモリ量を設定します。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
デフォルト値は4MB(<code class="literal">4MB</code>)です。
複雑な問い合わせでは、同時に複数のソート操作とハッシュ操作が実行される可能性があります。
各操作は通常、データを一時ファイルに書き込む前にこの値で指定された量のメモリを使用できます。
また、複数の実行中のセッションが同時にこのような操作を実行することもあります。
したがって、使用されるメモリの合計量は<code class="varname">work_mem</code>の数倍になる可能性があります。
値を選択する時には、この事実に留意することが必要です。
ソート操作は<code class="literal">ORDER BY</code>、<code class="literal">DISTINCT</code>、およびマージ結合に対して使われます。
ハッシュテーブルはハッシュ結合、ハッシュに基づいた集約、メモ化（memoize）ノードおよび<code class="literal">IN</code>副問い合わせのハッシュに基づいた処理で使用されます。
       </p><p>
<span class="original">
        Hash-based operations are generally more sensitive to memory
        availability than equivalent sort-based operations.  The
        memory limit for a hash table is computed by multiplying
        &lt;varname&gt;work_mem&lt;/varname&gt; by
        &lt;varname&gt;hash_mem_multiplier&lt;/varname&gt;.  This makes it
        possible for hash-based operations to use an amount of memory
        that exceeds the usual &lt;varname&gt;work_mem&lt;/varname&gt; base
        amount.
</span>
一般的に、ハッシュに基づく操作はソートに基づく操作よりも利用可能なメモリに敏感です。
ハッシュテーブルのメモリ制限は、<code class="varname">work_mem</code>に<code class="varname">hash_mem_multiplier</code>を乗算することで計算されます。
これにより、ハッシュに基づく操作では通常の<code class="varname">work_mem</code>に基づく量を超える量のメモリが使用される可能性があります。
       </p></dd><dt id="GUC-HASH-MEM-MULTIPLIER"><span class="term"><code class="varname">hash_mem_multiplier</code> (<code class="type">floating point</code>)
      <a id="id-1.6.6.8.2.2.7.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.7.1.4" class="indexterm"></a>
      </span> <a href="#GUC-HASH-MEM-MULTIPLIER" class="id_link">#</a></dt><dd><p>
<span class="original">
        Used to compute the maximum amount of memory that hash-based
        operations can use.  The final limit is determined by
        multiplying &lt;varname&gt;work_mem&lt;/varname&gt; by
        &lt;varname&gt;hash_mem_multiplier&lt;/varname&gt;.  The default value is
        2.0, which makes hash-based operations use twice the usual
        &lt;varname&gt;work_mem&lt;/varname&gt; base amount.
</span>
ハッシュに基づく操作が利用できる最大のメモリ量を計算するために使用します。
最終的な制限は<code class="varname">work_mem</code>に<code class="varname">hash_mem_multiplier</code>を掛けて決定されます。
デフォルト値は2.0で、ハッシュに基づく操作が通常の<code class="varname">work_mem</code>に基づく値の2倍使用することになります。
       </p><p>
<span class="original">
        Consider increasing &lt;varname&gt;hash_mem_multiplier&lt;/varname&gt; in
        environments where spilling by query operations is a regular
        occurrence, especially when simply increasing
        &lt;varname&gt;work_mem&lt;/varname&gt; results in memory pressure (memory
        pressure typically takes the form of intermittent out of
        memory errors).  The default setting of 2.0 is often effective with
        mixed workloads.  Higher settings in the range of 2.0 - 8.0 or
        more may be effective in environments where
        &lt;varname&gt;work_mem&lt;/varname&gt; has already been increased to 40MB
        or more.
</span>
問い合わせ操作によって日常的にメモリ不足になるような環境、とりわけ単に<code class="varname">work_mem</code>を増やしたことによってメモリ逼迫（メモリ逼迫が典型的には間欠的なメモリ不足エラーの発生の形で起こる）が起きる場合には<code class="varname">hash_mem_multiplier</code>を増やすことを考慮してください。
デフォルトの2.0が色々なワークロードが混在している場合には効果的かも知れません。
より大きな2.0から8.0、あるいはそれ以上の設定は<code class="varname">work_mem</code>がすでに40MB以上に増やしてあるような環境で効果的かも知れません。
       </p></dd><dt id="GUC-MAINTENANCE-WORK-MEM"><span class="term"><code class="varname">maintenance_work_mem</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.8.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.8.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MAINTENANCE-WORK-MEM" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum amount of memory to be used by maintenance
        operations, such as &lt;command&gt;VACUUM&lt;/command&gt;, &lt;command&gt;CREATE
        INDEX&lt;/command&gt;, and &lt;command&gt;ALTER TABLE ADD FOREIGN KEY&lt;/command&gt;.
        If this value is specified without units, it is taken as kilobytes.
        It defaults
        to 64 megabytes (&lt;literal&gt;64MB&lt;/literal&gt;).  Since only one of these
        operations can be executed at a time by a database session, and
        an installation normally doesn't have many of them running
        concurrently, it's safe to set this value significantly larger
        than &lt;varname&gt;work_mem&lt;/varname&gt;.  Larger settings might improve
        performance for vacuuming and for restoring database dumps.
</span>
<code class="command">VACUUM</code>、<code class="command">CREATE INDEX</code>、および<code class="command">ALTER TABLE ADD FOREIGN KEY</code>の様な保守操作で使用されるメモリの最大容量を指定します。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
デフォルト値は64メガバイト（<code class="literal">64MB</code>）です。
1つのデータベースセッションでは、一度に1つしか上記操作はできませんし、通常インストレーションでこうした操作が同時に非常に多く発生することはありませんので、これを<code class="varname">work_mem</code>よりもかなり多めの値にしても安全です。
大きい値を設定することでvacuum処理と、ダンプしたデータベースのリストア性能が向上します。
       </p><p>
<span class="original">
        Note that when autovacuum runs, up to
        &lt;xref linkend="guc-autovacuum-max-workers"/&gt; times this memory
        may be allocated, so be careful not to set the default value
        too high.  It may be useful to control for this by separately
        setting &lt;xref linkend="guc-autovacuum-work-mem"/&gt;.
</span>
自動バキュームが稼働すると、最大でこのメモリの<a class="xref" href="runtime-config-vacuum.html#GUC-AUTOVACUUM-MAX-WORKERS">autovacuum_max_workers</a>倍が配分されるので、デフォルトの値をあまり高く設定しないよう注意してください。
別の設定項目<a class="xref" href="runtime-config-resource.html#GUC-AUTOVACUUM-WORK-MEM">autovacuum_work_mem</a>で制御するのが良いかもしれません。
       </p></dd><dt id="GUC-AUTOVACUUM-WORK-MEM"><span class="term"><code class="varname">autovacuum_work_mem</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.9.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.9.1.4" class="indexterm"></a>
      </span> <a href="#GUC-AUTOVACUUM-WORK-MEM" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum amount of memory to be used by each
        autovacuum worker process.
        If this value is specified without units, it is taken as kilobytes.
        It defaults to -1, indicating that
        the value of &lt;xref linkend="guc-maintenance-work-mem"/&gt; should
        be used instead.  The setting has no effect on the behavior of
        &lt;command&gt;VACUUM&lt;/command&gt; when run in other contexts.
        This parameter can only be set in the
        &lt;filename&gt;postgresql.conf&lt;/filename&gt; file or on the server command
        line.
</span>
個々の自動バキュームワーカープロセスが使用する最大のメモリ量を指定します。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
デフォルトは-1で、<a class="xref" href="runtime-config-resource.html#GUC-MAINTENANCE-WORK-MEM">maintenance_work_mem</a>が代わりに使われる設定になります。
別の文脈で実行される<code class="command">VACUUM</code>にはこの設定は影響しません。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
       </p></dd><dt id="GUC-VACUUM-BUFFER-USAGE-LIMIT"><span class="term">
       <code class="varname">vacuum_buffer_usage_limit</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.2.2.10.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.2.2.10.1.4" class="indexterm"></a>
      </span> <a href="#GUC-VACUUM-BUFFER-USAGE-LIMIT" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the size of the
        &lt;glossterm linkend="glossary-buffer-access-strategy"&gt;Buffer Access Strategy&lt;/glossterm&gt;
        used by the &lt;command&gt;VACUUM&lt;/command&gt; and &lt;command&gt;ANALYZE&lt;/command&gt;
        commands.  A setting of &lt;literal&gt;0&lt;/literal&gt; will allow the operation
        to use any number of &lt;varname&gt;shared_buffers&lt;/varname&gt;.  Otherwise
        valid sizes range from &lt;literal&gt;128 kB&lt;/literal&gt; to
        &lt;literal&gt;16 GB&lt;/literal&gt;.  If the specified size would exceed 1/8 the
        size of &lt;varname&gt;shared_buffers&lt;/varname&gt;, the size is silently capped
        to that value.  The default value is &lt;literal&gt;2MB&lt;/literal&gt;.  If
        this value is specified without units, it is taken as kilobytes.  This
        parameter can be set at any time.  It can be overridden for
        &lt;xref linkend="sql-vacuum"/&gt; and &lt;xref linkend="sql-analyze"/&gt;
        when passing the &lt;option&gt;BUFFER_USAGE_LIMIT&lt;/option&gt; option.  Higher
        settings can allow &lt;command&gt;VACUUM&lt;/command&gt; and
        &lt;command&gt;ANALYZE&lt;/command&gt; to run more quickly, but having too large a
        setting may cause too many other useful pages to be evicted from
        shared buffers.
</span>
<code class="command">VACUUM</code>コマンドおよび<code class="command">ANALYZE</code>コマンドで使用される<a class="glossterm" href="glossary.html#GLOSSARY-BUFFER-ACCESS-STRATEGY"><em class="glossterm"><a class="glossterm" href="glossary.html#GLOSSARY-BUFFER-ACCESS-STRATEGY" title="Buffer Access Strategy【バッファアクセスストラテジ】">バッファアクセスストラテジ</a></em></a>の大きさを指定します。
<code class="literal">0</code>を設定すると、それらの操作で任意の数の<code class="varname">shared_buffers</code>を使用できることになります。
それ以外の場合は、有効なサイズは<code class="literal">128 kB</code>から<code class="literal">16 GB</code>までの範囲です。
指定されたサイズが<code class="varname">shared_buffers</code>のサイズの1/8を超える場合、サイズは黙ってその値に制限されます。
デフォルト値は<code class="literal">2MB</code>です。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
このパラメータはいつでも設定できます。
このパラメータは、<code class="option">BUFFER_USAGE_LIMIT</code>オプションを渡すことによって、<a class="xref" href="sql-vacuum.html" title="VACUUM"><span class="refentrytitle">VACUUM</span></a>および<a class="xref" href="sql-analyze.html" title="ANALYZE"><span class="refentrytitle">ANALYZE</span></a>に対して上書きできます。
設定を高くすると、<code class="command">VACUUM</code>および<code class="command">ANALYZE</code>の実行速度が速くなりますが、設定を高くしすぎると、他の多くの有用なページが共有バッファから削除されてしまう可能性があります。
       </p></dd><dt id="GUC-LOGICAL-DECODING-WORK-MEM"><span class="term"><code class="varname">logical_decoding_work_mem</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.11.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.11.1.4" class="indexterm"></a>
      </span> <a href="#GUC-LOGICAL-DECODING-WORK-MEM" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum amount of memory to be used by logical decoding,
        before some of the decoded changes are written to local disk. This
        limits the amount of memory used by logical streaming replication
        connections. It defaults to 64 megabytes (&lt;literal&gt;64MB&lt;/literal&gt;).
        Since each replication connection only uses a single buffer of this size,
        and an installation normally doesn't have many such connections
        concurrently (as limited by &lt;varname&gt;max_wal_senders&lt;/varname&gt;), it's
        safe to set this value significantly higher than &lt;varname&gt;work_mem&lt;/varname&gt;,
        reducing the amount of decoded changes written to disk.
</span>
デコードされた更新がローカルディスクに書かれる前にロジカルデコーディングが使用する最大のメモリ量を指定します。
これにより、ロジカルストリーミングレプリケーションの接続が使用する最大メモリが制限されます。
デフォルトは64メガバイト(<code class="literal">64MB</code>)です。
個々のレプリケーション接続がここで指定した単一のバッファだけを使用し、インストールは通常たくさんの接続を並行して使わないので（<code class="varname">max_wal_senders</code>で制限されます）、この値を<code class="varname">work_mem</code>よりもずっと大きくしても安全で、それによってデコードされた更新がディスクに書かれる量が削減されます。
       </p></dd><dt id="GUC-COMMIT-TIMESTAMP-BUFFERS"><span class="term"><code class="varname">commit_timestamp_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.12.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.12.1.4" class="indexterm"></a>
      </span> <a href="#GUC-COMMIT-TIMESTAMP-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of memory to use to cache the contents of
        &lt;literal&gt;pg_commit_ts&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;0&lt;/literal&gt;, which requests
        &lt;varname&gt;shared_buffers&lt;/varname&gt;/512 up to 1024 blocks,
        but not fewer than 16 blocks.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_commit_ts</code>の内容をキャッシュするために使用するメモリ量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">0</code>で、最大1024ブロック、16ブロック以上の<code class="varname">shared_buffers</code>/512を要求します。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-MULTIXACT-MEMBER-BUFFERS"><span class="term"><code class="varname">multixact_member_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.13.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.13.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MULTIXACT-MEMBER-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_multixact/members&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;32&lt;/literal&gt;.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_multixact/members</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">32</code>です。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-MULTIXACT-OFFSET-BUFFERS"><span class="term"><code class="varname">multixact_offset_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.14.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.14.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MULTIXACT-OFFSET-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_multixact/offsets&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;16&lt;/literal&gt;.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_multixact/offsets</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">16</code>です。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-NOTIFY-BUFFERS"><span class="term"><code class="varname">notify_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.15.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.15.1.4" class="indexterm"></a>
      </span> <a href="#GUC-NOTIFY-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_notify&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;16&lt;/literal&gt;.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_notify</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">16</code>です。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-SERIALIZABLE-BUFFERS"><span class="term"><code class="varname">serializable_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.16.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.16.1.4" class="indexterm"></a>
      </span> <a href="#GUC-SERIALIZABLE-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_serial&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;32&lt;/literal&gt;.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_serial</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">32</code>です。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-SUBTRANSACTION-BUFFERS"><span class="term"><code class="varname">subtransaction_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.17.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.17.1.4" class="indexterm"></a>
      </span> <a href="#GUC-SUBTRANSACTION-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_subtrans&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;0&lt;/literal&gt;, which requests
        &lt;varname&gt;shared_buffers&lt;/varname&gt;/512 up to 1024 blocks,
        but not fewer than 16 blocks.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_subtrans</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">0</code>で、最大1024ブロック、16ブロック以上の<code class="varname">shared_buffers</code>/512を要求します。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-TRANSACTION-BUFFERS"><span class="term"><code class="varname">transaction_buffers</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.18.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.18.1.4" class="indexterm"></a>
      </span> <a href="#GUC-TRANSACTION-BUFFERS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of shared memory to use to cache the contents
        of &lt;literal&gt;pg_xact&lt;/literal&gt; (see
        &lt;xref linkend="pgdata-contents-table"/&gt;).
        If this value is specified without units, it is taken as blocks,
        that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
        The default value is &lt;literal&gt;0&lt;/literal&gt;, which requests
        &lt;varname&gt;shared_buffers&lt;/varname&gt;/512 up to 1024 blocks,
        but not fewer than 16 blocks.
        This parameter can only be set at server start.
</span>
<code class="literal">pg_xact</code>の内容をキャッシュするために使用する共有メモリの量を指定します（<a class="xref" href="storage-file-layout.html#PGDATA-CONTENTS-TABLE" title="表66.1 PGDATAの内容">表 66.1</a>を参照してください）。
この値が単位なしで指定された場合、ブロック、つまり<code class="symbol">BLCKSZ</code>バイト、通常は8キロバイトとして扱われます。
デフォルト値は<code class="literal">0</code>で、最大1024ブロック、16ブロック以上の<code class="varname">shared_buffers</code>/512を要求します。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-MAX-STACK-DEPTH"><span class="term"><code class="varname">max_stack_depth</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.19.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.19.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MAX-STACK-DEPTH" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum safe depth of the server's execution stack.
        The ideal setting for this parameter is the actual stack size limit
        enforced by the kernel (as set by &lt;literal&gt;ulimit -s&lt;/literal&gt; or local
        equivalent), less a safety margin of a megabyte or so.  The safety
        margin is needed because the stack depth is not checked in every
        routine in the server, but only in key potentially-recursive routines.
        If this value is specified without units, it is taken as kilobytes.
        The default setting is two megabytes (&lt;literal&gt;2MB&lt;/literal&gt;), which
        is conservatively small and unlikely to risk crashes.  However,
        it might be too small to allow execution of complex functions.
        Only superusers and users with the appropriate &lt;literal&gt;SET&lt;/literal&gt;
        privilege can change this setting.
</span>
サーバの実行スタックの最大安全深度を指定します。
このパラメータの理想的な設定はカーネルにより強要される実際のスタック容量の（<code class="literal">ulimit -s</code>もしくはそれと同等の機能で設定された）限界から、1メガバイト程度の安全余裕度を差し引いたものです。
この安全余裕度は、サーバがすべてのルーチンではスタック深度を検査をせず、再帰を行う可能性のある重要なルーチンでのみ検査をするために必要となるものです。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
デフォルト設定は2メガバイト（<code class="literal">2MB</code>）で、かなり控え目、かつクラッシュの危険がなさそうな設定です。
しかし、複雑な関数の実行を許容するには小さ過ぎるかも知れません。
スーパーユーザと、適切な<code class="literal">SET</code>権限を持つユーザのみがこの設定を変更することができます。
       </p><p>
<span class="original">
        Setting &lt;varname&gt;max_stack_depth&lt;/varname&gt; higher than
        the actual kernel limit will mean that a runaway recursive function
        can crash an individual backend process.  On platforms where
        &lt;productname&gt;PostgreSQL&lt;/productname&gt; can determine the kernel limit,
        the server will not allow this variable to be set to an unsafe
        value.  However, not all platforms provide the information,
        so caution is recommended in selecting a value.
</span>
<code class="varname">max_stack_depth</code>を実際のカーネルの制限よりも高い値に設定した場合、暴走した再帰関数により、個々のバックエンドプロセスがクラッシュするかもしれません。
<span class="productname">PostgreSQL</span>がカーネルの制限を決定することができるプラットフォームでは、この変数を危険な値に設定させません。
しかし、すべてのプラットフォームがこの情報を提供できるわけではありません。
このため、値を選ぶ時には注意が必要です。
       </p></dd><dt id="GUC-SHARED-MEMORY-TYPE"><span class="term"><code class="varname">shared_memory_type</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.8.2.2.20.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.20.1.4" class="indexterm"></a>
      </span> <a href="#GUC-SHARED-MEMORY-TYPE" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the shared memory implementation that the server
        should use for the main shared memory region that holds
        &lt;productname&gt;PostgreSQL&lt;/productname&gt;'s shared buffers and other
        shared data.  Possible values are &lt;literal&gt;mmap&lt;/literal&gt; (for
        anonymous shared memory allocated using &lt;function&gt;mmap&lt;/function&gt;),
        &lt;literal&gt;sysv&lt;/literal&gt; (for System V shared memory allocated via
        &lt;function&gt;shmget&lt;/function&gt;) and &lt;literal&gt;windows&lt;/literal&gt; (for Windows
        shared memory).  Not all values are supported on all platforms; the
        first supported option is the default for that platform.  The use of
        the &lt;literal&gt;sysv&lt;/literal&gt; option, which is not the default on any
        platform, is generally discouraged because it typically requires
        non-default kernel settings to allow for large allocations (see &lt;xref
        linkend="sysvipc"/&gt;).
        This parameter can only be set at server start.
</span>
《マッチ度[81.892523]》<span class="productname">PostgreSQL</span>の共有バッファおよび他の共有データを保持する主共有メモリ領域のためにサーバが使用すべき共有メモリの実装を指定します。
可能な値は<code class="literal">mmap</code>（<code class="function">mmap</code>を使って獲得した無名共有メモリ）、<code class="literal">sysv</code> （<code class="function">shmget</code>を使って獲得したSystem V共有メモリ）、<code class="literal">windows</code> （Windows共有メモリ）です。
すべての値がすべてのプラットフォームでサポートされているわけではありません。
サポートされている最初のオプションがそのプラットフォームのデフォルトです。
どのプラットフォームでもデフォルトになっていない<code class="literal">sysv</code>オプションの利用は一般に推奨されません。
通常、デフォルトではないカーネルの設定が大きなアロケーションでは必要になるからです。
（<a class="xref" href="kernel-resources.html#SYSVIPC" title="18.4.1. 共有メモリとセマフォ">18.4.1</a>参照。）
《機械翻訳》«Specifies the shared memory implementation that the server should use for the main shared memory region that holds <span class="productname">PostgreSQL</span>'s shared buffers and other shared data. Possible values are <code class="literal">mmap</code> (for anonymous shared memory allocated using <code class="function">mmap</code>), <code class="literal">sysv</code> (for System V shared memory allocated via <code class="function">shmget</code>) and <code class="literal">windows</code> (for Windows shared memory). Not all values are supported on all platforms; the first supported option is the default for that platform. The use of the <code class="literal">sysv</code> option, which is not the default on any platform, is generally discouraged because it typically requires non-default kernel settings to allow for large allocations (see <a class="xref" href="kernel-resources.html#SYSVIPC" title="18.4.1. 共有メモリとセマフォ">18.4.1</a>). This parameter can only be set at server start.»
       </p></dd><dt id="GUC-DYNAMIC-SHARED-MEMORY-TYPE"><span class="term"><code class="varname">dynamic_shared_memory_type</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.8.2.2.21.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.21.1.4" class="indexterm"></a>
      </span> <a href="#GUC-DYNAMIC-SHARED-MEMORY-TYPE" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the dynamic shared memory implementation that the server
        should use.  Possible values are &lt;literal&gt;posix&lt;/literal&gt; (for POSIX shared
        memory allocated using &lt;literal&gt;shm_open&lt;/literal&gt;), &lt;literal&gt;sysv&lt;/literal&gt;
        (for System V shared memory allocated via &lt;literal&gt;shmget&lt;/literal&gt;),
        &lt;literal&gt;windows&lt;/literal&gt; (for Windows shared memory),
        and &lt;literal&gt;mmap&lt;/literal&gt; (to simulate shared memory using
        memory-mapped files stored in the data directory).
        Not all values are supported on all platforms; the first supported
        option is usually the default for that platform.  The use of the
        &lt;literal&gt;mmap&lt;/literal&gt; option, which is not the default on any platform,
        is generally discouraged because the operating system may write
        modified pages back to disk repeatedly, increasing system I/O load;
        however, it may be useful for debugging, when the
        &lt;literal&gt;pg_dynshmem&lt;/literal&gt; directory is stored on a RAM disk, or when
        other shared memory facilities are not available.
        This parameter can only be set at server start.
</span>
《マッチ度[83.251232]》サーバが使う動的共有メモリの実装を指定します。可能な値は<code class="literal">posix</code> (<code class="literal">shm_open</code>で獲得するPOSIX共有メモリ)、<code class="literal">sysv</code>(<code class="literal">shmget</code>で獲得するSystem V共有メモリ)、<code class="literal">windows</code> (Windows共有メモリ)、 <code class="literal">mmap</code>(データディレクトリ内のメモリマップファイルを使ってシミュレートする共有メモリ)です。
すべての値がすべてのプラットフォームでサポートされているわけではありません。
そのプラットフォームでの推奨実装が通常デフォルトになります。
どのプラットフォームでもデフォルトになっていない<code class="literal">mmap</code>は、オペレーティングシステムが変更されたページをディスクに継続的に書き込み、I/O負荷を増加させるので一般的には利用が推奨されていません。
しかし、デバッグ目的のために<code class="literal">pg_dynshmem</code>ディレクトリがRAMディスク上にある場合や、他の共有メモリ機能が使えない場合は有用かもしれません。
《機械翻訳》«Specifies the dynamic shared memory implementation that the server should use. Possible values are <code class="literal">posix</code> (for POSIX shared memory allocated using <code class="literal">shm_open</code>), <code class="literal">sysv</code> (for System V shared memory allocated via <code class="literal">shmget</code>), <code class="literal">windows</code> (for Windows shared memory), and <code class="literal">mmap</code> (to simulate shared memory using memory-mapped files stored in the data directory). Not all values are supported on all platforms; the first supported option is usually the default for that platform. The use of the <code class="literal">mmap</code> option, which is not the default on any platform, is generally discouraged because the operating system may write modified pages back to disk repeatedly, increasing system I/O load; however, it may be useful for debugging, when the <code class="literal">pg_dynshmem</code> directory is stored on a RAM disk, or when other shared memory facilities are not available. This parameter can only be set at server start.»
       </p></dd><dt id="GUC-MIN-DYNAMIC-SHARED-MEMORY"><span class="term"><code class="varname">min_dynamic_shared_memory</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.2.2.22.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.2.2.22.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MIN-DYNAMIC-SHARED-MEMORY" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the amount of memory that should be allocated at server
        startup for use by parallel queries.  When this memory region is
        insufficient or exhausted by concurrent queries, new parallel queries
        try to allocate extra shared memory temporarily from the operating
        system using the method configured with
        &lt;varname&gt;dynamic_shared_memory_type&lt;/varname&gt;, which may be slower due
        to memory management overheads.  Memory that is allocated at startup
        with &lt;varname&gt;min_dynamic_shared_memory&lt;/varname&gt; is affected by
        the &lt;varname&gt;huge_pages&lt;/varname&gt; setting on operating systems where
        that is supported, and may be more likely to benefit from larger pages
        on operating systems where that is managed automatically.
        The default value is &lt;literal&gt;0&lt;/literal&gt; (none). This parameter can
        only be set at server start.
</span>
サーバ起動時にパラレルクエリ用に獲得するメモリの量を指定します。
このメモリ領域不足していたり並列実行される問い合わせで使い尽くされると、新しいパラレルクエリは<code class="varname">dynamic_shared_memory_type</code>で設定された方法でオペレーティングシステムから一時的に共有メモリを獲得しようとします。
これはメモリ管理のオーバーヘッドにより遅くなる可能性があります。
起動時に<code class="varname">min_dynamic_shared_memory</code>で獲得するメモリは、サポートするオペレーティングシステムに対する<code class="varname">huge_pages</code>の設定に影響を受けます。
huge pageを自動管理するオペレーティングシステム上でより大きなページにより恩恵を被る可能性が大きいです。
デフォルト値は<code class="literal">0</code>（none）です。
このパラメータはサーバ起動時にのみ設定可能です。
       </p></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-DISK"><div class="titlepage"><div><div><h3 class="title">19.4.2. ディスク <a href="#RUNTIME-CONFIG-RESOURCE-DISK" class="id_link">#</a></h3></div></div></div><span class="original">
     &lt;title&gt;Disk&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt id="GUC-TEMP-FILE-LIMIT"><span class="term"><code class="varname">temp_file_limit</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.3.2.1.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.3.2.1.1.4" class="indexterm"></a>
      </span> <a href="#GUC-TEMP-FILE-LIMIT" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum amount of disk space that a process can use
        for temporary files, such as sort and hash temporary files, or the
        storage file for a held cursor.  A transaction attempting to exceed
        this limit will be canceled.
        If this value is specified without units, it is taken as kilobytes.
        &lt;literal&gt;-1&lt;/literal&gt; (the default) means no limit.
        Only superusers and users with the appropriate &lt;literal&gt;SET&lt;/literal&gt;
        privilege can change this setting.
</span>
あるプロセスが一時ファイルとして使用できるディスクの最大容量を設定します。
例えば、ソートやハッシュの一時ファイルであったり、カーソルを保持する格納ファイルです。
この制限値を超えようとするトランザクションはキャンセルされます。
この値が単位なしで指定された場合は、キロバイト単位であるとみなします。
<code class="literal">-1</code>（デフォルトです）の場合は制限がありません。
この設定はスーパーユーザと、適切な<code class="literal">SET</code>権限を持つユーザのみ変更可能です。
       </p><p>
<span class="original">
        This setting constrains the total space used at any instant by all
        temporary files used by a given &lt;productname&gt;PostgreSQL&lt;/productname&gt; process.
        It should be noted that disk space used for explicit temporary
        tables, as opposed to temporary files used behind-the-scenes in query
        execution, does &lt;emphasis&gt;not&lt;/emphasis&gt; count against this limit.
</span>
この設定により、ある <span class="productname">PostgreSQL</span> セッションによって使用される一時ファイルの合計の容量が常に制約されることになります。
なお、問い合わせの実行において暗黙的に使用される一時ファイルとは異なり、一時テーブルとして明示的に使用されるディスク容量は、この制限には<span class="emphasis"><em>含まれません</em></span>。
       </p></dd><dt id="GUC-FILE-COPY-METHOD"><span class="term"><code class="varname">file_copy_method</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.8.3.2.2.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.3.2.2.1.4" class="indexterm"></a>
      </span> <a href="#GUC-FILE-COPY-METHOD" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the method used to copy files.
        Possible values are &lt;literal&gt;COPY&lt;/literal&gt; (default) and
        &lt;literal&gt;CLONE&lt;/literal&gt; (if operating support is available).
</span>
ファイルのコピーに使用する方法を指定します。
指定できる値は<code class="literal">COPY</code>（デフォルト）と<code class="literal">CLONE</code>（操作がサポートがされている場合）です。
       </p><p>
<span class="original">
       This parameter affects:
</span>
このパラメータは以下に影響を与えます。
       </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
         <code class="literal"><code class="command">CREATE DATABASE ... STRATEGY=FILE_COPY</code></code>
        </p></li><li class="listitem"><p>
         <code class="command">ALTER DATABASE ... SET TABLESPACE ...</code>
        </p></li></ul></div><p>
<span class="original">
        &lt;literal&gt;CLONE&lt;/literal&gt; uses the &lt;function&gt;copy_file_range()&lt;/function&gt;
        (Linux, FreeBSD) or &lt;function&gt;copyfile&lt;/function&gt;
        (macOS) system calls, giving the kernel the opportunity to share disk
        blocks or push work down to lower layers on some file systems.
</span>
<code class="literal">CLONE</code>は、<code class="function">copy_file_range()</code>（Linux、FreeBSDの場合）または<code class="function">copyfile</code>（macOSの場合） システムコールを使用します。
これにより、カーネルはディスクブロックを共有したり、一部のファイルシステムの処理を下位レイヤにプッシュダウンしたりできます。
       </p></dd><dt id="GUC-FILE-EXTEND-METHOD"><span class="term"><code class="varname">file_extend_method</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.8.3.2.3.1.3" class="indexterm"></a>
      </span> <a href="#GUC-FILE-EXTEND-METHOD" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the method used to extend data files during bulk operations
        such as &lt;command&gt;COPY&lt;/command&gt;.  The first available option is used as
        the default, depending on the operating system:
</span>
《機械翻訳》«Specifies the method used to extend data files during bulk operations such as <code class="command">COPY</code>. The first available option is used as the default, depending on the operating system:»
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
           &lt;literal&gt;posix_fallocate&lt;/literal&gt; (Unix) uses the standard POSIX
            interface for allocating disk space, but is missing on some systems.
            If it is present but the underlying file system doesn't support it,
            this option silently falls back to &lt;literal&gt;write_zeros&lt;/literal&gt;.
            Current versions of BTRFS are known to disable compression when
            this option is used.
            This is the default on systems that have the function.
</span>
《機械翻訳》«<code class="literal">posix_fallocate</code> (Unix) uses the standard POSIX interface for allocating disk space, but is missing on some systems. If it is present but the underlying file system doesn't support it, this option silently falls back to <code class="literal">write_zeros</code>. Current versions of BTRFS are known to disable compression when this option is used. This is the default on systems that have the function.»
           </p></li><li class="listitem"><p>
<span class="original">
           &lt;literal&gt;write_zeros&lt;/literal&gt; extends files by writing out blocks
            of zero bytes.  This is the default on systems that don't have the
            function &lt;function&gt;posix_fallocate&lt;/function&gt;.
</span>
《機械翻訳》«<code class="literal">write_zeros</code> extends files by writing out blocks of zero bytes. This is the default on systems that don't have the function <code class="function">posix_fallocate</code>.»
          </p></li></ul></div><p>
        The <code class="literal">write_zeros</code> method is always used when data
        files are extended by 8 blocks or fewer.
       </p></dd><dt id="GUC-MAX-NOTIFY-QUEUE-PAGES"><span class="term"><code class="varname">max_notify_queue_pages</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.3.2.4.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.3.2.4.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MAX-NOTIFY-QUEUE-PAGES" class="id_link">#</a></dt><dd><p>
<span class="original">
        Specifies the maximum amount of allocated pages for
        &lt;xref linkend="sql-notify"/&gt; / &lt;xref linkend="sql-listen"/&gt; queue.
        The default value is 1048576. For 8 KB pages it allows to consume
        up to 8 GB of disk space.
        This parameter can only be set at server start.
</span>
《マッチ度[68.992248]》<a class="xref" href="sql-notify.html" title="NOTIFY"><span class="refentrytitle">NOTIFY</span></a>/<a class="xref" href="sql-listen.html" title="LISTEN"><span class="refentrytitle">LISTEN</span></a>キューのために割り当てられたページの最大量を指定します。
デフォルト値は1048576です。
8キロバイトページの場合、最大8ギガバイトのディスクスペースが消費されます。
《機械翻訳》«Specifies the maximum amount of allocated pages for <a class="xref" href="sql-notify.html" title="NOTIFY"><span class="refentrytitle">NOTIFY</span></a> / <a class="xref" href="sql-listen.html" title="LISTEN"><span class="refentrytitle">LISTEN</span></a> queue. The default value is 1048576. For 8 KB pages it allows to consume up to 8 GB of disk space. This parameter can only be set at server start.»
       </p></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-KERNEL"><div class="titlepage"><div><div><h3 class="title">19.4.3. カーネル資源使用 <a href="#RUNTIME-CONFIG-RESOURCE-KERNEL" class="id_link">#</a></h3></div></div></div><span class="original">
     &lt;title&gt;Kernel Resource Usage&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt id="GUC-MAX-FILES-PER-PROCESS"><span class="term"><code class="varname">max_files_per_process</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.8.4.2.1.1.3" class="indexterm"></a>
      <a id="id-1.6.6.8.4.2.1.1.4" class="indexterm"></a>
      </span> <a href="#GUC-MAX-FILES-PER-PROCESS" class="id_link">#</a></dt><dd><p>
<span class="original">
        Sets the maximum number of open files each server subprocess is
        allowed to open simultaneously;  files already opened in the
        postmaster are not counted toward this limit. The default is one
        thousand files.
</span>
サーバの各子プロセスが同時にオープンできるファイル数の最大値を設定します。
既にpostmasterで開かれているファイルは、この制限にはカウントされません。
デフォルトは1000ファイルです。
       </p><p>
<span class="original">
        If the kernel is enforcing
        a safe per-process limit, you don't need to worry about this setting.
        But on some platforms (notably, most BSD systems), the kernel will
        allow individual processes to open many more files than the system
        can actually support if many processes all try to open
        that many files. If you find yourself seeing &lt;quote&gt;Too many open
        files&lt;/quote&gt; failures, try reducing this setting.
        This parameter can only be set at server start.
</span>
カーネルがプロセス毎の安全制限を強要している場合、この設定を気にかける必要はありません。
しかし、いくつかのプラットフォーム（特にほとんどのBSDシステム）では、もし多くのプロセス全てがそれだけ多くのファイルを開くことを試みる場合、実際にサポートできるファイル数より多くのファイルを開くことを許しています。
もし<span class="quote">「<span class="quote">Too many open files</span>」</span>というエラーが発生した場合、この設定を削減してみてください。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-BACKGROUND-WRITER"><div class="titlepage"><div><div><h3 class="title">19.4.4. バックグラウンドライタ <a href="#RUNTIME-CONFIG-RESOURCE-BACKGROUND-WRITER" class="id_link">#</a></h3></div></div></div><span class="original">
     &lt;title&gt;Background Writer&lt;/title&gt;
</span><p>
<span class="original">
      There is a separate server
      process called the &lt;firstterm&gt;background writer&lt;/firstterm&gt;, whose function
      is to issue writes of &lt;quote&gt;dirty&lt;/quote&gt; (new or modified) shared
      buffers.  When the number of clean shared buffers appears to be
      insufficient, the background writer writes some dirty buffers to the
      file system and marks them as clean.  This reduces the likelihood
      that server processes handling user queries will be unable to find
      clean buffers and have to write dirty buffers themselves.
      However, the background writer does cause a net overall
      increase in I/O load, because while a repeatedly-dirtied page might
      otherwise be written only once per checkpoint interval, the
      background writer might write it several times as it is dirtied
      in the same interval.  The parameters discussed in this subsection
      can be used to tune the behavior for local needs.
</span>
<em class="firstterm">バックグラウンドライタ</em>と呼ばれる個別のサーバプロセスがあり、その機能は（新規または更新された）<span class="quote">「<span class="quote">ダーティ</span>」</span>な共有バッファの書き込みを行うことです。
クリーンなバッファの数が足りないことが分かると、バックグラウンドライタはダーティバッファをファイルシステムに書き込み、それらのバッファにクリーンであるという印を付けます。
これにより、ユーザの問い合わせを処理するサーバプロセスがクリーンなバッファを見つけることができず、ダーティなバッファを自分で書き込まなければならなくなる可能性を減らすことができます。
しかし、バックグラウンドライタは正味の全体的I/O負荷の増加を引き起こします。
その理由は、繰り返しダーティ化されるページは、バックグラウンドライタを使わなければチェックポイント間隔で一度だけ書き出されれば十分なのに対し、バックグラウンドライタは同じ間隔内で何度もダーティ化されると、それを複数回書き出すかもしれないからです。
この副節で説明する各パラメータは、サイト独自の必要に応じて動作を調整することに使用できます。
     </p><div class="variablelist"><dl class="variablelist"><dt id="GUC-BGWRITER-DELAY"><span class="term"><code class="varname">bgwriter_delay</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.5.3.1.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.5.3.1.1.4" class="indexterm"></a>
       </span> <a href="#GUC-BGWRITER-DELAY" class="id_link">#</a></dt><dd><p>
<span class="original">
         Specifies the delay between activity rounds for the
         background writer.  In each round the writer issues writes
         for some number of dirty buffers (controllable by the
         following parameters).  It then sleeps for
         the length of &lt;varname&gt;bgwriter_delay&lt;/varname&gt;, and repeats.
         When there are no dirty buffers in the
         buffer pool, though, it goes into a longer sleep regardless of
         &lt;varname&gt;bgwriter_delay&lt;/varname&gt;.
         If this value is specified without units, it is taken as milliseconds.
         The default value is 200
         milliseconds (&lt;literal&gt;200ms&lt;/literal&gt;). Note that on some systems, the
         effective resolution of sleep delays is 10 milliseconds; setting
         &lt;varname&gt;bgwriter_delay&lt;/varname&gt; to a value that is not a multiple of 10
         might have the same results as setting it to the next higher multiple
         of 10.  This parameter can only be set in the
         &lt;filename&gt;postgresql.conf&lt;/filename&gt; file or on the server command line.
</span>
バックグラウンドライタの動作周期間の遅延を指定します。
それぞれの周期でライタは、（以下のパラメータで管理される）一部のダーティバッファの書き込みを行います。
そして<code class="varname">bgwriter_delay</code>の長さスリープした後、これを繰りかえします。
しかし、バッファプールにダーティバッファが存在しない場合、<code class="varname">bgwriter_delay</code>に係わらずより長くスリープします。
この値が単位なしで指定された場合は、ミリ秒単位であるとみなします。
デフォルトの値は200ミリ秒（<code class="literal">200ms</code>）です。
ある種のシステムでは、スリープ遅延の実精度は10ミリ秒です。
<code class="varname">bgwriter_delay</code>の値の設定を10の倍数としない場合、次に大きい10の倍数に設定した結果と同一になるかもしれないことを覚えておいてください。
このパラメータは<code class="filename">postgresql.conf</code>ファイル、または、サーバのコマンドラインで設定可能です。
        </p></dd><dt id="GUC-BGWRITER-LRU-MAXPAGES"><span class="term"><code class="varname">bgwriter_lru_maxpages</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.5.3.2.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.5.3.2.1.4" class="indexterm"></a>
       </span> <a href="#GUC-BGWRITER-LRU-MAXPAGES" class="id_link">#</a></dt><dd><p>
<span class="original">
         In each round, no more than this many buffers will be written
         by the background writer.  Setting this to zero disables
         background writing.  (Note that checkpoints, which are managed by
         a separate, dedicated auxiliary process, are unaffected.)
         The default value is 100 buffers.
         This parameter can only be set in the &lt;filename&gt;postgresql.conf&lt;/filename&gt;
         file or on the server command line.
</span>
それぞれの周期で、この数以上のバッファはバックグラウンドライタにより書き込まれません。
ゼロに設定することでバックグラウンド書き込みは無効になります。
（分離し、そして専用の補助プロセスにより管理されるチェックポイントは影響を受けません。）
デフォルト値は100バッファです。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
        </p></dd><dt id="GUC-BGWRITER-LRU-MULTIPLIER"><span class="term"><code class="varname">bgwriter_lru_multiplier</code> (<code class="type">floating point</code>)
       <a id="id-1.6.6.8.5.3.3.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.5.3.3.1.4" class="indexterm"></a>
       </span> <a href="#GUC-BGWRITER-LRU-MULTIPLIER" class="id_link">#</a></dt><dd><p>
<span class="original">
         The number of dirty buffers written in each round is based on the
         number of new buffers that have been needed by server processes
         during recent rounds.  The average recent need is multiplied by
         &lt;varname&gt;bgwriter_lru_multiplier&lt;/varname&gt; to arrive at an estimate of the
         number of buffers that will be needed during the next round.  Dirty
         buffers are written until there are that many clean, reusable buffers
         available.  (However, no more than &lt;varname&gt;bgwriter_lru_maxpages&lt;/varname&gt;
         buffers will be written per round.)
         Thus, a setting of 1.0 represents a &lt;quote&gt;just in time&lt;/quote&gt; policy
         of writing exactly the number of buffers predicted to be needed.
         Larger values provide some cushion against spikes in demand,
         while smaller values intentionally leave writes to be done by
         server processes.
         The default is 2.0.
         This parameter can only be set in the &lt;filename&gt;postgresql.conf&lt;/filename&gt;
         file or on the server command line.
</span>
各周期で書き出されるダーティバッファ数は、最近の周期でサーバプロセスが必要とした新しいバッファ数を基にします。
次の周期で必要となるバッファ数を推定するために、最近必要とされた平均が<code class="varname">bgwriter_lru_multiplier</code>と掛け合わせられます。
ダーティバッファの書き出しは、同数の整理済み、再利用可能なバッファが利用できるようになるまで行われます。
（しかし1周期に<code class="varname">bgwriter_lru_maxpages</code>を超えるバッファ数を書き出しません。）
したがって、1.0と設定することは、必要と予想されるバッファ数の書き込みについて<span class="quote">「<span class="quote">必要なときに必要なだけ</span>」</span>というポリシーを表します。
より大きな値は突発的な要求に対する多少の緩衝材を提供します。
より小さな値はサーバプロセスでなされる書き込みを意図的に残します。
デフォルトは2.0です。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
        </p></dd><dt id="GUC-BGWRITER-FLUSH-AFTER"><span class="term"><code class="varname">bgwriter_flush_after</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.5.3.4.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.5.3.4.1.4" class="indexterm"></a>
       </span> <a href="#GUC-BGWRITER-FLUSH-AFTER" class="id_link">#</a></dt><dd><p>
<span class="original">
         Whenever more than this amount of data has
         been written by the background writer, attempt to force the OS to issue these
         writes to the underlying storage.  Doing so will limit the amount of
         dirty data in the kernel's page cache, reducing the likelihood of
         stalls when an &lt;function&gt;fsync&lt;/function&gt; is issued at the end of a checkpoint, or when
         the OS writes data back in larger batches in the background.  Often
         that will result in greatly reduced transaction latency, but there
         also are some cases, especially with workloads that are bigger than
         &lt;xref linkend="guc-shared-buffers"/&gt;, but smaller than the OS's page
         cache, where performance might degrade.  This setting may have no
         effect on some platforms.
         If this value is specified without units, it is taken as blocks,
         that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
         The valid range is between
         &lt;literal&gt;0&lt;/literal&gt;, which disables forced writeback, and
         &lt;literal&gt;2MB&lt;/literal&gt;.  The default is &lt;literal&gt;512kB&lt;/literal&gt; on Linux,
         &lt;literal&gt;0&lt;/literal&gt; elsewhere.  (If &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; is not 8kB,
         the default and maximum values scale proportionally to it.)
         This parameter can only be set in the &lt;filename&gt;postgresql.conf&lt;/filename&gt;
         file or on the server command line.
</span>
バックグラウンドライタがこの値より多く書く度に、OSが記憶装置に書き込むことを強制しようとします。
このことにより、カーネルのページキャッシュが持つダーティデータの量を一定量に制限し、チェックポイントの最後に<code class="function">fsync</code>が実行される際、あるいはOSがバックグラウンドでデータを大きな塊で書き出す際に性能の急激な低下を招く可能性を減らします。
多くの場合これによってトランザクションの遅延が大幅に少なくなりますが、あるケース、特にワークロードが<a class="xref" href="runtime-config-resource.html#GUC-SHARED-BUFFERS">shared_buffers</a>よりも大きく、OSのページキャッシュよりも小さい時には性能が低下するかもしれません。
この設定が無効なプラットフォームがあります。
この値が単位なしで指定された場合は、ブロック単位であるとみなします。すなわち、<code class="symbol">BLCKSZ</code>バイト、一般的には8kBです。
有効な設定値は、この強制書き込み機能が無効になる<code class="literal">0</code>から、<code class="literal">2MB</code>までです。
デフォルト値は、Linuxでは<code class="literal">512kB</code>で、それ以外は<code class="literal">0</code>です。
（<code class="symbol">BLCKSZ</code>が8kBでなければ、この設定のデフォルト値と最大値が<code class="symbol">BLCKSZ</code>に比例して変更されます。）
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
        </p></dd></dl></div><p>
<span class="original">
      Smaller values of &lt;varname&gt;bgwriter_lru_maxpages&lt;/varname&gt; and
      &lt;varname&gt;bgwriter_lru_multiplier&lt;/varname&gt; reduce the extra I/O load
      caused by the background writer, but make it more likely that server
      processes will have to issue writes for themselves, delaying interactive
      queries.
</span>
<code class="varname">bgwriter_lru_maxpages</code>および<code class="varname">bgwriter_lru_multiplier</code>の値がより少ないと、バックグラウンドライタで引き起こされる追加のI/O負荷を軽減しますが、サーバプロセスが自分自身で行わなければならない書き込みが増加することになり、会話型問い合わせを遅らせることになります。
     </p></div><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-IO"><div class="titlepage"><div><div><h3 class="title">19.4.5. I/O <a href="#RUNTIME-CONFIG-RESOURCE-IO" class="id_link">#</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-BACKEND-FLUSH-AFTER"><span class="term"><code class="varname">backend_flush_after</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.1.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.1.1.4" class="indexterm"></a>
       </span> <a href="#GUC-BACKEND-FLUSH-AFTER" class="id_link">#</a></dt><dd><p>
<span class="original">
         Whenever more than this amount of data has
         been written by a single backend, attempt to force the OS to issue
         these writes to the underlying storage.  Doing so will limit the
         amount of dirty data in the kernel's page cache, reducing the
         likelihood of stalls when an &lt;function&gt;fsync&lt;/function&gt; is issued at the end of a
         checkpoint, or when the OS writes data back in larger batches in the
         background.  Often that will result in greatly reduced transaction
         latency, but there also are some cases, especially with workloads
         that are bigger than &lt;xref linkend="guc-shared-buffers"/&gt;, but smaller
         than the OS's page cache, where performance might degrade.  This
         setting may have no effect on some platforms.
         If this value is specified without units, it is taken as blocks,
         that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
         The valid range is
         between &lt;literal&gt;0&lt;/literal&gt;, which disables forced writeback,
         and &lt;literal&gt;2MB&lt;/literal&gt;.  The default is &lt;literal&gt;0&lt;/literal&gt;, i.e., no
         forced writeback.  (If &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; is not 8kB,
         the maximum value scales proportionally to it.)
</span>
この量を超えるデータが単一のバックエンドによって書き込まれたときはいつでも、OSが記憶装置に書き込むことを強制します。
このことにより、カーネルのページキャッシュが持つダーティデータの量を一定量に制限し、チェックポイントの最後に<code class="function">fsync</code>が実行される際、あるいはバックグラウンドで実行される大きなバッチの中でOSがデータを書き出す際に性能の急激な低下を招く可能性を減らします。
多くの場合これによってトランザクションの遅延が大幅に少なくなりますが、あるケース、特にワークロードが<a class="xref" href="runtime-config-resource.html#GUC-SHARED-BUFFERS">shared_buffers</a>よりも大きく、OSのページキャッシュよりも小さい時には性能が低下するかもしれません。
この設定が無効なプラットフォームがあります。
この値が単位なしで指定された場合は、ブロック単位であるとみなします。すなわち、<code class="symbol">BLCKSZ</code>バイト、一般的には8kBです。
有効な範囲は、この強制書き込み機能が無効になる<code class="literal">0</code>から、<code class="literal">2MB</code>までです。
デフォルト値は<code class="literal">0</code>です(すなわち書き出し制御を行いません)。
（<code class="symbol">BLCKSZ</code>が8kBでなければ、最大値が<code class="symbol">BLCKSZ</code>に比例して変更されます。）
        </p></dd><dt id="GUC-EFFECTIVE-IO-CONCURRENCY"><span class="term"><code class="varname">effective_io_concurrency</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.2.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.2.1.4" class="indexterm"></a>
       </span> <a href="#GUC-EFFECTIVE-IO-CONCURRENCY" class="id_link">#</a></dt><dd><p>
<span class="original">
         Sets the number of concurrent storage I/O operations that
         &lt;productname&gt;PostgreSQL&lt;/productname&gt; expects can be executed
         simultaneously.  Raising this value will increase the number of I/O
         operations that any individual &lt;productname&gt;PostgreSQL&lt;/productname&gt;
         session attempts to initiate in parallel.  The allowed range is
         &lt;literal&gt;1&lt;/literal&gt; to &lt;literal&gt;1000&lt;/literal&gt;, or
         &lt;literal&gt;0&lt;/literal&gt; to disable issuance of asynchronous I/O requests.
         The default is &lt;literal&gt;16&lt;/literal&gt;.
</span>
<span class="productname">PostgreSQL</span>が同時実行可能であると想定する同時ストレージI/O操作の数を設定します。
この値を大きくすると、あらゆる個別の<span class="productname">PostgreSQL</span>セッションが並行して開始を試みるI/O操作の数が増加します。
設定可能な範囲は<code class="literal">1</code>から<code class="literal">1000</code>まで、または非同期I/Oリクエストの発行を無効にする<code class="literal">0</code>です。
デフォルトは<code class="literal">16</code>です。
        </p><p>
<span class="original">
         Higher values will have the most impact on higher latency storage
         where queries otherwise experience noticeable I/O stalls and on
         devices with high IOPs. Unnecessarily high values may increase I/O
         latency for all queries on the system.
</span>
《マッチ度[84.255319]》値が高いほど、問い合わせで顕著なI/Oストールが発生するレイテンシの高いストレージや、IOPSが高いデバイスに最も大きな影響を与えます。
不必要に高い値を設定すると、システム上のすべての問い合わせのI/O待ち時間が長くなる可能性があります。
《機械翻訳》«Higher values will have the most impact on higher latency storage where queries otherwise experience noticeable I/O stalls and on devices with high IOPs. Unnecessarily high values may increase I/O latency for all queries on the system.»
        </p><p>
<span class="original">
         On systems with prefetch advice support,
         &lt;varname&gt;effective_io_concurrency&lt;/varname&gt; also controls the
         prefetch distance.
</span>
プリフェッチ指示がサポートされているシステムでは、<code class="varname">effective_io_concurrency</code>がプリフェッチの距離も制御します。
        </p><p>
<span class="original">
         This value can be overridden for tables in a particular tablespace by
         setting the tablespace parameter of the same name (see &lt;xref
         linkend="sql-altertablespace"/&gt;).
</span>
この値は、同じ名前のテーブル空間パラメータを設定することで、特定のテーブル空間内のテーブルに対して上書きできます（<a class="xref" href="sql-altertablespace.html" title="ALTER TABLESPACE"><span class="refentrytitle">ALTER TABLESPACE</span></a>を参照）。
        </p></dd><dt id="GUC-MAINTENANCE-IO-CONCURRENCY"><span class="term"><code class="varname">maintenance_io_concurrency</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.3.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.3.1.4" class="indexterm"></a>
       </span> <a href="#GUC-MAINTENANCE-IO-CONCURRENCY" class="id_link">#</a></dt><dd><p>
<span class="original">
         Similar to &lt;varname&gt;effective_io_concurrency&lt;/varname&gt;, but used
         for maintenance work that is done on behalf of many client sessions.
</span>
<code class="varname">effective_io_concurrency</code>と似ていますが、多くのクライアントセッションのために行われる保守作業で適用されるところが異なります。
        </p><p>
<span class="original">
         The default is &lt;literal&gt;16&lt;/literal&gt;.  This value can be overridden
         for tables in a particular tablespace by setting the tablespace
         parameter of the same name (see &lt;xref
         linkend="sql-altertablespace"/&gt;).
</span>
デフォルトは<code class="literal">16</code>です。
この値は、同じ名前のテーブル空間パラメータを設定することで、特定のテーブル空間内のテーブルに対して上書きできます（<a class="xref" href="sql-altertablespace.html" title="ALTER TABLESPACE"><span class="refentrytitle">ALTER TABLESPACE</span></a>を参照）。
        </p></dd><dt id="GUC-IO-MAX-COMBINE-LIMIT"><span class="term"><code class="varname">io_max_combine_limit</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.4.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.4.1.4" class="indexterm"></a>
       </span> <a href="#GUC-IO-MAX-COMBINE-LIMIT" class="id_link">#</a></dt><dd><p>
<span class="original">
         Controls the largest I/O size in operations that combine I/O, and silently
         limits the user-settable parameter &lt;varname&gt;io_combine_limit&lt;/varname&gt;.
         This parameter can only be set at server start.
         If this value is specified without units, it is taken as blocks,
         that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
         The maximum possible size depends on the operating system and block
         size, but is typically 1MB on Unix and 128kB on Windows.
         The default is 128kB.
</span>
《マッチ度[66.521739]》I/Oを結合する操作の最大のI/Oサイズを制御し、ユーザが設定可能なパラメータである<code class="varname">io_combine_limit</code>を暗黙的に制限します。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
可能な最大サイズは、オペレーティングシステムとブロックサイズによって異なりますが、通常、Unixでは1MBであり、Windowsでは128kBです。
デフォルトは128kBです。
《機械翻訳》«Controls the largest I/O size in operations that combine I/O, and silently limits the user-settable parameter <code class="varname">io_combine_limit</code>. This parameter can only be set at server start. If this value is specified without units, it is taken as blocks, that is <code class="symbol">BLCKSZ</code> bytes, typically 8kB. The maximum possible size depends on the operating system and block size, but is typically 1MB on Unix and 128kB on Windows. The default is 128kB.»
        </p></dd><dt id="GUC-IO-COMBINE-LIMIT"><span class="term"><code class="varname">io_combine_limit</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.5.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.5.1.4" class="indexterm"></a>
       </span> <a href="#GUC-IO-COMBINE-LIMIT" class="id_link">#</a></dt><dd><p>
<span class="original">
         Controls the largest I/O size in operations that combine I/O.  If set
         higher than the &lt;varname&gt;io_max_combine_limit&lt;/varname&gt; parameter, the
         lower value will silently be used instead, so both may need to be raised
         to increase the I/O size.
         If this value is specified without units, it is taken as blocks,
         that is &lt;symbol&gt;BLCKSZ&lt;/symbol&gt; bytes, typically 8kB.
         The maximum possible size depends on the operating system and block
         size, but is typically 1MB on Unix and 128kB on Windows.
         The default is 128kB.
</span>
《マッチ度[67.063492]》I/Oを結合する操作の最大のI/Oサイズを制御します。
<code class="varname">io_max_combine_limit</code>パラメータよりも高い値に設定すると、代わりに低い値が自動的に使用されるため、I/Oサイズを増やすには両方を上げる必要がある場合があります。
可能な最大サイズは、オペレーティングシステムとブロックサイズによって異なりますが、通常、Unixでは1MBであり、Windowsでは128kBです。
デフォルトは128kBです。
《機械翻訳》«Controls the largest I/O size in operations that combine I/O. If set higher than the <code class="varname">io_max_combine_limit</code> parameter, the lower value will silently be used instead, so both may need to be raised to increase the I/O size. If this value is specified without units, it is taken as blocks, that is <code class="symbol">BLCKSZ</code> bytes, typically 8kB. The maximum possible size depends on the operating system and block size, but is typically 1MB on Unix and 128kB on Windows. The default is 128kB.»
        </p></dd><dt id="GUC-IO-MAX-CONCURRENCY"><span class="term"><code class="varname">io_max_concurrency</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.6.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.6.1.4" class="indexterm"></a>
       </span> <a href="#GUC-IO-MAX-CONCURRENCY" class="id_link">#</a></dt><dd><p>
<span class="original">
         Controls the maximum number of I/O operations that one process can
         execute simultaneously.
</span>
1つのプロセスが同時に実行できるI/O操作の最大数を制御します。
        </p><p>
<span class="original">
         The default setting of &lt;literal&gt;-1&lt;/literal&gt; selects a number based
         on &lt;xref linkend="guc-shared-buffers"/&gt; and the maximum number of
         processes (&lt;xref linkend="guc-max-connections"/&gt;, &lt;xref
         linkend="guc-autovacuum-worker-slots"/&gt;, &lt;xref
         linkend="guc-max-worker-processes"/&gt; and &lt;xref
         linkend="guc-max-wal-senders"/&gt;), but not more than
         &lt;literal&gt;64&lt;/literal&gt;.
</span>
デフォルトの設定値の<code class="literal">-1</code>では、<a class="xref" href="runtime-config-resource.html#GUC-SHARED-BUFFERS">shared_buffers</a>とプロセスの最大数（<a class="xref" href="runtime-config-connection.html#GUC-MAX-CONNECTIONS">max_connections</a>、<a class="xref" href="runtime-config-vacuum.html#GUC-AUTOVACUUM-WORKER-SLOTS">autovacuum_worker_slots</a>、<a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>、および<a class="xref" href="runtime-config-replication.html#GUC-MAX-WAL-SENDERS">max_wal_senders</a>）に基づいて値が選択されますが、<code class="literal">64</code>を超える値にはなりません。
        </p><p>
<span class="original">
         This parameter can only be set at server start.
</span>
このパラメータはサーバ起動時のみ設定可能です。
        </p></dd><dt id="GUC-IO-METHOD"><span class="term"><code class="varname">io_method</code> (<code class="type">enum</code>)
       <a id="id-1.6.6.8.6.2.7.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.7.1.4" class="indexterm"></a>
       </span> <a href="#GUC-IO-METHOD" class="id_link">#</a></dt><dd><p>
<span class="original">
         Selects the method for executing asynchronous I/O.
         Possible values are:
</span>
非同期I/Oを実行する方法を選択します。
可能な値は次のとおりです。
         </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;worker&lt;/literal&gt; (execute asynchronous I/O using worker processes)
</span>
<code class="literal">worker</code>
（ワーカープロセスを使用する非同期I/Oを実行します）
           </p></li><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;io_uring&lt;/literal&gt; (execute asynchronous I/O using
            io_uring, requires a build with
            &lt;link linkend="configure-option-with-liburing"&gt;&lt;option&gt;&amp;#45;-with-liburing&lt;/option&gt;&lt;/link&gt; /
            &lt;link linkend="configure-with-liburing-meson"&gt;&lt;option&gt;-Dliburing&lt;/option&gt;&lt;/link&gt;)
</span>
<code class="literal">io_uring</code>
（io_uringを使用して非同期I/Oを実行します。
<a class="link" href="install-make.html#CONFIGURE-OPTION-WITH-LIBURING"><code class="option">--with-liburing</code></a> / <a class="link" href="install-meson.html#CONFIGURE-WITH-LIBURING-MESON"><code class="option">-Dliburing</code></a>を使用してビルドする必要があります）
           </p></li><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;sync&lt;/literal&gt; (execute asynchronous-eligible I/O synchronously)
</span>
<code class="literal">sync</code>
（非同期で適格なI/Oを同期的に実行します）
           </p></li></ul></div><p>
<span class="original">
         The default is &lt;literal&gt;worker&lt;/literal&gt;.
</span>
デフォルトは<code class="literal">worker</code>です。
        </p><p>
<span class="original">
         This parameter can only be set at server start.
</span>
このパラメータはサーバ起動時のみ設定可能です。
        </p></dd><dt id="GUC-IO-WORKERS"><span class="term"><code class="varname">io_workers</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.6.2.8.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.6.2.8.1.4" class="indexterm"></a>
       </span> <a href="#GUC-IO-WORKERS" class="id_link">#</a></dt><dd><p>
<span class="original">
         Selects the number of I/O worker processes to use. The default is
         3. This parameter can only be set in the
         &lt;filename&gt;postgresql.conf&lt;/filename&gt; file or on the server command
         line.
</span>
使用するI/Oワーカープロセスの数を選択します
デフォルトは3です。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
        </p><p>
<span class="original">
         Only has an effect if &lt;xref linkend="guc-io-method"/&gt; is set to
         &lt;literal&gt;worker&lt;/literal&gt;.
</span>
<a class="xref" href="runtime-config-resource.html#GUC-IO-METHOD">io_method</a>が<code class="literal">worker</code>と設定されている場合にのみ有効です。
        </p></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-RESOURCE-WORKER-PROCESSES"><div class="titlepage"><div><div><h3 class="title">19.4.6. ワーカープロセス <a href="#RUNTIME-CONFIG-RESOURCE-WORKER-PROCESSES" class="id_link">#</a></h3></div></div></div><span class="original">
     &lt;title&gt;Worker Processes&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt id="GUC-MAX-WORKER-PROCESSES"><span class="term"><code class="varname">max_worker_processes</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.7.2.1.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.7.2.1.1.4" class="indexterm"></a>
       </span> <a href="#GUC-MAX-WORKER-PROCESSES" class="id_link">#</a></dt><dd><p>
<span class="original">
         Sets the maximum number of background processes that the cluster
         can support.  This parameter can only be set at server start.  The
         default is 8.
</span>
クラスタがサポートするバックグラウンドプロセスの最大数を指定します。
このパラメータはサーバ起動時のみ設定可能です。
デフォルトは8です。
        </p><p>
<span class="original">
         When running a standby server, you must set this parameter to the
         same or higher value than on the primary server. Otherwise, queries
         will not be allowed in the standby server.
</span>
スタンバイサーバを起動しているときは、このパラメータを、プライマリサーバの設定値と同じかそれ以上にしなければなりません。
さもなければ、スタンバイサーバで問い合わせの実行ができなくなります。
        </p><p>
<span class="original">
         When changing this value, consider also adjusting
         &lt;xref linkend="guc-max-parallel-workers"/&gt;,
         &lt;xref linkend="guc-max-parallel-maintenance-workers"/&gt;, and
         &lt;xref linkend="guc-max-parallel-workers-per-gather"/&gt;.
</span>
この値を変更する際は、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS">max_parallel_workers</a>、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-MAINTENANCE-WORKERS">max_parallel_maintenance_workers</a>、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER">max_parallel_workers_per_gather</a>を変更することも考慮してください。
        </p></dd><dt id="GUC-MAX-PARALLEL-WORKERS-PER-GATHER"><span class="term"><code class="varname">max_parallel_workers_per_gather</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.7.2.2.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.7.2.2.1.4" class="indexterm"></a>
       </span> <a href="#GUC-MAX-PARALLEL-WORKERS-PER-GATHER" class="id_link">#</a></dt><dd><p>
<span class="original">
         Sets the maximum number of workers that can be started by a single
         &lt;literal&gt;Gather&lt;/literal&gt; or &lt;literal&gt;Gather Merge&lt;/literal&gt; node.
         Parallel workers are taken from the pool of processes established by
         &lt;xref linkend="guc-max-worker-processes"/&gt;, limited by
         &lt;xref linkend="guc-max-parallel-workers"/&gt;.  Note that the requested
         number of workers may not actually be available at run time.  If this
         occurs, the plan will run with fewer workers than expected, which may
         be inefficient.  The default value is 2.  Setting this value to 0
         disables parallel query execution.
</span>
一つの<code class="literal">Gather</code>または<code class="literal">Gather Merge</code>ノードに対して起動できるワーカー数の最大値を設定します。
パラレルワーカーは、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS">max_parallel_workers</a>で上限が決まる<a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>で確立されたプロセスのプールから取得されます。
実行時には、要求された数のワーカーは取得できないかもしれないことに注意してください。
そうなると、実行プランは期待していたよりも少ない数のワーカーで実行されることになり、効率は悪化するかもしれません。
デフォルト値は2です。
この設定値を0にすると、パラレルクエリの実行は行われません。
        </p><p>
<span class="original">
         Note that parallel queries may consume very substantially more
         resources than non-parallel queries, because each worker process is
         a completely separate process which has roughly the same impact on the
         system as an additional user session.  This should be taken into
         account when choosing a value for this setting, as well as when
         configuring other settings that control resource utilization, such
         as &lt;xref linkend="guc-work-mem"/&gt;.  Resource limits such as
         &lt;varname&gt;work_mem&lt;/varname&gt; are applied individually to each worker,
         which means the total utilization may be much higher across all
         processes than it would normally be for any single process.
         For example, a parallel query using 4 workers may use up to 5 times
         as much CPU time, memory, I/O bandwidth, and so forth as a query which
         uses no workers at all.
</span>
パラレルクエリの実行により、パラレルクエリではない場合に比べて非常に多くのリソースが使用されるかもしれないことに注意してください。
これは、個々のワーカープロセスは完全に別個のプロセスであり、システムに対してユーザセッションが追加されたのと大体同じくらいの影響があるからです。
この設定値を選択する際には、他のリソースの消費量を制御する他の設定値、たとえば<a class="xref" href="runtime-config-resource.html#GUC-WORK-MEM">work_mem</a>を設定するときと同様に、この点を考慮しておく必要があります。
<code class="varname">work_mem</code>のような設定値によるリソース制限は、個々のワーカーに対して個別に適用されます。
つまり、ひとつのプロセスに対するよりも、すべてのプロセスの全体のリソース消費はずっと多いかもしれないということです。
たとえば、あるパラレルクエリが4つのワーカーを使っているとすると、ワーカーを使わない場合に比べて、最大5倍のCPU時間、メモリ、I/Oバンド幅、その他を使うかもしれません。
        </p><p>
<span class="original">
         For more information on parallel query, see
         &lt;xref linkend="parallel-query"/&gt;.
</span>
パラレルクエリに関する更なる情報については、<a class="xref" href="parallel-query.html" title="第15章 パラレルクエリ">第15章</a>をご覧ください。
        </p></dd><dt id="GUC-MAX-PARALLEL-MAINTENANCE-WORKERS"><span class="term"><code class="varname">max_parallel_maintenance_workers</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.7.2.3.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.7.2.3.1.4" class="indexterm"></a>
       </span> <a href="#GUC-MAX-PARALLEL-MAINTENANCE-WORKERS" class="id_link">#</a></dt><dd><p>
<span class="original">
         Sets the maximum number of parallel workers that can be
         started by a single utility command.  Currently, the parallel
         utility commands that support the use of parallel workers are
         &lt;command&gt;CREATE INDEX&lt;/command&gt; when building a B-tree,
         GIN, or BRIN index,
         and &lt;command&gt;VACUUM&lt;/command&gt; without &lt;literal&gt;FULL&lt;/literal&gt;
         option.  Parallel workers are taken from the pool of processes
         established by &lt;xref linkend="guc-max-worker-processes"/&gt;, limited
         by &lt;xref linkend="guc-max-parallel-workers"/&gt;.  Note that the requested
         number of workers may not actually be available at run time.
         If this occurs, the utility operation will run with fewer
         workers than expected.  The default value is 2.  Setting this
         value to 0 disables the use of parallel workers by utility
         commands.
</span>
単一のユーティリティコマンドで使用されるパラレルワーカーの最大数を設定します。
今の所、パラレルワーカーの利用をサポートしているパラレルユーティリティコマンドは、<code class="command">CREATE INDEX</code>がB-tree、GIN、またはBRINインデックスを構築するときと、<code class="literal">FULL</code>オプションなしの<code class="command">VACUUM</code>です。
パラレルワーカーは、<a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>で確立したプロセスのプールから取得され、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS">max_parallel_workers</a>によって制限されます。
要求したワーカー数は、実行時に実際には利用可能でないかもしれないことに注意してください。
この場合は、ユーティリティ操作は期待したよりも少ない数のワーカーにより実行されます。
デフォルト値は2です。
0に設定すると、ユーティリティコマンドはパラレルワーカーを使用しません。
        </p><p>
<span class="original">
         Note that parallel utility commands should not consume
         substantially more memory than equivalent non-parallel
         operations.  This strategy differs from that of parallel
         query, where resource limits generally apply per worker
         process.  Parallel utility commands treat the resource limit
         &lt;varname&gt;maintenance_work_mem&lt;/varname&gt; as a limit to be applied to
         the entire utility command, regardless of the number of
         parallel worker processes.  However, parallel utility
         commands may still consume substantially more CPU resources
         and I/O bandwidth.
</span>
パラレルユーティリティコマンドは同等の非パラレル操作よりもかなり多くのメモリを消費すべきでないことに留意してください。
この戦略は、一般的にワーカー毎にリソース制限を適用するパラレルクエリとは異なります。
パラレルワーカープロセスの数にかかわらず、パラレルユーティリティコマンドは、その全体でリソース制限<code class="varname">maintenance_work_mem</code>が適用されるとみなします。
しかし、パラレルユーティリティコマンドは、依然としてかなり多くのCPUリソースとI/Oバンド幅を消費するかも知れません。
        </p></dd><dt id="GUC-MAX-PARALLEL-WORKERS"><span class="term"><code class="varname">max_parallel_workers</code> (<code class="type">integer</code>)
       <a id="id-1.6.6.8.7.2.4.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.7.2.4.1.4" class="indexterm"></a>
       </span> <a href="#GUC-MAX-PARALLEL-WORKERS" class="id_link">#</a></dt><dd><p>
<span class="original">
         Sets the maximum number of workers that the cluster can support for
         parallel operations.  The default value is 8.  When increasing or
         decreasing this value, consider also adjusting
         &lt;xref linkend="guc-max-parallel-maintenance-workers"/&gt; and
         &lt;xref linkend="guc-max-parallel-workers-per-gather"/&gt;.
         Also, note that a setting for this value which is higher than
         &lt;xref linkend="guc-max-worker-processes"/&gt; will have no effect,
         since parallel workers are taken from the pool of worker processes
         established by that setting.
</span>
パラレルクエリ操作用にクラスタがサポートできる最大のワーカー数を設定します。
デフォルト値は8です。
この値を増減するときは、<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-MAINTENANCE-WORKERS">max_parallel_maintenance_workers</a>と<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER">max_parallel_workers_per_gather</a>を調整することを考慮してください。
また、この設定値を<a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>よりも高い値にしても効果がないことに注意してください。
<a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>で決まるワーカープロセスのプールから、パラレルワーカーが使われるからです。
        </p></dd><dt id="GUC-PARALLEL-LEADER-PARTICIPATION"><span class="term">
       <code class="varname">parallel_leader_participation</code> (<code class="type">boolean</code>)
       <a id="id-1.6.6.8.7.2.5.1.3" class="indexterm"></a>
       <a id="id-1.6.6.8.7.2.5.1.4" class="indexterm"></a>
       </span> <a href="#GUC-PARALLEL-LEADER-PARTICIPATION" class="id_link">#</a></dt><dd><p>
<span class="original">
         Allows the leader process to execute the query plan under
         &lt;literal&gt;Gather&lt;/literal&gt; and &lt;literal&gt;Gather Merge&lt;/literal&gt; nodes
         instead of waiting for worker processes.  The default is
         &lt;literal&gt;on&lt;/literal&gt;.  Setting this value to &lt;literal&gt;off&lt;/literal&gt;
         reduces the likelihood that workers will become blocked because the
         leader is not reading tuples fast enough, but requires the leader
         process to wait for worker processes to start up before the first
         tuples can be produced.  The degree to which the leader can help or
         hinder performance depends on the plan type, number of workers and
         query duration.
</span>
ワーカープロセスを待つ代わりに、<code class="literal">Gather</code>ノードと<code class="literal">Gather Merge</code>ノード配下の問い合わせプランをリーダープロセスが実行できるようにします。
デフォルトは<code class="literal">on</code>です。
この値を<code class="literal">off</code>にすると、リーダーがタプルを十分早く読まないためにワーカーがブロックされる可能性を減らすことができますが、リーダープロセスは最初のタプルが生成される前にワーカープロセスが起動するのを待つ必要があります。
これがリーダーの性能を助けるのか、阻害要因になるかは計画型、ワーカーの数、問い合わせの実行時間の長さによります。
        </p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-connection.html" title="19.3. 接続と認証">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html" title="第19章 サーバ設定">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-wal.html" title="19.5. 先行書き込みログ（WAL）">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">19.3. 接続と認証 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 18.2文書">ホーム</a></td><td width="40%" align="right" valign="top"> 19.5. 先行書き込みログ（WAL）</td></tr></table></div></body></html>