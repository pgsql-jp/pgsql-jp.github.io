<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.21. リリース9.6</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-6-1.html" title="E.20. リリース9.6.1" /><link rel="next" href="release-9-5-15.html" title="E.22. リリース9.5.15" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-6-1.html" title="E.20. リリース9.6.1">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.21. リリース9.6</td><td width="20%" align="right"> <a accesskey="n" href="release-9-5-15.html" title="E.22. リリース9.5.15">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-9-6"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.21. リリース9.6</h2></div></div></div><!--
  <title>Release 9.6</title>
--><p><strong>Release date: </strong>2016-09-29</p><div class="sect2" id="id-1.11.6.25.3"><div class="titlepage"><div><div><h3 class="title">E.21.1. 概要</h3></div></div></div><!--
   <title>Overview</title>
--><p>
<!--
    Major enhancements in <productname>PostgreSQL</productname> 9.6 include:
-->
    <span class="productname">PostgreSQL</span>9.6の主な強化点には以下のものがあります。
   </p><!-- Items in this list summarize one or more items below --><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
      Parallel execution of sequential scans, joins and aggregates
-->
シーケンシャルスキャン、結合、集約の並列実行
     </p></li><li class="listitem"><p>
<!--
      Avoid scanning pages unnecessarily during vacuum freeze operations
-->
バキューム凍結処理で不要なページスキャンを回避しました
     </p></li><li class="listitem"><p>
<!--
      Synchronous replication now allows multiple standby servers for
      increased reliability
-->
同期レプリケーションで信頼性向上のための複数スタンバイサーバが可能になりました
     </p></li><li class="listitem"><p>
<!--
      Full-text search can now search for phrases (multiple adjacent words)
-->
全文検索でフレーズ（隣接した複数単語）を検索できるようになりました
     </p></li><li class="listitem"><p>
<!--
      <filename>postgres_fdw</filename> now supports remote joins, sorts,
      <command>UPDATE</command>s, and <command>DELETE</command>s
-->
<code class="filename">postgres_fdw</code>がリモートでの結合、ソート、<code class="command">UPDATE</code>、<code class="command">DELETE</code>に対応しました
     </p></li><li class="listitem"><p>
<!--
      Substantial performance improvements, especially in the area of
      scalability on multi-<acronym>CPU</acronym>-socket servers
-->
特にマルチ<code class="literal">CPU</code>ソケットサーバでのスケーラビリティの領域における、相当な性能改善をしました
     </p></li></ul></div><p>
<!--
    The above items are explained in more detail in the sections below.
-->
上記の項目について以下でより詳細に説明します。
   </p></div><div class="sect2" id="id-1.11.6.25.4"><div class="titlepage"><div><div><h3 class="title">E.21.2. バージョン9.6への移行</h3></div></div></div><!--
  <title>Migration to Version 9.6</title>
--><p>
<!--
    A dump/restore using <xref linkend="app-pg-dumpall"/>, or use of <xref
    linkend="pgupgrade"/>, is required for those wishing to migrate data
    from any previous release.
-->
以前のリリースからデータを移行したい時は、どのリリースについても、
<a class="xref" href="app-pg-dumpall.html" title="pg_dumpall"><span class="refentrytitle"><span class="application">pg_dumpall</span></span></a>を利用したダンプとリストア、
あるいは<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>の利用が必要です。
   </p><p>
<!--
    Version 9.6 contains a number of changes that may affect compatibility
    with previous releases.  Observe the following incompatibilities:
-->
バージョン9.6には、以前のバージョンとの互換性に影響する多数の変更点が含まれています。
以下の非互換性に注意してください。
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-10 [53be0b1ad] Provide much better wait information in pg_stat_activity
--><p>
<!--
        Improve the <link
        linkend="pg-stat-activity-view"><structname>pg_stat_activity</structname></link>
        view's information about what a process is waiting for (Amit
        Kapila, Ildus Kurbangaliev)
-->
<a class="link" href="monitoring-stats.html#PG-STAT-ACTIVITY-VIEW" title="表28.3 pg_stat_activityビュー"><code class="structname">pg_stat_activity</code></a>ビューの、プロセスが何を待機しているかの情報を改善しました。
(Amit Kapila, Ildus Kurbangaliev)
       </p><p>
<!--
        Historically a process has only been shown as waiting if it was
        waiting for a heavyweight lock.  Now waits for lightweight locks
        and buffer pins are also shown in <structname>pg_stat_activity</structname>.
        Also, the type of lock being waited for is now visible.
        These changes replace the <structfield>waiting</structfield> column with
        <structfield>wait_event_type</structfield> and <structfield>wait_event</structfield>.
-->
歴史的には重量ロックを待機している場合だけプロセスは待機中と示されていました。
これからは軽量ロックとバッファピンの待機も<code class="structname">pg_stat_activity</code>で示されます。
また、待機しているロックのタイプも見えるようになります。
これらの変更は<code class="structfield">waiting</code>列を<code class="structfield">wait_event_type</code>と<code class="structfield">wait_event</code>で置き換えます。
       </p></li><li class="listitem"><!--
2015-10-05 [2d87eedc1] to_char(): Do not count negative sign as a digit for tim
--><p>
<!--
        In <link
        linkend="functions-formatting-table"><function>to_char()</function></link>,
        do not count a minus sign (when needed) as part of the field
        width for time-related fields (Bruce Momjian)
-->
<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.23 書式設定関数"><code class="function">to_char()</code></a>で時間関連のフィールドにおいて（必要ならば）マイナス符号をフィールド幅の一部としてカウントしません。
(Bruce Momjian)
       </p><p>
<!--
        For example, <literal>to_char('-4 years'::interval, 'YY')</literal>
        now returns <literal>-04</literal>, rather than <literal>-4</literal>.
-->
例えば<code class="literal">to_char('-4 years'::interval, 'YY')</code>は<code class="literal">-4</code>でなく<code class="literal">-04</code>を返すようになります。
       </p></li><li class="listitem"><!--
2016-01-21 [647d87c56] Make extract() do something more reasonable with infinit
--><p>
<!--
        Make <link
        linkend="functions-datetime-table"><function>extract()</function></link> behave
        more reasonably with infinite inputs (Vitaly Burovoy)
-->
無限値の入力に対して<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="表9.30 日付/時刻関数"><code class="function">extract()</code></a>が、より合理的に動作するようにしました。
(Vitaly Burovoy)
       </p><p>
<!--
        Historically the <function>extract()</function> function just returned
        zero given an infinite timestamp, regardless of the given
        field name.  Make it return <literal>infinity</literal>
        or <literal>-infinity</literal> as appropriate when the
        requested field is one that is monotonically increasing (e.g,
        <literal>year</literal>, <literal>epoch</literal>), or <literal>NULL</literal> when
        it is not (e.g., <literal>day</literal>, <literal>hour</literal>).  Also,
        throw the expected error for bad field names.
-->
歴史的には<code class="function">extract()</code>関数は与えられたフィールド名が何であっても、無限大のタイムスタンプが与えられたなら単に0を返していました。
これを、要求フィールドが単調増加するもの（例：<code class="literal">year</code>、<code class="literal">epoch</code>）なら適切に<code class="literal">infinity</code>または<code class="literal">-infinity</code>を返し、そうでないもの（例：<code class="literal">day</code>、<code class="literal">hour</code>）なら<code class="literal">NULL</code>を返すようにしました。
また、誤ったフィールド名には期待されるエラーを投げます。
       </p></li><li class="listitem"><!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under libpq and psql
--><p>
<!--
        Remove PL/pgSQL's <quote>feature</quote> that suppressed the
        innermost line of <literal>CONTEXT</literal> for messages emitted by
        <command>RAISE</command> commands (Pavel Stehule)
-->
PL/pgSQLの<code class="command">RAISE</code>コマンドで出力されるメッセージにて<code class="literal">CONTEXT</code>の最も内側の行を抑制する<span class="quote">「<span class="quote">機能</span>」</span>を取り除きました。
(Pavel Stehule)
       </p><p>
<!--
        This ancient backwards-compatibility hack was agreed to have
        outlived its usefulness.
-->
この古くからの後方互換性のための作り込みは、もはや役に立たなくなっていると認められました。
       </p></li><li class="listitem"><!--
2016-03-29 [61d66c44f] Fix support of digits in email/hostnames.
--><p>
<!--
        Fix the default text search parser to allow leading digits
        in <literal>email</literal> and <literal>host</literal> tokens (Artur Zakirov)
-->
デフォルトのテキスト検索パーサを<code class="literal">email</code>および<code class="literal">host</code>トークンが数字から始まるのを許すように修正しました。
(Artur Zakirov)
       </p><p>
<!--
        In most cases this will result in few changes in the parsing of
        text.  But if you have data where such addresses occur frequently,
        it may be worth rebuilding dependent <type>tsvector</type> columns
        and indexes so that addresses of this form will be found properly
        by text searches.
-->
ほとんどの場合、これはテキスト解析に僅かな違いしかもたらしません。
しかし、このようなアドレスが頻繁に生じるデータを持っているなら、テキスト検索でこの形のアドレスを適切に見つけられるようにするために、従属する<code class="type">tsvector</code>列とインデックスを再構築するだけの価値があるでしょう。
       </p></li><li class="listitem"><!--
2015-09-04 [1bbd52cb9] Make unaccent handle all diacritics known to Unicode, an
2016-03-16 [9a206d063] Improve script generating unaccent rules
--><p>
<!--
        Extend <link linkend="unaccent"><filename>contrib/unaccent</filename></link>'s
        standard <filename>unaccent.rules</filename> file to handle all diacritics
        known to Unicode, and to expand ligatures correctly (Thomas Munro,
        L&eacute;onard Benedetti)
-->
<a class="link" href="unaccent.html" title="F.43. unaccent"><code class="filename">contrib/unaccent</code></a>の標準<code class="filename">unaccent.rules</code>ファイルをユニコードむけに知られている全ての発音区別符号を扱うように、また、合字を正しく展開するように拡張しました。
(Thomas Munro, Léonard Benedetti)
       </p><p>
<!--
        The previous version neglected to convert some less-common letters
        with diacritic marks.  Also, ligatures are now expanded into
        separate letters.  Installations that use this rules file may wish
        to rebuild <type>tsvector</type> columns and indexes that depend on the
        result.
-->
従来バージョンでは一部の一般的でない発音区別符号を伴う文字を変換するのを怠っていました。
また、これからは合字は別々の文字に展開されます。
このルールファイルを使うインストレーションは<code class="type">tsvector</code>列とその結果に依存するインデックスを再構築するのがよいでしょう。
       </p></li><li class="listitem"><!--
2015-10-22 [d371bebd3] Remove redundant CREATEUSER/NOCREATEUSER options in CREA
--><p>
<!--
        Remove the long-deprecated
        <literal>CREATEUSER</literal>/<literal>NOCREATEUSER</literal> options from
        <command>CREATE ROLE</command> and allied commands (Tom Lane)
-->
<code class="command">CREATE ROLE</code>および同種のコマンド群から、長く非推奨とされてきた<code class="literal">CREATEUSER</code>/<code class="literal">NOCREATEUSER</code>オプションを取り除きました。
(Tom Lane)
       </p><p>
<!--
        <literal>CREATEUSER</literal> actually meant <literal>SUPERUSER</literal>,
        for ancient backwards-compatibility reasons.  This has been a
        constant source of confusion for people who (reasonably) expect
        it to mean <literal>CREATEROLE</literal>.  It has been deprecated for
        ten years now, so fix the problem by removing it.
-->
古い後方互換性を理由として、<code class="literal">CREATEUSER</code>は実際のところ<code class="literal">SUPERUSER</code>を意味しました。
このことは常にこれは<code class="literal">CREATEROLE</code>の意味だろうと（合理的に）予想するユーザの混乱の元となっていました。
現時点で10年にわたって非推奨でしたので、除去することでこの問題を解決します。
       </p></li><li class="listitem"><!--
2016-04-08 [293007898] Reserve the "pg_" namespace for roles
2016-05-06 [a89505fd2] Remove various special checks around default roles
2016-05-08 [7df974ee0] Disallow superuser names starting with 'pg_' in initdb
--><p>
<!--
        Treat role names beginning with <literal>pg_</literal> as reserved
        (Stephen Frost)
-->
<code class="literal">pg_</code>で始まるロール名を予約済みとして扱うようにしました。
(Stephen Frost)
       </p><p>
<!--
        User creation of such role names is now disallowed.  This prevents
        conflicts with built-in roles created by <application>initdb</application>.
-->
これからはこのようなロール名のユーザ作成は禁止されます。
これにより<span class="application">initdb</span>で作られた組み込みロールとの競合を防ぎます。
       </p></li><li class="listitem"><!--
2016-08-07 [d8710f18f] Correct column name in information schema
--><p>
<!--
        Change a column name in the
        <structname>information_schema</structname>.<structname>routines</structname>
        view from <structfield>result_cast_character_set_name</structfield>
        to <structfield>result_cast_char_set_name</structfield> (Cl&eacute;ment
        Pr&eacute;vost)
-->
<code class="structname">information_schema</code>.<code class="structname">routines</code>ビュー内の列名を<code class="structfield">result_cast_character_set_name</code>から<code class="structfield">result_cast_char_set_name</code>に変更しました。
(Clément Prévost)
       </p><p>
<!--
        The SQL:2011 standard specifies the longer name, but that appears
        to be a mistake, because adjacent column names use the shorter
        style, as do other <structname>information_schema</structname> views.
-->
SQL:2011標準には長い方の名前が記載されていますが、隣の列名では他の<code class="structname">information_schema</code>ビューと同様に短い方の書き方を使っていることから、これは誤りと見られます。
       </p></li><li class="listitem"><!--
2015-12-08 [d5563d7df] psql: Support multiple -c and -f options, and allow mixi
--><p>
<!--
        <application>psql</application>'s <option>-c</option> option no longer implies
        <option>&#045;&#045;no-psqlrc</option>
        (Pavel Stehule, Catalin Iacob)
-->
<span class="application">psql</span>の<code class="option">-c</code>オプションはもはや<code class="option">--no-psqlrc</code>の意味を含まなくなりました。
(Pavel Stehule, Catalin Iacob)
       </p><p>
<!--
        Write <option>&#045;&#045;no-psqlrc</option> (or its
        abbreviation <option>-X</option>) explicitly to obtain the old
        behavior.  Scripts so modified will still work with old
        versions of <application>psql</application>.
-->
古い動作を得るには<code class="option">--no-psqlrc</code>（または短縮形の<code class="option">-X</code>）を明示的に書いてください。
このように修正されたスクリプトは古いバージョンの<span class="application">psql</span>でも引き続き動作するでしょう。
       </p></li><li class="listitem"><!--
2015-07-02 [5671aaca8] Improve pg_restore's -t switch to match all types of rel
--><p>
<!--
        Improve <application>pg_restore</application>'s <option>-t</option> option to
        match all types of relations, not only plain tables (Craig Ringer)
-->
<span class="application">pg_restore</span>の<code class="option">-t</code>オプションを普通のテーブルだけでなく全てのタイプのリレーションに対応するように改善しました。
(Craig Ringer)
       </p></li><li class="listitem"><!--
2016-02-12 [59a884e98] Change delimiter used for display of NextXID
--><p>
<!--
        Change the display format used for <literal>NextXID</literal> in
        <application>pg_controldata</application> and related places (Joe Conway,
        Bruce Momjian)
-->
<span class="application">pg_controldata</span>および関連する箇所で<code class="literal">NextXID</code>の表示形式を変更しました。
(Joe Conway, Bruce Momjian)
       </p><p>
<!--
        Display epoch-and-transaction-ID values in the format
        <replaceable>number</replaceable><literal>:</literal><replaceable>number</replaceable>.
        The previous format
        <replaceable>number</replaceable><literal>/</literal><replaceable>number</replaceable> was
        confusingly similar to that used for <acronym>LSN</acronym>s.
-->
<em class="replaceable"><code>number</code></em><code class="literal">:</code><em class="replaceable"><code>number</code></em>形式でエポックとトランザクションIDの値を表示します。
これまでの<em class="replaceable"><code>number</code></em><code class="literal">/</code><em class="replaceable"><code>number</code></em>形式は、<acronym class="acronym">LSN</acronym>に使われる形式と紛らわしく似ていました。
       </p></li><li class="listitem"><!--
2016-06-07 [a89b4b1be] Update citext extension for parallel query.
and many others in the same vein
--><p>
<!--
        Update extension functions to be marked parallel-safe where
        appropriate (Andreas Karlsson)
-->
拡張の関数を適切なものについてパラレルセーフと印付けされるように改定しました。
(Andreas Karlsson)
       </p><p>
<!--
        Many of the standard extensions have been updated to allow their
        functions to be executed within parallel query worker processes.
        These changes will not take effect in
        databases <application>pg_upgrade</application>'d from prior versions unless
        you apply <command>ALTER EXTENSION UPDATE</command> to each such extension
        (in each database of a cluster).
-->
多くの標準拡張はそれらの関数がパラレルクエリーのワーカプロセスで実行できるように改定されました。
これらの変更は、（クラスタの各データベースの）各拡張に<code class="command">ALTER EXTENSION UPDATE</code>を適用しない限り、前バージョンから<span class="application">pg_upgrade</span>されたデータベースには効力がありません。
       </p></li></ul></div></div><div class="sect2" id="id-1.11.6.25.5"><div class="titlepage"><div><div><h3 class="title">E.21.3. 変更点</h3></div></div></div><!--
   <title>Changes</title>
--><p>
<!--
    Below you will find a detailed account of the changes between
    <productname>PostgreSQL</productname> 9.6 and the previous major
    release.
-->
以下に<span class="productname">PostgreSQL</span> 9.6と前のメジャーリリースとの詳細な変更点を記載します。
   </p><div class="sect3" id="id-1.11.6.25.5.3"><div class="titlepage"><div><div><h4 class="title">E.21.3.1. サーバ</h4></div></div></div><!--
    <title>Server</title>
--><div class="sect4" id="id-1.11.6.25.5.3.2"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.1. 並列問い合わせ</h5></div></div></div><!--
     <title>Parallel Queries</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-09-18 [4a4e6893a] Glue layer to connect the executor to the shm_mq mechani
2015-09-23 [a0d9f6e43] Add readfuncs.c support for plan nodes.
2015-09-28 [d1b7c1ffe] Parallel executor support.
2015-09-30 [3bd909b22] Add a Gather executor node.
2015-10-16 [ee7ca559f] Add a C API for parallel heap scans.
2015-10-16 [bfc78d719] Rewrite interaction of parallel mode with parallel execu
2015-10-16 [a53c06a13] Prohibit parallel query when the isolation level is seri
2015-11-02 [1efc7e538] Fix problems with ParamListInfo serialization mechanism.
2015-11-06 [6e71dd7ce] Modify tqueue infrastructure to support transient record
2015-11-11 [f0661c4e8] Make sequential scans parallel-aware.
2015-11-11 [80558c1f5] Generate parallel sequential scan plans in simple cases.
2015-12-09 [b287df70e] Allow EXPLAIN (ANALYZE, VERBOSE) to display per-worker s
2016-01-20 [45be99f8c] Support parallel joins, and make related improvements.
2016-02-03 [69d34408e] Allow parallel custom and foreign scans.
2016-02-07 [a1c1af2a1] Introduce group locking to prevent parallel processes fr
2016-02-07 [7c944bd90] Introduce a new GUC force_parallel_mode for testing purp
2016-02-25 [57a6a72b6] Enable parallelism for prepared statements and extended
2016-02-26 [7bea19d0a] On second thought, disable parallelism for prepared stat
2016-03-21 [e06a38965] Support parallel aggregation.
2016-04-05 [11c8669c0] Add parallel query support functions for assorted aggreg
2016-04-08 [25fe8b5f1] Add a 'parallel_degree' reloption.
2016-04-27 [59eb55127] Fix EXPLAIN VERBOSE output for parallel aggregate.
2016-06-09 [c9ce4a1c6] Eliminate "parallel degree" terminology.
2016-06-16 [75be66464] Invent min_parallel_relation_size GUC to replace a hard-
2016-08-16 [f85b1a841] Disable parallel query by default.
2016-09-15 [72ce78162] Make min_parallel_relation_size's default value platform
--><p>
<!--
        Parallel queries (Robert Haas, Amit Kapila, David Rowley,
        many others)
-->
並列問い合わせ。
(Robert Haas, Amit Kapila, David Rowley, many others)
       </p><p>
<!--
        With 9.6, <productname>PostgreSQL</productname> introduces initial support
        for parallel execution of large queries.  Only strictly read-only
        queries where the driving table is accessed via a sequential scan
        can be parallelized.  Hash joins and nested loops can be performed
        in parallel, as can aggregation (for supported aggregates).
        Much remains to be done, but this is already a useful set of
        features.
-->
9.6で<span class="productname">PostgreSQL</span>は大きな問い合わせに対する並列実行の最初のサポートを導入しました。
厳密に駆動テーブルをシーケンシャルスキャンで処理する参照問い合わせの場合だけ、並列化できます。
ハッシュ結合とネステッドループも、また（サポートされている集約について）集約処理も同様に並列実行できます。
やるべきことは沢山残っていますが、これはすでに役立つ機能セットです。
       </p><p>
<!--
        Parallel query execution is not (yet) enabled by default.
        To allow it, set the new configuration
        parameter <xref linkend="guc-max-parallel-workers-per-gather"/> to a
        value larger than zero.  Additional control over use of parallelism
        is available through other new configuration parameters
        <xref linkend="guc-force-parallel-mode"/>,
        <xref linkend="guc-parallel-setup-cost"/>, <xref
        linkend="guc-parallel-tuple-cost"/>, and
        <literal>min_parallel_relation_size</literal>.
-->
並列問い合わせの実行は（未だ）デフォルトでは有効ではありません。
有効にするには、新たな設定パラメータ<a class="xref" href="runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER">max_parallel_workers_per_gather</a>を0より大きい値に設定します。
その他の新たな設定パラメータ<a class="xref" href="runtime-config-query.html#GUC-FORCE-PARALLEL-MODE">force_parallel_mode</a>、<a class="xref" href="runtime-config-query.html#GUC-PARALLEL-SETUP-COST">parallel_setup_cost</a>、<a class="xref" href="runtime-config-query.html#GUC-PARALLEL-TUPLE-COST">parallel_tuple_cost</a>、<code class="literal">min_parallel_relation_size</code>を通してさらなる並列処理の制御を行うことができます。
       </p></li><li class="listitem"><!--
2015-09-16 [7aea8e4f2] Determine whether it's safe to attempt a parallel plan f
--><p>
<!--
        Provide infrastructure for marking the parallel-safety status of
        functions (Robert Haas, Amit Kapila)
-->
関数のパラレル安全状態を印付けするための基盤を用意しました。
(Robert Haas, Amit Kapila)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.3"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.2. インデックス</h5></div></div></div><!--
     <title>Indexes</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-09-02 [30bb26b5e] Allow usage of huge maintenance_work_mem for GIN build.
--><p>
<!--
        Allow <link linkend="gin"><acronym>GIN</acronym></link> index builds to
        make effective use of <xref linkend="guc-maintenance-work-mem"/>
        settings larger than 1 GB (Robert Abraham, Teodor Sigaev)
-->
<a class="link" href="gin.html" title="第66章 GINインデックス"><acronym class="acronym">gin</acronym></a>インデックス作成で、1GBより大きい<a class="xref" href="runtime-config-resource.html#GUC-MAINTENANCE-WORK-MEM">maintenance_work_mem</a>設定の効果的な活用ができるようにしました。
(Robert Abraham, Teodor Sigaev)
       </p></li><li class="listitem"><!--
2015-09-07 [e95680832] Add pages deleted from pending list to FSM
2015-09-23 [dc943ad95] Allow autoanalyze to add pages deleted from pending list
--><p>
<!--
        Add pages deleted from a GIN index's pending list to the free space
        map immediately
        (Jeff Janes, Teodor Sigaev)
-->
GINインデックスのペンディングリストから削除されたページを空き領域マップに即座に追加するようにしました。
(Jeff Janes, Teodor Sigaev)
       </p><p>
<!--
        This reduces bloat if the table is not vacuumed often.
-->
これはテーブルのバキューム頻度が低いときの膨張を減らします。
       </p></li><li class="listitem"><!--
2016-01-28 [7f46eaf03] Add gin_clean_pending_list function to clean up GIN pend
--><p>
<!--
        Add <link
        linkend="functions-admin-index"><function>gin_clean_pending_list()</function></link>
        function to allow manual invocation of pending-list cleanup for a
        GIN index (Jeff Janes)
-->
GINインデックスのペンディングリストのクリーンアップを手動で実行できるように<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-INDEX" title="9.26.8. インデックス保守関数"><code class="function">gin_clean_pending_list()</code></a>関数を追加しました。
(Jeff Janes)
       </p><p>
<!--
        Formerly, such cleanup happened only as a byproduct of vacuuming or
        analyzing the parent table.
-->
以前は、このクリーンアップは親テーブルのバキュームやアナライズの副次効果としてのみ生じました。
       </p></li><li class="listitem"><!--
2015-09-09 [013ebc0a7] Microvacuum for GIST
2015-09-17 [22f519c92] Fix bug introduced by microvacuum for GiST
--><p>
<!--
        Improve handling of dead index tuples in <link
        linkend="gist">GiST</link> indexes (Anastasia Lubennikova)
-->
<a class="link" href="gist.html" title="第64章 GiSTインデックス">GiST</a>インデックスにおける dead(削除済み)インデックスタプルの扱いを改善しました。
(Anastasia Lubennikova)
       </p><p>
<!--
        Dead index tuples are now marked as such when an index scan notices
        that the corresponding heap tuple is dead.  When inserting tuples,
        marked-dead tuples will be removed if needed to make space on
        the page.
-->
deadインデックスタプルは、あるインデックスキャンが対応するヒープタプルがdeadであると気づくとき、そのように印付けされるようになります。
タプルを挿入するとき、ページ上に空間を作るために必要ならdeadとマークされたタプルは削除されます。
       </p></li><li class="listitem"><!--
2016-03-30 [acdf2a8b3] Introduce SP-GiST operator class over box.
--><p>
<!--
        Add an <link linkend="spgist">SP-GiST</link> operator class for
        type <type>box</type> (Alexander Lebedev)
-->
<code class="type">box</code>型むけの<a class="link" href="spgist.html" title="第65章 SP-GiSTインデックス">SP-GiST</a>演算子クラスを追加しました。
(Alexander Lebedev)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.4"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.3. ソート</h5></div></div></div><!--
     <title>Sorting</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-08 [071180377] Use quicksort, not replacement selection, for external s
2016-03-17 [0011c0091] Improve memory management for external sorts.
2016-09-06 [96ba40c0f] Guard against possible memory allocation botch in batchm
--><p>
<!--
        Improve sorting performance by using quicksort, not replacement
        selection sort, when performing external sort steps (Peter
        Geoghegan)
-->
外部ソート方式を行うときに置換選択ソートでなくクイックソートを使うことでソートの性能を改善しました。
(Peter Geoghegan)
       </p><p>
<!--
        The new approach makes better use of the <acronym>CPU</acronym> cache
        for typical cache sizes and data volumes.  Where necessary,
        the behavior can be adjusted via the new configuration parameter
        <literal>replacement_sort_tuples</literal>.
-->
この新しい方法では典型的なキャッシュサイズとデータ量に対して<acronym class="acronym">CPU</acronym>キャッシュをより良く使用します。
必要に応じて、この動作は新たな設定パラメータ<code class="literal">replacement_sort_tuples</code>を通して調整されます。
       </p></li><li class="listitem"><!--
2015-10-09 [0e57b4d8b] Speed up text sorts where the same strings occur multipl
2015-10-20 [5be94a9eb] Be a bit more rigorous about how we cache strcoll and st
--><p>
<!--
        Speed up text sorts where the same string occurs multiple times
        (Peter Geoghegan)
-->
同じ文字列が複数回現れる場合のテキストソートを高速化しました。
(Peter Geoghegan)
       </p></li><li class="listitem"><!--
2015-11-06 [a76ef15d9] Add sort support routine for the UUID data type.
2016-02-03 [b47b4dbf6] Extend sortsupport for text to more opclasses.
2016-02-17 [f1f5ec1ef] Reuse abbreviated keys in ordered [set] aggregates.
--><p>
<!--
        Speed up sorting of <type>uuid</type>, <type>bytea</type>, and
        <type>char(n)</type> fields by using <quote>abbreviated</quote> keys
        (Peter Geoghegan)
-->
<span class="quote">「<span class="quote">短縮</span>」</span>キーを使うことで、<code class="type">uuid</code>、<code class="type">bytea</code>、<code class="type">char(n)</code>のソートを高速化しました。
(Peter Geoghegan)
       </p><p>
<!--
        Support for abbreviated keys has also been
        added to the non-default operator classes <link
        linkend="indexes-opclass"><literal>text_pattern_ops</literal></link>,
        <literal>varchar_pattern_ops</literal>, and
        <literal>bpchar_pattern_ops</literal>.  Processing of ordered-set
        aggregates can also now exploit abbreviated keys.
-->
短縮キーのサポートでは非デフォルト演算子クラス<a class="link" href="indexes-opclass.html" title="11.9. 演算子クラスと演算子族"><code class="literal">text_pattern_ops</code></a>、<code class="literal">varchar_pattern_ops</code>、<code class="literal">bpchar_pattern_ops</code>も追加されました。
順序集合集約を処理して短縮キーをうまく利用できるようになりました。
       </p></li><li class="listitem"><!--
2015-12-16 [b648b7034] Speed up CREATE INDEX CONCURRENTLY's TID sort.
--><p>
<!--
        Speed up <command>CREATE INDEX CONCURRENTLY</command> by treating
        <acronym>TID</acronym>s as 64-bit integers during sorting (Peter
        Geoghegan)
-->
ソートのときに<acronym class="acronym">TID</acronym>を64bit整数として扱うことで<code class="command">CREATE INDEX CONCURRENTLY</code>を高速化しました。
(Peter Geoghegan)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.5"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.4. ロック</h5></div></div></div><!--
     <title>Locking</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-08-06 [0e141c0fb] Reduce ProcArrayLock contention by removing backends in
2015-09-03 [4aec49899] Assorted code review for recent ProcArrayLock patch.
--><p>
<!--
        Reduce contention for the <literal>ProcArrayLock</literal> (Amit Kapila,
        Robert Haas)
-->
<code class="literal">ProcArrayLock</code>の競合を減らしました。
(Amit Kapila, Robert Haas)
       </p></li><li class="listitem"><!--
2015-12-15 [6150a1b08] Move buffer I/O and content LWLocks out of the main tran
--><p>
<!--
        Improve performance by moving buffer content locks into the buffer
        descriptors (Andres Freund, Simon Riggs)
-->
バッファ内容のロックをバッファデスクリプタに移すことで性能を改善しました。
(Andres Freund, Simon Riggs)
       </p></li><li class="listitem"><!--
2016-04-10 [48354581a] Allow Pin/UnpinBuffer to operate in a lockfree manner.
--><p>
<!--
        Replace shared-buffer header spinlocks with atomic operations to
        improve scalability (Alexander Korotkov, Andres Freund)
-->
スケーラビリティ改善のため、共有バッファヘッダのスピンロックを原子的操作に置き換えました。
       </p></li><li class="listitem"><!--
2016-04-10 [008608b9d] Avoid the use of a separate spinlock to protect a LWLock
--><p>
<!--
        Use atomic operations, rather than a spinlock, to protect an
        <literal>LWLock</literal>'s wait queue (Andres Freund)
-->
<code class="literal">LWLock</code>の待ちキューを保護するため、スピンロックでなく原子的操作を使います。
(Andres Freund)
       </p></li><li class="listitem"><!--
2016-03-23 [44ca4022f] Partition the freelist for shared dynahash tables.
--><p>
<!--
        Partition the shared hash table freelist to reduce contention on
        multi-<acronym>CPU</acronym>-socket servers (Aleksander Alekseev)
-->
マルチ<acronym class="acronym">CPU</acronym>ソケットのサーバ上で競合を減らすため共有ハッシュテーブルのフリーリストを分割しました。
(Aleksander Alekseev)
       </p></li><li class="listitem"><!--
2016-01-09 [687f2cd7a] Avoid pin scan for replay of XLOG_BTREE_VACUUM
2016-04-03 [3e4b7d879] Avoid pin scan for replay of XLOG_BTREE_VACUUM in all ca
--><p>
<!--
        Reduce interlocking on standby servers during the replay of btree
        index vacuuming operations (Simon Riggs)
-->
Btreeインデックスのバキューム操作の再生中のスタンバイサーバ上のインターロックを減らしました。
(Simon Riggs)
       </p><p>
<!--
        This change avoids substantial replication delays that sometimes
        occurred while replaying such operations.
-->
この変更はこのような操作の再生で時々発生するかなりのレプリケーション遅延を回避します。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.6"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.5. オプティマイザ統計</h5></div></div></div><!--
     <title>Optimizer Statistics</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-01 [be4b4dc75] Omit null rows when applying the Haas-Stokes estimator f
2016-04-01 [3d3bf62f3] Omit null rows when setting the threshold for what's a m
2016-04-04 [391159e03] Partially revert commit 3d3bf62f30200500637b24fdb7b992a9
--><p>
<!--
        Improve <command>ANALYZE</command>'s estimates for columns with many nulls
        (Tomas Vondra, Alex Shulgin)
-->
<code class="command">ANALYZE</code>の多数のNULLを持つ列の推定を改善しました。
(Tomas Vondra, Alex Shulgin)
       </p><p>
<!--
        Previously <command>ANALYZE</command> tended to underestimate the number
        of non-<literal>NULL</literal> distinct values in a column with many
        <literal>NULL</literal>s, and was also inaccurate in computing the
        most-common values.
-->
これまで<code class="command">ANALYZE</code>は多数<code class="literal">NULL</code>を持つ列では、非<code class="literal">NULL</code>の個別値数を過小評価する傾向があり、また、頻出値の計算でも不正確でした。
       </p></li><li class="listitem"><!--
2016-04-04 [84f9a35e3] Improve estimate of distinct values in estimate_num_grou
--><p>
<!--
        Improve planner's estimate of the number of distinct values in
        a query result (Tomas Vondra)
-->
プランナの問い合わせ結果での個別値数の推定を改善しました。
(Tomas Vondra)
       </p></li><li class="listitem"><!--
2016-04-08 [137805f89] Use Foreign Key relationships to infer multi-column join
2016-06-07 [77ba61080] Revert "Use Foreign Key relationships to infer multi-col
2016-06-18 [100340e2d] Restore foreign-key-aware estimation of join relation si
--><p>
<!--
        Use foreign key relationships to infer selectivity for join
        predicates (Tomas Vondra, David Rowley)
-->
結合述語における選択度の推測に外部キー関係を使用するようにしました。
(Tomas Vondra, David Rowley)
       </p><p>
<!--
        If a table <literal>t</literal> has a foreign key restriction, say
        <literal>(a,b) REFERENCES r (x,y)</literal>, then a <literal>WHERE</literal>
        condition such as <literal>t.a = r.x AND t.b = r.y</literal> cannot
        select more than one <literal>r</literal> row per <literal>t</literal> row.
        The planner formerly considered these <literal>AND</literal> conditions
        to be independent and would often drastically misestimate
        selectivity as a result.  Now it compares the <literal>WHERE</literal>
        conditions to applicable foreign key constraints and produces
        better estimates.
-->
もしテーブル<code class="literal">t</code>が、<code class="literal">(a,b) REFERENCES r (x,y)</code> という外部キー制約を持つなら、<code class="literal">t.a = r.x AND t.b = r.y</code>などの<code class="literal">WHERE</code>条件は<code class="literal">t</code>の各行に対して1行より多い<code class="literal">r</code>の行を選択することはありえません。
プランナは以前はこれら<code class="literal">AND</code>条件を独立しているとみなし、結果として、しばしば選択度を大幅に誤って推定していました。
これからは、<code class="literal">WHERE</code>条件を当てはまる外部キー制約と比較し、より良い推定を出します。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.7"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.6. <code class="command">VACUUM</code></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-01 [a892234f8] Change the format of the VM fork to add a second bit per
2016-03-08 [77a1d1e79] Department of second thoughts: remove PD_ALL_FROZEN.
2016-03-10 [fd31cd265] Don't vacuum all-frozen pages.
2016-03-11 [7087166a8] pg_upgrade: Convert old visibility map format to new for
2016-06-17 [ede62e56f] Add VACUUM (DISABLE_PAGE_SKIPPING) for emergencies.
2016-07-18 [eca0f1db1] Clear all-frozen visibilitymap status when locking tuple
2016-08-04 [e7caacf73] Fix hard to hit race condition in heapam's tuple locking
--><p>
<!--
        Avoid re-vacuuming pages containing only frozen tuples (Masahiko
        Sawada, Robert Haas, Andres Freund)
-->
凍結済みタプルだけを含むページの再バキュームを回避しました。
(Masahiko Sawada, Robert Haas, Andres Freund)
       </p><p>
<!--
        Formerly, anti-wraparound vacuum had to visit every page of
        a table, even pages where there was nothing to do.  Now, pages
        containing only already-frozen tuples are identified in the table's
        visibility map, and can be skipped by vacuum even when doing
        transaction wraparound prevention.  This should greatly reduce the
        cost of maintaining large tables containing mostly-unchanging data.
-->
以前は、周回防止用のバキュームは、たとえ何もすることがないページであっても、テーブルのすべてのページを巡回しなければなりませんでした。
これからは、凍結済みタプルのみを含むページはテーブルの可視性マップで識別され、たとえトランザクション周回予防を行っているときでもスキップすることができます。
これは大部分のデータが変化しない大きいテーブルを保守するコストを大幅に削減するでしょう。
       </p><p>
<!--
        If necessary, vacuum can be forced to process all-frozen
        pages using the new <literal>DISABLE_PAGE_SKIPPING</literal> option.
        Normally this should never be needed, but it might help in
        recovering from visibility-map corruption.
-->
必要であれば、新たな<code class="literal">DISABLE_PAGE_SKIPPING</code>オプションを使ってバキュームで全ての凍結済みページを処理することを強制できます。
通常これは全く必要ありませんが、可視性マップの破損を復旧するのに役立つかもしれません。
       </p></li><li class="listitem"><!--
2015-12-30 [e84290823] Avoid useless truncation attempts during VACUUM.
--><p>
<!--
        Avoid useless heap-truncation attempts during <command>VACUUM</command>
        (Jeff Janes, Tom Lane)
-->
<code class="command">VACUUM</code>中の無駄なヒープ切り捨ての試行を回避しました。
(Jeff Janes, Tom Lane)
       </p><p>
<!--
        This change avoids taking an exclusive table lock in some cases
        where no truncation is possible.  The main benefit comes from
        avoiding unnecessary query cancellations on standby servers.
-->
本変更は有効な切り捨てが不可能である場合の排他テーブルロックの取得を回避します。
主な利点はスタンバイサーバ上での不要な問い合わせキャンセルを回避できることです。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.8"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.7. 性能全般</h5></div></div></div><!--
     <title>General Performance</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-08 [848ef42bb] Add the "snapshot too old" feature
2016-05-06 [2cc41acd8] Fix hash index vs "snapshot too old" problemms
2016-05-06 [7e3da1c47] Mitigate "snapshot too old" performance regression on NU
2016-08-03 [3e2f3c2e4] Prevent "snapshot too old" from trying to return pruned
2016-08-07 [9ee1cf04a] Fix TOAST access failure in RETURNING queries.
--><p>
<!--
        Allow old <acronym>MVCC</acronym> snapshots to be invalidated after a
        configurable timeout (Kevin Grittner)
-->
古い<acronym class="acronym">MVCC</acronym>スナップショットを設定可能なタイムアウトの後に無効にできるようにしました。
(Kevin Grittner)
       </p><p>
<!--
        Normally, deleted tuples cannot be physically removed by
        vacuuming until the last transaction that could <quote>see</quote>
        them is gone.  A transaction that stays open for a long
        time can thus cause considerable table bloat because
        space cannot be recycled.  This feature allows setting
        a time-based limit, via the new configuration parameter
        <xref linkend="guc-old-snapshot-threshold"/>, on how long an
        <acronym>MVCC</acronym> snapshot is guaranteed to be valid.  After that,
        dead tuples are candidates for removal.  A transaction using an
        outdated snapshot will get an error if it attempts to read a page
        that potentially could have contained such data.
-->
通常、削除されたタプルは、それを<span class="quote">「<span class="quote">見る</span>」</span>かもしれない最後のトランザクションがいなくなるまでは、バキュームによる物理的な除去がされません。
長時間オープンしたままのトランザクションは、このため、空間が再利用できないので相当なテーブル膨張を引き起こす可能性があります。
この機能は、<acronym class="acronym">MVCC</acronym>スナップショットをどれだけの間、有効と保証するかを指定する新たな設定パラメータ<a class="xref" href="runtime-config-resource.html#GUC-OLD-SNAPSHOT-THRESHOLD">old_snapshot_threshold</a>を通して、時間に基づく制限を設定可能にします。
上限時間後、無効なタプルは除去候補になります。
古いスナップショットを使うトランザクションは潜在的にこのようなデータが含まれているかもしれないページを読もうとしたならエラーを受け取るはずです。
       </p></li><li class="listitem"><!--
2016-02-11 [d4c3a156c] Remove GROUP BY columns that are functionally dependent
--><p>
<!--
        Ignore <literal>GROUP BY</literal> columns that are
        functionally dependent on other columns (David Rowley)
-->
<code class="literal">GROUP BY</code>の他の列に機能的に従属している列を無視するようにしました。
(David Rowley)
       </p><p>
<!--
        If a <literal>GROUP BY</literal> clause includes all columns of a
        non-deferred primary key, as well as other columns of the same
        table, those other columns are redundant and can be dropped
        from the grouping.  This saves computation in many common cases.
-->
<code class="literal">GROUP BY</code>句が、同テーブルの他の列と共に遅延されていない主キーのすべての列を含むなら、主キー以外の列は冗長でグルーピングから外すことができます。
これは多くのよくある場合に計算を節約します。
       </p></li><li class="listitem"><!--
2016-03-31 [f9aefcb91] Support using index-only scans with partial indexes in m
--><p>
<!--
        Allow use of an <link linkend="indexes-index-only-scans">index-only
        scan</link> on a partial index when the index's <literal>WHERE</literal>
        clause references columns that are not indexed (Tomas Vondra,
        Kyotaro Horiguchi)
-->
<code class="literal">WHERE</code>句がインデックスされていない列を参照している部分インデックスで、<a class="link" href="indexes-index-only-scans.html" title="11.11. インデックスオンリースキャン">インデックスオンリースキャン</a>を利用可能にしました。
(Tomas Vondra, Kyotaro Horiguchi)
       </p><p>
<!--
        For example, an index defined by <command>CREATE INDEX tidx_partial
        ON t(b) WHERE a &gt; 0</command> can now be used for an index-only scan by
        a query that specifies <literal>WHERE a &gt; 0</literal> and does not
        otherwise use <literal>a</literal>.  Previously this was disallowed
        because <literal>a</literal> is not listed as an index column.
-->
例えば、<code class="command">CREATE INDEX tidx_partial ON t(b) WHERE a &gt; 0</code>で定義されたインデックスを、<code class="literal">WHERE a &gt; 0</code>と指定する問い合わせで、インデックスオンリースキャンに使うことができるようになりました。
これまでは、<code class="literal">a</code>がインデックス列にあらわれないために、これは許されませんでした。
       </p></li><li class="listitem"><!--
2016-03-10 [9cd00c457] Checkpoint sorting and balancing.
--><p>
<!--
        Perform checkpoint writes in sorted order (Fabien Coelho,
        Andres Freund)
-->
チェックポイント書き込みをソートされた順で行うようにしました。
(Fabien Coelho, Andres Freund)
       </p><p>
<!--
        Previously, checkpoints wrote out dirty pages in whatever order
        they happen to appear in shared buffers, which usually is nearly
        random.  That performs poorly, especially on rotating media.
        This change causes checkpoint-driven writes to be done in order
        by file and block number, and to be balanced across tablespaces.
-->
これまでチェックポイントは、通常ランダムに近い、とにかく共有バッファにたまたま出てきた順にダーティページを書き出していました。
これは特に回転メディアで性能がよくありません。
本変更はチェックポイント駆動の書き込みがファイルとブロック番号の順で行われるように、また、テーブルスペース間で偏りが無いようにします。
       </p></li><li class="listitem"><!--
2016-03-10 [428b1d6b2] Allow to trigger kernel writeback after a configurable n
2016-04-13 [fa11a09fe] Fix assorted portability issues with using msync() for d
2016-04-24 [8f91d87d4] Fix documentation & config inconsistencies around 428b1d
2016-04-26 [72a98a639] Don't open formally non-existent segments in _mdfd_getse
2016-05-04 [a71248708] Fix transient mdsync() errors of truncated relations due
2016-02-16 [7975c5e0a] Allow the WAL writer to flush WAL at a reduced rate.
2016-06-10 [4bc0f165c] Change default of backend_flush_after GUC to 0 (disabled
--><p>
<!--
        Where feasible, trigger kernel writeback after a configurable
        number of writes, to prevent accumulation of dirty data in kernel
        disk buffers (Fabien Coelho, Andres Freund)
-->
可能なところでは、カーネルディスクバッファにダーティデータが蓄積されるのを防ぐため、設定可能な書き込み数の後にカーネルライトバックを起動するようにしました。
(Fabien Coelho, Andres Freund)
       </p><p>
<!--
        <productname>PostgreSQL</productname> writes data to the kernel's disk cache,
        from where it will be flushed to physical storage in due time.
        Many operating systems are not smart about managing this and allow
        large amounts of dirty data to accumulate before deciding to flush
        it all at once, causing long delays for new I/O requests until the
        flushing finishes.
        This change attempts to alleviate this problem by explicitly
        requesting data flushes after a configurable interval.
-->
<span class="productname">PostgreSQL</span>はデータをカーネルのディスクキャッシュに書き、それはやがて物理ストレージにフラッシュされます。
多くのOSはこれを賢く管理せず、大量のダーティデータを一度にフラッシュすると判断するまで蓄積させておきます。これはフラッシュが終わるまでの間、新たなI/O要求に大きな遅延を引き起こします。
本変更は設定可能な間隔の後に明示的にデータフラッシュを要求することで、この問題を緩和しようとします。
       </p><p>
<!--
        On Linux, <function>sync_file_range()</function> is used for this purpose,
        and the feature is on by default on Linux because that function has
        few downsides.  This flushing capability is also available on other
        platforms if they have <function>msync()</function>
        or <function>posix_fadvise()</function>, but those interfaces have some
        undesirable side-effects so the feature is disabled by default on
        non-Linux platforms.
-->
Linuxにおいては、この用途に<code class="function">sync_file_range()</code>が使われ、この関数にほとんどマイナス面が無いため本機能はデフォルトで有効です。
このフラッシュする機能は、<code class="function">msync()</code>または<code class="function">posix_fadvise()</code>があるなら他のプラットフォームでも使用可能ですが、これらのインタフェースには若干の望ましくない副作用がありるため、Linux以外のプラットフォームでは本機能はデフォルトでは無効です。
       </p><p>
<!--
        The new configuration parameters <xref
        linkend="guc-backend-flush-after"/>, <xref
        linkend="guc-bgwriter-flush-after"/>, <xref
        linkend="guc-checkpoint-flush-after"/>, and <xref
        linkend="guc-wal-writer-flush-after"/> control this behavior.
-->
新たな設定パラメータ<a class="xref" href="runtime-config-resource.html#GUC-BACKEND-FLUSH-AFTER">backend_flush_after</a>, <a class="xref" href="runtime-config-resource.html#GUC-BGWRITER-FLUSH-AFTER">bgwriter_flush_after</a>, <a class="xref" href="runtime-config-wal.html#GUC-CHECKPOINT-FLUSH-AFTER">checkpoint_flush_after</a>, and <a class="xref" href="runtime-config-wal.html#GUC-WAL-WRITER-FLUSH-AFTER">wal_writer_flush_after</a>が本動作を制御します。
       </p></li><li class="listitem"><!--
2015-08-04 [804163bc2] Share transition state between different aggregates when
--><p>
<!--
        Improve aggregate-function performance by sharing calculations
        across multiple aggregates if they have the same arguments and
        transition functions (David Rowley)
-->
複数の集約が同じ引数と遷移関数を持っているなら、それらの間で計算を共有することで集約関数の性能を改善しました。
(David Rowley)
       </p><p>
<!--
        For example, <command>SELECT AVG(x), VARIANCE(x) FROM tab</command> can use
        a single per-row computation for both aggregates.
-->
例えば、<code class="command">SELECT AVG(x), VARIANCE(x) FROM tab</code>は行ごとに二つの集約に対して対して単一の計算を用いることができます。
       </p></li><li class="listitem"><!--
2015-08-26 [8a7d07018] Speed up HeapTupleSatisfiesMVCC() by replacing the XID-i
--><p>
<!--
        Speed up visibility tests for recently-created tuples by checking
        the current transaction's snapshot, not <structname>pg_clog</structname>, to
        decide if the source transaction should be considered committed
        (Jeff Janes, Tom Lane)
-->
元トランザクションがコミット済みかを判断するのに<code class="structname">pg_clog</code>ではなく現在トランザクションのスナップショットを調べることにより、最近に作られたタプルに対する可視性の検査を高速化しました。
(Jeff Janes, Tom Lane)
       </p></li><li class="listitem"><!--
2016-02-15 [db76b1efb] Allow SetHintBits() to succeed if the buffer's LSN is ne
--><p>
<!--
        Allow tuple hint bits to be set sooner than before (Andres Freund)
-->
タプルのヒントビットが以前より早くセットされるようにしました。
(Andres Freund)
       </p></li><li class="listitem"><!--
2016-01-20 [978b2f65a] Speedup 2PC by skipping two phase state files in normal
2016-03-10 [e0694cf9c] Reduce size of two phase file header
--><p>
<!--
        Improve performance of short-lived prepared transactions (Stas
        Kelvich, Simon Riggs, Pavan Deolasee)
-->
短命な準備されたトランザクションの性能を改善しました。
(Stas Kelvich, Simon Riggs, Pavan Deolasee)
       </p><p>
<!--
        Two-phase commit information is now written only to <acronym>WAL</acronym>
        during <command>PREPARE TRANSACTION</command>, and will be read back from
        <acronym>WAL</acronym> during <command>COMMIT PREPARED</command> if that happens
        soon thereafter.  A separate state file is created only if the
        pending transaction does not get committed or aborted by the time
        of the next checkpoint.
-->
二相コミットの情報は<code class="command">PREPARE TRANSACTION</code>の際に<acronym class="acronym">WAL</acronym>のみに書かれ、<code class="command">COMMIT PREPARED</code>の際には、それがすぐ後に生じたなら、<acronym class="acronym">WAL</acronym>から読み戻されるようになりました。
分離状態ファイルは、保留しているトランザクションが次のチェックポイントの時までコミットにもアボートにもならなかった場合のみ作られます。
       </p></li><li class="listitem"><!--
2015-12-08 [25c539233] Improve performance in freeing memory contexts
--><p>
<!--
        Improve performance of memory context destruction (Jan Wieck)
-->
メモリコンテキストの廃棄の性能を改善しました。
(Jan Wieck)
       </p></li><li class="listitem"><!--
2016-01-26 [cc988fbb0] Improve ResourceOwners' behavior for large numbers of ow
--><p>
<!--
        Improve performance of resource owners with many tracked objects
        (Aleksander Alekseev)
-->
多数のオブジェクトを追跡するリソースオーナーの性能を改善しました。
(Aleksander Alekseev)
       </p></li><li class="listitem"><!--
2016-02-06 [aa2387e2f] Improve speed of timestamp/time/date output functions.
--><p>
<!--
        Improve speed of the output functions for <type>timestamp</type>,
        <type>time</type>, and <type>date</type> data types (David Rowley,
        Andres Freund)
-->
<code class="type">timestamp</code>、<code class="type">time</code>、および<code class="type">date</code>データ型の出力関数の速度を改善しました。
(David Rowley, Andres Freund)
       </p></li><li class="listitem"><!--
2016-03-10 [37c54863c] Rework wait for AccessExclusiveLocks on Hot Standby
--><p>
<!--
        Avoid some unnecessary cancellations of hot-standby queries
        during replay of actions that take <literal>AccessExclusive</literal>
        locks (Jeff Janes)
-->
<code class="literal">AccessExclusive</code>ロックを取得する操作のリプレイ中の、ホットスタンバイ問い合わせの不要なキャンセルを回避しました。
(Jeff Janes)
       </p></li><li class="listitem"><!--
2016-04-08 [719c84c1b] Extend relations multiple blocks at a time to improve sc
--><p>
<!--
        Extend relations multiple blocks at a time when there is contention
        for the relation's extension lock (Dilip Kumar)
-->
リレーション拡張のロックに競合があるとき、リレーションを複数ブロック一度に拡張するようにしました。
(Dilip Kumar)
       </p><p>
<!--
        This improves scalability by decreasing contention.
-->
これは競合を減らすことでスケーラビリティを改善します。
       </p></li><li class="listitem"><!--
2016-04-08 [5364b357f] Increase maximum number of clog buffers.
--><p>
<!--
        Increase the number of clog buffers for better scalability (Amit
        Kapila, Andres Freund)
-->
よりよいスケーラビリティのためにclogバッファの数を増やしました。
(Amit Kapila, Andres Freund)
       </p></li><li class="listitem"><!--
2015-07-05 [6c82d8d1f] Further reduce overhead for passing plpgsql variables to
--><p>
<!--
        Speed up expression evaluation in <application>PL/pgSQL</application> by
        keeping <literal>ParamListInfo</literal> entries for simple variables
        valid at all times (Tom Lane)
-->
常に単純な変数むけの<code class="literal">ParamListInfo</code>エントリを有効な状態に留めておくことで、<span class="application">PL/pgSQL</span>で式の評価を高速化しました。
(Tom Lane)
       </p></li><li class="listitem"><!--
2015-07-06 [4f33621f3] Don't set SO_SNDBUF on recent Windows versions that have
--><p>
<!--
        Avoid reducing the <literal>SO_SNDBUF</literal> setting below its default
        on recent Windows versions (Chen Huajun)
-->
最近のWindowsバージョンで、<code class="literal">SO_SNDBUF</code>設定をそのデフォルトよりも減らすことを回避しました。
(Chen Huajun)
       </p></li><li class="listitem"><!--
2016-08-17 [9b33c7e80] Disable update_process_title by default on Windows
--><p>
<!--
        Disable <xref linkend="guc-update-process-title"/> by default on
        Windows (Takayuki Tsunakawa)
-->
Windowsにおいて<a class="xref" href="runtime-config-logging.html#GUC-UPDATE-PROCESS-TITLE">update_process_title</a>をデフォルトで無効にしました。
(Takayuki Tsunakawa)
       </p><p>
<!--
        The overhead of updating the process title is much larger on Windows
        than most other platforms, and it is also less useful to do it since
        most Windows users do not have tools that can display process titles.
-->
Windowsでは大部分の他プラットフォームよりもプロセスタイトルを更新するオーバーヘッドが大きく、また、大部分のWindowsユーザはプロセスタイトルを表示できるツールを持っていないことから、更新してもあまり役に立ちません。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.9"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.8. モニタリング</h5></div></div></div><!--
     <title>Monitoring</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-15 [c16dc1aca] Add simple VACUUM progress reporting.
--><p>
<!--
        Add <link
        linkend="pg-stat-progress-vacuum-view"><structname>pg_stat_progress_vacuum</structname></link>
        system view to provide progress reporting for <command>VACUUM</command>
        operations (Amit Langote, Robert Haas, Vinayak Pokale, Rahila Syed)
-->
<code class="command">VACUUM</code>操作の進捗報告を提供する<a class="link" href="progress-reporting.html#PG-STAT-PROGRESS-VACUUM-VIEW" title="表28.21 pg_stat_progress_vacuumビュー"><code class="structname">pg_stat_progress_vacuum</code></a>システムビューを追加しました。
(Amit Langote, Robert Haas, Vinayak Pokale, Rahila Syed)
       </p></li><li class="listitem"><!--
2016-03-05 [dc7d70ea0] Expose control file data via SQL accessible functions.
--><p>
<!--
        Add <link
        linkend="functions-controldata"><function>pg_control_system()</function></link>,
        <function>pg_control_checkpoint()</function>,
        <function>pg_control_recovery()</function>, and
        <function>pg_control_init()</function> functions to expose fields of
        <filename>pg_control</filename> to <acronym>SQL</acronym> (Joe Conway, Michael
        Paquier)
-->
<acronym class="acronym">SQL</acronym>に<code class="filename">pg_control</code>のフィールドを見せる<a class="link" href="functions-info.html#FUNCTIONS-CONTROLDATA" title="表9.72 制御データ関数"><code class="function">pg_control_system()</code></a>、<code class="function">pg_control_checkpoint()</code>、<code class="function">pg_control_recovery()</code>、および、<code class="function">pg_control_init()</code>関数を追加しました。
(Joe Conway, Michael Paquier)
       </p></li><li class="listitem"><!--
2016-02-17 [a5c43b886] Add new system view, pg_config
--><p>
<!--
        Add <link linkend="view-pg-config"><structname>pg_config</structname></link>
        system view (Joe Conway)
-->
<a class="link" href="view-pg-config.html" title="52.67. pg_config"><code class="structname">pg_config</code></a>システムビューを追加しました。
(Joe Conway)
       </p><p>
<!--
        This view exposes the same information available from
        the <application>pg_config</application> command-line utility,
        namely assorted compile-time configuration information for
        <productname>PostgreSQL</productname>.
-->
このビューは<span class="application">pg_config</span>コマンドラインユーティリティから参照できるものと同様の情報、すなわち様々な<span class="productname">PostgreSQL</span>のコンパイル時の設定情報を見せます。
       </p></li><li class="listitem"><!--
2015-08-10 [3f811c2d6] Add confirmed_flush column to pg_replication_slots.
--><p>
<!--
        Add a <structfield>confirmed_flush_lsn</structfield> column to the <link
        linkend="view-pg-replication-slots"><structname>pg_replication_slots</structname></link>
        system view (Marko Tiikkaja)
-->
<a class="link" href="view-pg-replication-slots.html" title="52.80. pg_replication_slots"><code class="structname">pg_replication_slots</code></a>システムビューに<code class="structfield">confirmed_flush_lsn</code>列を追加しました。
(Marko Tiikkaja)
       </p></li><li class="listitem"><!--
2016-01-07 [b1a9bad9e] pgstat: add WAL receiver status view & SRF
2016-06-29 [9ed551e0a] Add conninfo to pg_stat_wal_receiver
2016-07-07 [60d50769b] Rename pg_stat_wal_receiver.conn_info to conninfo.
--><p>
<!--
        Add <link
        linkend="pg-stat-wal-receiver-view"><structname>pg_stat_wal_receiver</structname></link>
        system view to provide information about the state of a hot-standby
        server's <acronym>WAL</acronym> receiver process (Michael Paquier)
-->
ホットスタンバイサーバの<acronym class="acronym">WAL</acronym>レシーバプロセスに関する情報を提供する<a class="link" href="monitoring-stats.html#PG-STAT-WAL-RECEIVER-VIEW" title="表28.6 pg_stat_wal_receiverビュー"><code class="structname">pg_stat_wal_receiver</code></a>システムビューを追加しました。
(Michael Paquier)
       </p></li><li class="listitem"><!--
2016-02-22 [52f5d578d] Create a function to reliably identify which sessions bl
--><p>
<!--
        Add <link
        linkend="functions-info-session-table"><function>pg_blocking_pids()</function></link>
        function to reliably identify which sessions block which others
        (Tom Lane)
-->
どのセッションがどの他セッションをブロックしているかを確実に識別する<a class="link" href="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE" title="表9.60 セッション情報関数"><code class="function">pg_blocking_pids()</code></a>関数を追加しました。
(Tom Lane)
       </p><p>
<!--
        This function returns an array of the process IDs of any
        sessions that are blocking the session with the given process ID.
        Historically users have obtained such information using a self-join
        on the <structname>pg_locks</structname> view.  However, it is unreasonably
        tedious to do it that way with any modicum of correctness, and
        the addition of parallel queries has made the old approach entirely
        impractical, since locks might be held or awaited by child worker
        processes rather than the session's main process.
-->
この関数は与えられたプロセスIDのセッションをブロックしている全てのセッションのプロセスIDの配列を返します。
歴史的にはユーザは<code class="structname">pg_locks</code>ビューの自己結合を使ってこのような情報を取得するしていました。
しかしながら、いくらかの僅かな正確さに対してこのように実施するのことは不合理に面倒です。また、並列問い合わせの追加は、セッションの主プロセスでなくワーカ子プロセスによってロックが取得・待機されるかもしれないことから、この古い方法を完全に非実用的にしました。
       </p></li><li class="listitem"><!--
2016-01-12 [e63bb4549] Add new user fn pg_current_xlog_flush_location()
--><p>
<!--
        Add function <link
        linkend="functions-admin-backup-table"><function>pg_current_xlog_flush_location()</function></link>
        to expose the current transaction log flush location (Tomas Vondra)
-->
現在のトランザクションログのフラッシュ位置を見せる関数<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP-TABLE" title="表9.79 バックアップ制御関数"><code class="function">pg_current_xlog_flush_location()</code></a>を追加しました。
(Tomas Vondra)
       </p></li><li class="listitem"><!--
2015-07-17 [a04bb65f7] Add new function pg_notification_queue_usage.
--><p>
<!--
        Add function <link
        linkend="functions-info-session-table"><function>pg_notification_queue_usage()</function></link>
        to report how full the <command>NOTIFY</command> queue is (Brendan Jurd)
-->
<code class="command">NOTIFY</code>がどのくらいいっぱいであるかを報告する関数<a class="link" href="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE" title="表9.60 セッション情報関数"><code class="function">pg_notification_queue_usage()</code></a>を追加しました。
(Brendan Jurd)
       </p></li><li class="listitem"><!--
2015-08-25 [7b5ef8f2d] Limit the verbosity of memory context statistics dumps.
--><p>
<!--
        Limit the verbosity of memory context statistics dumps (Tom Lane)
-->
メモリコンテキスト統計のダンプの冗長さを制限しました。
(Tom Lane)
       </p><p>
<!--
        The memory usage dump that is output to the postmaster log during an
        out-of-memory failure now summarizes statistics when there are a
        large number of memory contexts, rather than possibly generating
        a very large report.  There is also a <quote>grand total</quote>
        summary line now.
-->
メモリ不足エラーの際にポストマスタのログに出力されるメモリ使用のダンプは、多数のメモリコンテキストがあるとき、ことによると巨大なレポートを生成するのでなく、統計を要約するようになります。
<span class="quote">「<span class="quote">grand total(総計)</span>」</span>要約行も追加されます。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.10"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.9. <acronym class="acronym">認証</acronym></h5></div></div></div><!--
     <title><acronym>Authentication</acronym></title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-08 [34c33a1f0] Add BSD authentication method.
--><p>
<!--
        Add a <link linkend="auth-bsd"><acronym>BSD</acronym> authentication
        method</link> to allow use of
        the <systemitem class="osname">BSD</systemitem> Authentication service for
        <productname>PostgreSQL</productname> client authentication (Marisa Emerson)
-->
<span class="productname">PostgreSQL</span>クライアント認証に<span class="systemitem">BSD</span>認証サービスを使用できる<a class="link" href="auth-bsd.html" title="20.14. BSD認証"><acronym class="acronym">BSD</acronym>認証方式</a>を追加しました。
(Marisa Emerson)
       </p><p>
<!--
        BSD Authentication is currently only available on <systemitem
        class="osname">OpenBSD</systemitem>.
-->
BSD認証は今のところ<span class="systemitem">OpenBSD</span>でのみ使用できます。
       </p></li><li class="listitem"><!--
2016-04-08 [2f1d2b7a7] Set PAM_RHOST item for PAM authentication
--><p>
<!--
        When using <link linkend="auth-pam"><acronym>PAM</acronym>
        authentication</link>, provide the client IP address or host name
        to <acronym>PAM</acronym> modules via the <literal>PAM_RHOST</literal> item
        (Grzegorz Sampolski)
-->
<a class="link" href="auth-pam.html" title="20.13. PAM認証"><acronym class="acronym">PAM</acronym>認証</a>を使うとき、クライアントIPアドレスやホスト名を<code class="literal">PAM_RHOST</code>要素を通して<acronym class="acronym">PAM</acronym>モジュールに供給するようにしました。
(Grzegorz Sampolski)
       </p></li><li class="listitem"><!--
2016-01-07 [5e0b5dcab] Provide more detail in postmaster log for password authe
--><p>
<!--
        Provide detail in the postmaster log for more types of password
        authentication failure (Tom Lane)
-->
ポストマスタのログでパスワード認証失敗のより多くの類型について詳細を出力するようにしました。
(Tom Lane)
       </p><p>
<!--
        All ordinarily-reachable password authentication failure cases
        should now provide specific <literal>DETAIL</literal> fields in the log.
-->
全ての普通に起きうるパスワード認証失敗の場合に、ログに詳細な<code class="literal">DETAIL</code>フィールドが提供されます。
       </p></li><li class="listitem"><!--
2015-09-06 [643beffe8] Support RADIUS passwords up to 128 characters
--><p>
<!--
        Support <link linkend="auth-radius"><acronym>RADIUS</acronym> passwords</link>
        up to 128 characters long (Marko Tiikkaja)
-->
<a class="link" href="auth-radius.html" title="20.11. RADIUS認証"><acronym class="acronym">RADIUS</acronym>パスワード</a>を128文字の長さまでサポートしました。
(Marko Tiikkaja)
       </p></li><li class="listitem"><!--
2016-04-08 [35e2e357c] Add authentication parameters compat_realm and upn_usena
--><p>
<!--
        Add new <link linkend="sspi-auth"><acronym>SSPI</acronym>
        authentication</link> parameters
        <varname>compat_realm</varname> and <varname>upn_username</varname> to control
        whether <productname>NetBIOS</productname> or <productname>Kerberos</productname>
        realm names and user names are used during <acronym>SSPI</acronym>
        authentication (Christian Ullrich)
-->
<a class="link" href="sspi-auth.html" title="20.7. SSPI認証"><acronym class="acronym">SSPI</acronym>認証</a>のときに<span class="productname">NetBIOS</span>か<span class="productname">Kerberos</span>のレルム名とユーザ名を制御する<a class="link" href="sspi-auth.html" title="20.7. SSPI認証"><acronym class="acronym">SSPI</acronym>認証</a>の新たなパラメータ<code class="varname">compat_realm</code>と<code class="varname">upn_username</code>が追加されました。
(Christian Ullrich)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.11"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.10. サーバ設定</h5></div></div></div><!--
     <title>Server Configuration</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-16 [c6dda1f48] Add idle_in_transaction_session_timeout.
--><p>
<!--
        Allow sessions to be terminated automatically if they are in
        idle-in-transaction state for too long (Vik Fearing)
-->
長すぎるアイドルイントランザクション状態のとき、セッションを自動的に終了できるようにしました。
(Vik Fearing)
       </p><p>
<!--
        This behavior is controlled by the new configuration parameter
        <xref linkend="guc-idle-in-transaction-session-timeout"/>.  It can
        be useful to prevent forgotten transactions from holding locks
        or preventing vacuum cleanup for too long.
-->
この動作は新たな設定パラメータ<a class="xref" href="runtime-config-client.html#GUC-IDLE-IN-TRANSACTION-SESSION-TIMEOUT">idle_in_transaction_session_timeout</a>で制御されます。
これは忘れられたトランザクションが長期にロックを保持したり、バキュームクリーンアップを阻害したりするのを防止するのに役立ちます。
       </p></li><li class="listitem"><!--
2016-09-11 [f2dba881a] Raise max setting of checkpoint_timeout to 1d
--><p>
<!--
        Raise the maximum allowed value
        of <xref linkend="guc-checkpoint-timeout"/> to 24 hours (Simon Riggs)
-->
<a class="xref" href="runtime-config-wal.html#GUC-CHECKPOINT-TIMEOUT">checkpoint_timeout</a>の許容される最大値を24時間に引き上げました。
(Simon Riggs)
       </p></li><li class="listitem"><!--
2015-09-08 [1aba62ec6] Allow per-tablespace effective_io_concurrency
--><p>
<!--
        Allow <varname>effective_io_concurrency</varname> to be set per-tablespace
        to support cases where different tablespaces have different I/O
        characteristics (Julien Rouhaud)
-->
異なるテーブルスペースが各々異なるI/O特性を持つ場合に対応するため、<code class="varname">effective_io_concurrency</code>をテーブルスペースごとに設定できるようにしました。
(Julien Rouhaud)
       </p></li><li class="listitem"><!--
2015-09-07 [f828654e1] Add log_line_prefix option 'n' for Unix epoch.
2015-09-07 [b1e1862a1] Coordinate log_line_prefix options 'm' and 'n' to share
--><p>
<!--
        Add <xref linkend="guc-log-line-prefix"/> option <literal>%n</literal> to
        print the current time in Unix epoch form, with milliseconds (Tomas
        Vondra, Jeff Davis)
-->
現在時刻をミリ秒付きのUnixエポック形式で出力する<a class="xref" href="runtime-config-logging.html#GUC-LOG-LINE-PREFIX">log_line_prefix</a>のオプション<code class="literal">%n</code>を追加しました。
(Tomas Vondra, Jeff Davis)
       </p></li><li class="listitem"><!--
2016-03-16 [f4c454e9b] Add syslog_sequence_numbers parameter
2016-03-16 [fc201dfd9] Add syslog_split_messages parameter
--><p>
<!--
        Add <xref linkend="guc-syslog-sequence-numbers"/> and <xref
        linkend="guc-syslog-split-messages"/> configuration parameters
        to provide more control over the message format when logging to
        <systemitem>syslog</systemitem> (Peter Eisentraut)
-->
<span class="systemitem">syslog</span>へログ出力するとき、メッセージ形式により多くの制御を提供する<a class="xref" href="runtime-config-logging.html#GUC-SYSLOG-SEQUENCE-NUMBERS">syslog_sequence_numbers</a>および<a class="xref" href="runtime-config-logging.html#GUC-SYSLOG-SPLIT-MESSAGES">syslog_split_messages</a>設定パラメータを追加しました。
(Peter Eisentraut)
       </p></li><li class="listitem"><!--
2016-03-18 [b555ed810] Merge wal_level "archive" and "hot_standby" into new nam
--><p>
<!--
        Merge the <literal>archive</literal> and <literal>hot_standby</literal> values
        of the <xref linkend="guc-wal-level"/> configuration parameter
        into a single new value <literal>replica</literal> (Peter Eisentraut)
-->
<a class="xref" href="runtime-config-wal.html#GUC-WAL-LEVEL">wal_level</a>設定パラメータの値である<code class="literal">archive</code>と<code class="literal">hot_standby</code>を一つの新たな値<code class="literal">replica</code>に合併しました。
(Peter Eisentraut)
       </p><p>
<!--
        Making a distinction between these settings is no longer useful,
        and merging them is a step towards a planned future simplification
        of replication setup.  The old names are still accepted but are
        converted to <literal>replica</literal> internally.
-->
これら設定値を区別することはもはや役に立たず、また、これらを合併することはレプリケーションのセットアップの計画された将来の平易化への一歩です。
古い名前はまだ受け付けられますが、内部的に<code class="literal">replica</code>に変換されます。
       </p></li><li class="listitem"><!--
2016-02-02 [7d17e683f] Add support for systemd service notifications
--><p>
<!--
        Add configure option <option>&#045;&#045;with-systemd</option> to enable
        calling <function>sd_notify()</function> at server start and stop (Peter
        Eisentraut)
-->
サーバの起動、停止で<code class="function">sd_notify()</code>の呼び出しを可能にする設定オプション<code class="option">--with-systemd</code>を追加しました。
(Peter Eisentraut)
       </p><p>
<!--
        This allows the use of <application>systemd</application> service units of
        type <literal>notify</literal>, which greatly simplifies the management
        of <productname>PostgreSQL</productname> under <application>systemd</application>.
-->
これは、<span class="application">systemd</span>下の<span class="productname">PostgreSQL</span>の管理を大幅に簡単にする<code class="literal">notify</code>タイプの<span class="application">systemd</span>サービスユニットを利用できるようにします。
       </p></li><li class="listitem"><!--
2016-03-19 [9a83564c5] Allow SSL server key file to have group read access if o
--><p>
<!--
        Allow the server's <acronym>SSL</acronym> key file to have group read
        access if it is owned by <literal>root</literal> (Christoph Berg)
-->

サーバの<acronym class="acronym">SSL</acronym>キーファイルが<code class="literal">root</code>に所有されている場合には、グループ読み込みアクセスを持てるようにしました。
(Christoph Berg)
       </p><p>
<!--
        Formerly, we insisted the key file be owned by the
        user running the <productname>PostgreSQL</productname> server, but
        that is inconvenient on some systems (such as <systemitem
        class="osname">Debian</systemitem>) that are configured to manage
        certificates centrally.  Therefore, allow the case where the key
        file is owned by <literal>root</literal> and has group read access.
        It is up to the operating system administrator to ensure that
        the group does not include any untrusted users.
-->
以前は、キーファイルは<span class="productname">PostgreSQL</span>サーバを実行するユーザに所有されるべきと主張していましたが、これは証明書を集中管理するように構成されている一部システム（<span class="systemitem">Debian</span>など）で不便です。
それゆえ、キーファイルが<code class="literal">root</code>に所有されていてグループ参照アクセスを持っている場合を許容しました。
そのグループに信頼できないユーザが決して含まれないようにするのは、OS管理者の責任です。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.3.12"><div class="titlepage"><div><div><h5 class="title">E.21.3.1.11. 信頼性</h5></div></div></div><!--
     <title>Reliability</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-11-12 [ac1d7945f] Make idle backends exit if the postmaster dies.
--><p>
<!--
        Force backends to exit if the postmaster dies (Rajeev Rastogi,
        Robert Haas)
-->
ポストマスタがダウンしたならバックエンドを強制的に終了させるようにしました。
(Rajeev Rastogi, Robert Haas)
       </p><p>
<!--
        Under normal circumstances the postmaster should always outlive
        its child processes.  If for some reason the postmaster dies,
        force backend sessions to exit with an error.  Formerly, existing
        backends would continue to run until their clients disconnect,
        but that is unsafe and inefficient.  It also prevents a new
        postmaster from being started until the last old backend has
        exited.  Backends will detect postmaster death when waiting for
        client I/O, so the exit will not be instantaneous, but it should
        happen no later than the end of the current query.
-->
通常の状況下ではポストマスタは常に子プロセスより長く生き残るはずです。
もし何らか理由でポストマスタがダウンしたなら、バックエンドセッションをエラーと共に強制的に終了させます。
以前は、現存するバックエンドはクライアントの切断まで実行し続けましたが、危険で非効率的です。
これはまた、前の古いバックエンドが終了するまでは新たなポストマスタが起動しないようにします。
バックエンドはクライアントI/Oを待つときにポストマスタのダウンを検知するでしょうから、終了は即時ではありませんが、クライアント問い合わせの終了よりも遅くなることはないはずです。
       </p></li><li class="listitem"><!--
2016-04-07 [fcff8a575] Detect SSI conflicts before reporting constraint violati
--><p>
<!--
        Check for serializability conflicts before reporting
        constraint-violation failures (Thomas Munro)
-->
直列化可能かを、制約違反エラーを報告する前に検査するようにしました。
(Thomas Munro)
       </p><p>
<!--
        When using serializable transaction isolation, it is desirable
        that any error due to concurrent transactions should manifest
        as a serialization failure, thereby cueing the application that
        a retry might succeed.  Unfortunately, this does not reliably
        happen for duplicate-key failures caused by concurrent insertions.
        This change ensures that such an error will be reported as a
        serialization error if the application explicitly checked for
        the presence of a conflicting key (and did not find it) earlier
        in the transaction.
-->
シリアライザブルトランザクション隔離を使っているとき、同時トランザクションを原因とするいかなるエラーも直列化の失敗として表明するのが望ましく、それによりアプリケーションにリトライが成功するかもしれないという手がかりを与えます。
残念ながら、キー重複の失敗が同時挿入で引き起こされた場合には、これは確実には生じません。
本変更は、アプリケーションがトランザクションのより早くに明示的に競合するキーの存在をチェックした（そして見つからなかった）なら、このようなエラーが直列化のエラーとして報告されることを保証します。
       </p></li><li class="listitem"><!--
XXX this is pending backpatch, may need to remove
2016-04-26 [c6ff84b06] Emit invalidations to standby for transactions without x
--><p>
<!--
        Ensure that invalidation messages are recorded in <acronym>WAL</acronym>
        even when issued by a transaction that has no <acronym>XID</acronym>
        assigned (Andres Freund)
-->
たとえ<acronym class="acronym">XID</acronym>をもたないトランザクションから発行されたときでも、無効化メッセージが<acronym class="acronym">WAL</acronym>記録されることを保証しました。
(Andres Freund)
       </p><p>
<!--
        This fixes some corner cases in which transactions on standby
        servers failed to notice changes, such as new indexes.
-->
これはスタンバイサーバのトランザクションが新たなインデックスのような変化に気づくのに失敗するという一部の稀な場合について修正します。
       </p></li><li class="listitem"><!--
XXX this is pending backpatch, may need to remove
2016-04-28 [e2c79e14d] Prevent multiple cleanup process for pending list in GIN
--><p>
<!--
        Prevent multiple processes from trying to clean a <acronym>GIN</acronym>
        index's pending list concurrently (Teodor Sigaev, Jeff Janes)
-->
複数プロセスが<acronym class="acronym">GIN</acronym>インデックスのペンディングリストを同時にクリーンアップしようとするのを防ぎます。
       </p><p>
<!--
        This had been intentionally allowed, but it causes race conditions
        that can result in vacuum missing index entries it needs to delete.
-->
意図的に許容されていいましたが、これは結果としてバキュームが削除を要するインデックスエントリの見落しに帰着する可能性のある競合状態を引き起こします。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.25.5.4"><div class="titlepage"><div><div><h4 class="title">E.21.3.2. レプリケーションとリカバリ</h4></div></div></div><!--
    <title>Replication and Recovery</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-06 [989be0810] Support multiple synchronous standby servers.
2016-04-27 [4c804fbdf] Clean up parsing of synchronous_standby_names GUC variab
2016-04-30 [17d5db352] Remove warning about num_sync being too large in synchro
--><p>
<!--
        Allow synchronous replication to support multiple simultaneous
        synchronous standby servers, not just one (Masahiko Sawada,
        Beena Emerson, Michael Paquier, Fujii Masao, Kyotaro Horiguchi)
-->
同期レプリケーションで1つだけでなく複数同時の同期スタンバイサーバに対応しました。
(Masahiko Sawada, Beena Emerson, Michael Paquier, Fujii Masao, Kyotaro Horiguchi)
       </p><p>
<!--
        The number of standby servers that must acknowledge a commit
        before it is considered complete is now configurable as part of
        the <xref linkend="guc-synchronous-standby-names"/> parameter.
-->
完了したとみなす前にコミットを確認しなければいけないスタンバイサーバの数は、<a class="xref" href="runtime-config-replication.html#GUC-SYNCHRONOUS-STANDBY-NAMES">synchronous_standby_names</a>パラメータの一部で設定します。
       </p></li><li class="listitem"><!--
2016-03-29 [314cbfc5d] Add new replication mode synchronous_commit = 'remote_ap
--><p>
<!--
        Add new setting <literal>remote_apply</literal> for configuration
        parameter <xref linkend="guc-synchronous-commit"/> (Thomas Munro)
-->
設定パラメータ<a class="xref" href="runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT">synchronous_commit</a>に新たな設定<code class="literal">remote_apply</code>を加えました。
(Thomas Munro)
       </p><p>
<!--
        In this mode, the master waits for the transaction to be
        <emphasis>applied</emphasis> on the standby server, not just written
        to disk.  That means that you can count on a transaction started
        on the standby to see all commits previously acknowledged by
        the master.
-->
このモードでは、マスタはスタンバイサーバでトランザクションがディスクに書かれるだけでなく<span class="emphasis"><em>適用済み</em></span>になるまで待ちます。
このことは、それより前にマスタで認識されたすべてのコミットが、スタンバイサーバで開始したトランザクションから見えると期待できることを意味します。
       </p></li><li class="listitem"><!--
2015-08-11 [6fcd88511] Allow pg_create_physical_replication_slot() to reserve W
2015-09-06 [c314ead5b] Add ability to reserve WAL upon slot creation via replic
--><p>
<!--
        Add a feature to the replication
        protocol, and a corresponding option to <link
        linkend="functions-replication-table"><function>pg_create_physical_replication_slot()</function></link>,
        to allow reserving <acronym>WAL</acronym> immediately when creating a
        replication slot (Gurjeet Singh, Michael Paquier)
-->
レプリケーションスロットを作ったときに<acronym class="acronym">WAL</acronym>の確保を直ちに行うため、レプリケーションプロトコルに機能を追加し、対応するオプションを<a class="link" href="functions-admin.html#FUNCTIONS-REPLICATION-TABLE" title="表9.83 レプリケーションSQL関数"><code class="function">pg_create_physical_replication_slot()</code></a>に追加しました。
(Gurjeet Singh, Michael Paquier)
       </p><p>
<!--
        This allows the creation of a replication slot to guarantee
        that all the <acronym>WAL</acronym> needed for a base backup will be
        available.
-->
これはレプリケーションスロット作成でベースバックアップで必要とされる全ての<acronym class="acronym">WAL</acronym>を保証できるようにします。
       </p></li><li class="listitem"><!--
2015-07-28 [0dc848b03] pg_basebackup: Add -slot option
--><p>
<!--
        Add a <option>&#045;&#045;slot</option> option to
        <link linkend="app-pgbasebackup"><application>pg_basebackup</application></link>
        (Peter Eisentraut)
-->
<a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>に<code class="option">--slot</code>オプションを追加しました。
(Peter Eisentraut)
       </p><p>
<!--
        This lets <application>pg_basebackup</application> use a replication
        slot defined for <acronym>WAL</acronym> streaming.  After the base
        backup completes, selecting the same slot for regular streaming
        replication allows seamless startup of the new standby server.
-->
これは<span class="application">pg_basebackup</span>に<acronym class="acronym">WAL</acronym>ストリーミング向けに定義されたレプリケーションスロットを使わせます。
ベースバックアップ完了後、同じスロットを通常のストリーミングレプリケーションに選ぶことでシームレスに新たなスタンバイサーバの起動が可能です。
       </p></li><li class="listitem"><!--
2016-04-05 [711768546] Implement backup API functions for non-exclusive backups
2016-07-11 [87d84d67b] Fix start WAL filename for concurrent backups from stand
--><p>
<!--
        Extend <link
        linkend="functions-admin-backup-table"><function>pg_start_backup()</function></link>
        and <function>pg_stop_backup()</function> to support non-exclusive backups
        (Magnus Hagander)
-->
非排他のバックアップのために<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP-TABLE" title="表9.79 バックアップ制御関数"><code class="function">pg_start_backup()</code></a>と<code class="function">pg_stop_backup()</code>を拡張しました。
(Magnus Hagander)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.5"><div class="titlepage"><div><div><h4 class="title">E.21.3.3. 問い合わせ</h4></div></div></div><!--
    <title>Queries</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-07-26 [d8411a6c8] Allow functions that return sets of tuples to return sim
--><p>
<!--
        Allow functions that return sets of tuples to return simple
        <literal>NULL</literal>s (Andrew Gierth, Tom Lane)
-->
タプルの集合を返す関数が単なる<code class="literal">NULL</code>を返せるようにしました。
(Andrew Gierth, Tom Lane)
       </p><p>
<!--
        In the context of <literal>SELECT FROM function(...)</literal>, a function
        that returned a set of composite values was previously not allowed
        to return a plain <literal>NULL</literal> value as part of the set.
        Now that is allowed and interpreted as a row of <literal>NULL</literal>s.
        This avoids corner-case errors with, for example, unnesting an
        array of composite values.
-->
<code class="literal">SELECT FROM function(...)</code>の文脈において、以前は複合値の集合を返す関数は単なる<code class="literal">NULL</code>値を集合の一部として返すことを許していませんでした。
これからはこれが可能になり、要素が皆<code class="literal">NULL</code>の行として解釈されます。
これは例えば複合値の配列をunnestするなどのまれなケースでのエラーを回避します。
       </p></li><li class="listitem"><!--
2016-08-03 [a3c7a993d] Make INSERT-from-multiple-VALUES-rows handle targetlist
--><p>
<!--
        Fully support array subscripts and field selections in the
        target column list of an <command>INSERT</command> with multiple
        <literal>VALUES</literal> rows (Tom Lane)
-->
複数の<code class="literal">VALUES</code>行を伴う<code class="command">INSERT</code>のターゲット列リストにおける配列添え字とフィールド選択に完全に対応しました。
(Tom Lane)
       </p><p>
<!--
        Previously, such cases failed if the same target column was
        mentioned more than once, e.g., <literal>INSERT INTO tab (x[1],
        x[2]) VALUES (...)</literal>.
-->
これまで、このような場合は同じターゲット列が2回以上でてくるとき、例えば<code class="literal">INSERT INTO tab (x[1], x[2]) VALUES (...)</code>などで、失敗していました。
       </p></li><li class="listitem"><!--
2016-03-11 [9118d03a8] When appropriate, postpone SELECT output expressions til
2016-03-25 [d543170f2] Don't split up SRFs when choosing to postpone SELECT out
--><p>
<!--
        When appropriate, postpone evaluation of <command>SELECT</command>
        output expressions until after an <literal>ORDER BY</literal> sort
        (Konstantin Knizhnik)
-->
適切なとき、<code class="command">SELECT</code>出力式の評価を<code class="literal">ORDER BY</code>ソート後まで後回しにするようにしました。
(Konstantin Knizhnik)
       </p><p>
<!--
        This change ensures that volatile or expensive functions in the
        output list are executed in the order suggested by <literal>ORDER
        BY</literal>, and that they are not evaluated more times than required
        when there is a <literal>LIMIT</literal> clause.  Previously, these
        properties held if the ordering was performed by an index scan or
        pre-merge-join sort, but not if it was performed by a top-level
        sort.
-->
この変更は出力リスト内の揮発性あるいは高コストの関数が<code class="literal">ORDER BY</code>で示される順序で実行されること、また、<code class="literal">LIMIT</code>句があるとき必要とされる回数以上に評価されないことを保証します。
これまで、並び替えがインデックススキャンやマージ結合前のソートで実行されるときには、これらの特性を持っていましたが、トップレベルのソートで実行されるときにはそうなっていませんでした。
       </p></li><li class="listitem"><!--
2016-03-12 [23a27b039] Widen query numbers-of-tuples-processed counters to uint
2016-03-14 [74a379b98] Use repalloc_huge() to enlarge a SPITupleTable's tuple p
--><p>
<!--
        Widen counters recording the number of tuples processed to 64 bits
        (Andreas Scherbaum)
-->
処理したタプル数を記録するカウンタを64bitに拡張しました。
(Andreas Scherbaum)
       </p><p>
<!--
        This change allows command tags, e.g. <command>SELECT</command>, to
        correctly report tuple counts larger than 4 billion.  This also
        applies to PL/pgSQL's <command>GET DIAGNOSTICS ... ROW_COUNT</command>
        command.
-->
この変更は<code class="command">SELECT</code>などのコマンドタグで40億件以上のタプルカウントを正しく報告できるようにします。
これはPL/pgSQLの<code class="command">GET DIAGNOSTICS ... ROW_COUNT</code>コマンドにも適用されます。
       </p></li><li class="listitem"><!--
2015-11-28 [8d32717b6] Avoid doing encoding conversions by double-conversion vi
--><p>
<!--
        Avoid doing encoding conversions by converting through the
        <literal>MULE_INTERNAL</literal> encoding (Tom Lane)
-->
<code class="literal">MULE_INTERNAL</code>エンコーディングを通した変換でエンコーディング変換をするのを回避しました。
(Tom Lane)
       </p><p>
<!--
        Previously, many conversions for Cyrillic and Central
        European single-byte encodings were done by converting to a
        related <literal>MULE_INTERNAL</literal> coding scheme and then to the
        destination encoding.  Aside from being inefficient, this meant
        that when the conversion encountered an untranslatable character,
        the error message would confusingly complain about failure to
        convert to or from <literal>MULE_INTERNAL</literal>, rather than the
        user-visible encoding.
-->
これまではキリル文字と中央ヨーロッパのシングルバイトのエンコーディングに対する多くの変換は、関連する<code class="literal">MULE_INTERNAL</code>コーディング方式に変換して、それから目的のエンコーディングに変換することで実行されていました。
非効率であることと別にこれは、変換できない文字に遭遇したときにエラーメッセージが、ユーザに見えるエンコーディングではなく<code class="literal">MULE_INTERNAL</code>との間で変換できないと混乱を招きやすい苦情を言うことを意味します。
       </p></li><li class="listitem"><!--
2016-01-28 [fbe5a3fb7] Only try to push down foreign joins if the user mapping
2016-07-15 [45639a052] Avoid invalidating all foreign-join cached plans when us
--><p>
<!--
        Consider performing joins of foreign tables remotely only when the
        tables will be accessed under the same role ID (Shigeru Hanada,
        Ashutosh Bapat, Etsuro Fujita)
-->
テーブルが同じロールIDのもとでアクセスされる場合のみ、外部テーブルの結合をリモートで行うことを検討するようにしました。
(Shigeru Hanada, Ashutosh Bapat, Etsuro Fujita)
       </p><p>
<!--
        Previously, the foreign join pushdown infrastructure left the
        question of security entirely up to individual foreign data
        wrappers, but that made it too easy for an <acronym>FDW</acronym> to
        inadvertently create subtle security holes.  So, make it the core
        code's job to determine which role ID will access each table,
        and do not attempt join pushdown unless the role is the same for
        all relevant relations.
-->
これまで外部結合プッシュダウン基盤はセキュリティの課題を完全に各外部データラッパに任せていました、これは<acronym class="acronym">FDW</acronym>に意図せぬ微妙なセキュリティホールをあまりに容易に作らせてしまいます。
そこで、どのロールIDが各テーブルにアクセスするか決定することを本体コードの役割としました。
また、関わるすべてのリレーションについてロールが同じでない限り、結合プッシュダウンを試みないようにしました。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.6"><div class="titlepage"><div><div><h4 class="title">E.21.3.4. ユーティリティコマンド</h4></div></div></div><!--
    <title>Utility Commands</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-11-27 [92e38182d] COPY (INSERT/UPDATE/DELETE .. RETURNING ..)
--><p>
<!--
        Allow <command>COPY</command> to copy the output of an
        <literal>INSERT</literal>/<literal>UPDATE</literal>/<literal>DELETE</literal>
        ... <literal>RETURNING</literal> query (Marko Tiikkaja)
-->
<code class="command">COPY</code>が<code class="literal">INSERT</code>/<code class="literal">UPDATE</code>/<code class="literal">DELETE</code> ... <code class="literal">RETURNING</code>問い合わせの出力をコピーできるようにしました。
(Marko Tiikkaja)
       </p><p>
<!--
        Previously, an intermediate <acronym>CTE</acronym> had to be written to
        get this result.
-->
これまでは、実現するのに中継する<acronym class="acronym">CTE</acronym>を書く必要がありました。
       </p></li><li class="listitem"><!--
2016-04-05 [f2fcad27d] Support ALTER THING .. DEPENDS ON EXTENSION
--><p>
<!--
        Introduce <command>ALTER <replaceable>object</replaceable> DEPENDS ON
        EXTENSION</command> (Abhijit Menon-Sen)
-->
<code class="command">ALTER <em class="replaceable"><code>object</code></em> DEPENDS ON EXTENSION</code>を導入しました。
(Abhijit Menon-Sen)
       </p><p>
<!--
        This command allows a database object to be marked as depending
        on an extension, so that it will be dropped automatically if
        the extension is dropped (without needing <literal>CASCADE</literal>).
        However, the object is not part of the extension, and thus will
        be dumped separately by <application>pg_dump</application>.
-->
本コマンドはデータベースオブジェクトに拡張に依存していると印付けできるようにします。
これにより、拡張が削除されたならオブジェクトは（<code class="literal">CASCADE</code>は必要なしに）自動的に削除されます。
しかしながら、このオブジェクトは拡張の一部ではないので、<span class="application">pg_dump</span>では別にダンプされます。
       </p></li><li class="listitem"><!--
2015-11-19 [bc4996e61] Make ALTER .. SET SCHEMA do nothing, instead of throwing
--><p>
<!--
        Make <command>ALTER <replaceable>object</replaceable> SET SCHEMA</command> do nothing
        when the object is already in the requested schema, rather than
        throwing an error as it historically has for most object types
        (Marti Raudsepp)
-->
オブジェクトがすでに要求されたスキーマにあるときには<code class="command">ALTER <em class="replaceable"><code>object</code></em> SET SCHEMA</code>が、歴史的に大部分のオブジェクトタイプに対してそうであったようにエラーを投げるのではなく、何もしないようにしました。
(Marti Raudsepp)
       </p></li><li class="listitem"><!--
2015-07-14 [321eed5f0] Add ALTER OPERATOR command, for changing selectivity est
2015-12-31 [0dab5ef39] Fix ALTER OPERATOR to update dependencies properly.
--><p>
<!--
        Add options to <command>ALTER OPERATOR</command> to allow changing
        the selectivity functions associated with an existing operator
        (Yury Zhuravlev)
-->
<code class="command">ALTER OPERATOR</code>に既存の演算子に関連付けられた選択度の関数を変更できるオプションを追加しました。
(Yury Zhuravlev)
       </p></li><li class="listitem"><!--
2015-07-29 [2cd40adb8] Add IF NOT EXISTS processing to ALTER TABLE ADD COLUMN
--><p>
<!--
        Add an <option>IF NOT EXISTS</option> option to <command>ALTER TABLE
        ADD COLUMN</command> (Fabr&iacute;zio de Royes Mello)
-->
<code class="command">ALTER TABLE ADD COLUMN</code>に<code class="option">IF NOT EXISTS</code>オプションを追加しました。
(Fabrízio de Royes Mello)
       </p></li><li class="listitem"><!--
2015-08-14 [47167b790] Reduce lock levels for ALTER TABLE SET autovacuum storag
2016-03-10 [fcb4bfddb] Reduce lock level for altering fillfactor
--><p>
<!--
        Reduce the lock strength needed by <command>ALTER TABLE</command>
        when setting fillfactor and autovacuum-related relation options
        (Fabr&iacute;zio de Royes Mello, Simon Riggs)
-->
フィルファクタと自動バキューム関連のリレーションオプションを設定するとき、<code class="command">ALTER TABLE</code>が必要とするロック強度を減らしました。
(Fabrízio de Royes Mello, Simon Riggs)
       </p></li><li class="listitem"><!--
2016-03-23 [473b93287] Support CREATE ACCESS METHOD
--><p>
<!--
        Introduce <link linkend="sql-create-access-method"><command>CREATE
        ACCESS METHOD</command></link> to allow extensions to create index access
        methods (Alexander Korotkov, Petr Jel&iacute;nek)
-->
拡張でインデックスアクセスメソッドを作ることを可能にする、<a class="link" href="sql-create-access-method.html" title="CREATE ACCESS METHOD"><code class="command">CREATE ACCESS METHOD</code></a>を導入しました。
(Alexander Korotkov, Petr Jelínek)
       </p></li><li class="listitem"><!--
2015-10-03 [b67aaf21e] Add CASCADE support for CREATE EXTENSION.
--><p>
<!--
        Add a <literal>CASCADE</literal> option to <command>CREATE
        EXTENSION</command> to automatically create any extensions the
        requested one depends on (Petr Jel&iacute;nek)
-->
<code class="command">CREATE EXTENSION</code>に、要求された拡張が依存するすべての拡張を自動的に作成する<code class="literal">CASCADE</code>オプションを追加しました。
(Petr Jelínek)
       </p></li><li class="listitem"><!--
2015-10-05 [b943f502b] Have CREATE TABLE LIKE add OID column if any LIKEd table
--><p>
<!--
        Make <command>CREATE TABLE ... LIKE</command> include an <type>OID</type>
        column if any source table has one (Bruce Momjian)
-->
元テーブルが<code class="type">OID</code>列を持つとき、<code class="command">CREATE TABLE ... LIKE</code>でそれを含めるようにしました。
(Bruce Momjian)
       </p></li><li class="listitem"><!--
2015-12-16 [f27a6b15e] Mark CHECK constraints declared NOT VALID valid if creat
--><p>
<!--
        If a <literal>CHECK</literal> constraint is declared <literal>NOT VALID</literal>
        in a table creation command, automatically mark it as valid
        (Amit Langote, Amul Sul)
-->
<code class="literal">CHECK</code>制約がテーブル作成コマンドで<code class="literal">NOT VALID</code>と宣言されている場合、自動的に有効と印付けするようにしました。
(Amit Langote, Amul Sul)
       </p><p>
<!--
        This is safe because the table has no existing rows.  This matches
        the longstanding behavior of <literal>FOREIGN KEY</literal> constraints.
-->
テーブルには行が存在しないので安全です。
これは以前からの<code class="literal">FOREIGN KEY</code>制約の動作と一致します。
       </p></li><li class="listitem"><!--
2016-03-25 [c94959d41] Fix DROP OPERATOR to reset oprcom/oprnegate links to the
--><p>
<!--
        Fix <command>DROP OPERATOR</command> to clear
        <structname>pg_operator</structname>.<structfield>oprcom</structfield> and
        <structname>pg_operator</structname>.<structfield>oprnegate</structfield> links to
        the dropped operator (Roma Sokolov)
-->
<code class="command">DROP OPERATOR</code>を削除された演算子とリンクしている<code class="structname">pg_operator</code>.<code class="structfield">oprcom</code>と<code class="structname">pg_operator</code>.<code class="structfield">oprnegate</code>をクリアするように修正しました。
(Roma Sokolov)
       </p><p>
<!--
        Formerly such links were left as-is, which could pose a problem
        in the somewhat unlikely event that the dropped operator's
        <type>OID</type> was reused for another operator.
-->
これまではこのようなリンクはそのまま残されて、削除した演算子の<code class="type">OID</code>が他の演算子に再利用されるという、あまりなさそうな事象で問題がでるかもしれません。
       </p></li><li class="listitem"><!--
2016-07-11 [4d042999f] Print a given subplan only once in EXPLAIN.
--><p>
<!--
        Do not show the same subplan twice in <command>EXPLAIN</command> output
        (Tom Lane)
-->
<code class="command">EXPLAIN</code>出力で同じサブプランを二度見せないようにしました。
(Tom Lane)
       </p><p>
<!--
        In certain cases, typically involving SubPlan nodes in index
        conditions, <command>EXPLAIN</command> would print data for the same
        subplan twice.
-->
ある種の、典型的にはインデックス条件でSubPlanノードを伴う場合、<code class="command">EXPLAIN</code>は同じサブプランのデータを二回出力していました。
       </p></li><li class="listitem"><!--
2016-04-16 [c34df8a00] Disallow creation of indexes on system columns (except f
--><p>
<!--
        Disallow creation of indexes on system columns, except for
        <type>OID</type> columns (David Rowley)
-->
<code class="type">OID</code>列を除くシステム列へのインデックス作成を禁止しました。
(David Rowley)
       </p><p>
<!--
        Such indexes were never considered supported, and would very
        possibly misbehave since the system might change the system-column
        fields of a tuple without updating indexes.  However, previously
        there were no error checks to prevent them from being created.
-->
このようなインデックスはサポートされているとみなされませんし、システムがタプルのシステム列フィールドをインデックス更新無しに変えるかもしれないため、高い可能性で誤動作するでしょう。
しかしながら、これまではこれが作られないように防ぐエラーチェックがありませんでした。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.7"><div class="titlepage"><div><div><h4 class="title">E.21.3.5. 権限管理</h4></div></div></div><!--
    <title>Permissions Management</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-06 [1574783b4] Use GRANT system to manage access to sensitive functions
--><p>
<!--
        Use the privilege system to manage access to sensitive functions
        (Stephen Frost)
-->
注意を要する関数へのアクセス管理に権限システムを使うようにしました。
(Stephen Frost)
       </p><p>
<!--
        Formerly, many security-sensitive functions contained hard-wired
        checks that would throw an error if they were called by a
        non-superuser.  This forced the use of superuser roles for
        some relatively pedestrian tasks.  The hard-wired error checks
        are now gone in favor of making <application>initdb</application> revoke the
        default public <literal>EXECUTE</literal> privilege on these functions.
        This allows installations to choose to grant usage of such
        functions to trusted roles that do not need all superuser
        privileges.
-->
これまでは、多くの安全に注意を要する関数は非スーパーユーザから呼び出されるとエラーを投げる固定実装のチェックを含んでいました。
これはやや退屈な仕事としてスーパーユーザロールを使うことを強制していました。
これからは固定実装のエラーチェックは無くなり、<span class="application">initdb</span>にデフォルトのpublicの<code class="literal">EXECUTE</code>権限を取り上げさせるようにしました。
このことで、必ずしも全てのスーパーユーザ権限を必要としない信頼されたロールに、これらの関数の使用を認めることをインストレーションは選択できます。
       </p></li><li class="listitem"><!--
2016-04-08 [7a542700d] Create default roles
--><p>
<!--
        Create some <link linkend="default-roles">built-in roles</link>
        that can be used to grant access to what were previously
        superuser-only functions (Stephen Frost)
-->
従来スーパーユーザ専用だった関数へのアクセスを与えるのに使える<a class="link" href="default-roles.html" title="21.5. デフォルトロール">組み込みロール</a>を作成しました。
(Stephen Frost)
       </p><p>
<!--
        Currently the only such role is <literal>pg_signal_backend</literal>,
        but more are expected to be added in future.
-->
いまのところそのようなロールは<code class="literal">pg_signal_backend</code>だけですが、より多くが将来に追加される見通しです。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.8"><div class="titlepage"><div><div><h4 class="title">E.21.3.6. データ型</h4></div></div></div><!--
    <title>Data Types</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-07 [bb140506d] Phrase full text search.
2016-06-27 [028350f61] Make exact distance match for FTS phrase operator
2016-06-27 [3dbbd0f02] Do not fallback to AND for FTS phrase operator.
2016-06-27 [6734a1cac] Change predecence of phrase operator.
--><p>
<!--
        Improve <link linkend="textsearch">full-text search</link> to support
        searching for phrases, that is, lexemes appearing adjacent to each
        other in a specific order, or with a specified distance between
        them (Teodor Sigaev, Oleg Bartunov, Dmitry Ivanov)
-->
<a class="link" href="textsearch.html" title="第12章 全文検索">全文検索</a>をフレーズ、すなわち特定順序あるいは指定された間隔で互いに隣接して現れる複数の語彙素、の検索に対応するように改善しました。
(Teodor Sigaev, Oleg Bartunov, Dmitry Ivanov)
       </p><p>
<!--
        A phrase-search query can be specified in <type>tsquery</type>
        input using the new operators <literal>&lt;-&gt;</literal> and
        <literal>&lt;<replaceable>N</replaceable>&gt;</literal>.  The former means
        that the lexemes before and after it must appear adjacent to
        each other in that order.  The latter means they must be exactly
        <replaceable>N</replaceable> lexemes apart.
-->
<code class="type">tsquery</code>入力で新たな演算子<code class="literal">&lt;-&gt;</code>と<code class="literal">&lt;<em class="replaceable"><code>N</code></em>&gt;</code>を使ってフレーズ検索問い合わせを指定できます。
前者は前後の語彙素が互いに隣接してその順に現れなければいけないことを意味します。後者は前後の語彙素がちょうどN<em class="replaceable"><code>N</code></em>だけ離れていなければいけないことを意味します。
       </p></li><li class="listitem"><!--
2015-12-22 [6efbded6e] Allow omitting one or both boundaries in an array slice
--><p>
<!--
        Allow omitting one or both boundaries in an array slice specifier,
        e.g. <literal>array_col[3:]</literal> (Yury Zhuravlev)
-->
配列スライス指定子で範囲の片方あるいは両方を（例えば<code class="literal">array_col[3:]</code>と）省略できるようにしました。
(Yury Zhuravlev)
       </p><p>
<!--
        Omitted boundaries are taken as the upper or lower limit of the
        corresponding array subscript.  This allows simpler specification
        for many common use-cases.
-->
省略された範囲は対応する配列の添え字の上限または下限と受け取られます。
これは多くの一般的なユースケースでよりシンプルな指定を可能にします。
       </p></li><li class="listitem"><!--
2016-03-16 [a70e13a39] Be more careful about out-of-range dates and timestamps.
--><p>
<!--
        Be more careful about out-of-range dates and timestamps (Vitaly
        Burovoy)
-->
範囲外の日付やタイムスタンプについてより注意深くしました。
(Vitaly Burovoy)
       </p><p>
<!--
        This change prevents unexpected out-of-range errors for
        <type>timestamp with time zone</type> values very close to the
        implementation limits.  Previously, the <quote>same</quote> value might
        be accepted or not depending on the <varname>timezone</varname> setting,
        meaning that a dump and reload could fail on a value that had been
        accepted when presented.  Now the limits are enforced according
        to the equivalent <acronym>UTC</acronym> time, not local time, so as to
        be independent of <varname>timezone</varname>.
-->
この変更は<code class="type">timestamp with time zone</code>の実装の限界に極めて近い値に対する予期せぬ範囲外エラーを防ぎます。
これまでは、<span class="quote">「<span class="quote">同じ</span>」</span>値が<code class="varname">timezone</code>設定によって、受け入れられたり、受け入れられなかったりしました。これは現在受け付けられている値のダンプ、リストアが失敗するかもしれないことを意味します。
これからは、値の限界はローカルタイムでなく、<code class="varname">timezone</code>とは無関係にするため、同等の<acronym class="acronym">UTC</acronym>時間に従って制限されます。
       </p><p>
<!--
        Also, <productname>PostgreSQL</productname> is now more careful to detect
        overflow in operations that compute new date or timestamp values,
        such as <type>date</type> <literal>+</literal> <type>integer</type>.
-->
また、<span class="productname">PostgreSQL</span>は、<code class="type">date</code> <code class="literal">+</code> <code class="type">integer</code>などの新たな日付やタイムスタンプ値を計算する処理でも、より注意深くオーバーフローを検出するようになりました。
       </p></li><li class="listitem"><!--
2016-03-30 [50861cd68] Improve portability of I/O behavior for the geometric ty
--><p>
<!--
        For geometric data types, make sure <literal>infinity</literal> and
        <literal>NaN</literal> component values are treated consistently during
        input and output (Tom Lane)
-->
幾何データ型について、<code class="literal">infinity</code>と<code class="literal">NaN</code>の複合値が入出力の際に確実に一貫した扱いをされるようにしました。
(Tom Lane)
       </p><p>
<!--
        Such values will now always print the same as they would in
        a simple <type>float8</type> column, and be accepted the same way
        on input.  Previously the behavior was platform-dependent.
-->
これからはこのような値は常にシンプルな<code class="type">float8</code>列と同様に出力し、入力で同様に受け入れられます。
これまではプラットフォームに依存した動作をしていました。
       </p></li><li class="listitem"><!--
2016-03-04 [d78a7d9c7] Improve support of Hunspell in ispell dictionary.
2016-03-11 [8829af47e] Fix merge affixes for numeric ones
2016-03-17 [f4ceed6ce] Improve support of Hunspell
--><p>
<!--
        Upgrade
        the <link linkend="textsearch-ispell-dictionary"><literal>ispell</literal></link>
        dictionary type to handle modern <productname>Hunspell</productname> files and
        support more languages (Artur Zakirov)
-->
現代的な<span class="productname">Hunspell</span>ファイルを扱うように、また、より多くの言語に対応するように<a class="link" href="textsearch-dictionaries.html#TEXTSEARCH-ISPELL-DICTIONARY" title="12.6.5. Ispell辞書"><code class="literal">ispell</code></a>辞書タイプを更新しました。
(Artur Zakirov)
       </p></li><li class="listitem"><!--
2015-10-30 [12c9a0400] Implement lookbehind constraints in our regular-expressi
--><p>
<!--
        Implement look-behind constraints
        in <link linkend="functions-posix-regexp">regular expressions</link>
        (Tom Lane)
-->
<a class="link" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">正規表現</a>で後方検索制約を実装しました。
(Tom Lane)
       </p><p>
<!--
        A look-behind constraint is like a lookahead constraint in that it
        consumes no text; but it checks for existence (or nonexistence)
        of a match ending at the current point in the string, rather
        than one starting at the current point.  Similar features exist
        in many other regular-expression engines.
-->
後方検索制約はテキストを消費せず既存の先行検索制約と似ていますが、
文字列の現在位置から始まるのでなく、現在位置で終わるマッチが在ること（あるいは無いこと）をチェックします。
同様の機能は既存の他の多くの正規表現エンジンに存在します。
       </p></li><li class="listitem"><!--
2015-09-16 [b44d92b67] Sync regex code with Tcl 8.6.4.
--><p>
<!--
        In regular expressions, if an apparent three-digit octal escape
        <literal>\</literal><replaceable>nnn</replaceable> would exceed 377 (255 decimal),
        assume it is a two-digit octal escape instead (Tom Lane)
-->
正規表現で、見たところ3桁8進数のエスケープ<code class="literal">\</code><em class="replaceable"><code>nnn</code></em>が
377（10進数で255)を超えた場合、代わりに2桁8進数のエスケープとみなすようにしました。
(Tom Lane)
       </p><p>
<!--
        This makes the behavior match current <application>Tcl</application> releases.
-->
これにより現在の<span class="application">Tcl</span>リリースと振る舞いが一致します。
       </p></li><li class="listitem"><!--
2015-11-07 [c5e86ea93] Add "xid <> xid" and "xid <> int4" operators.
--><p>
<!--
        Add transaction ID operators <type>xid</type> <literal>&lt;&gt;</literal>
        <type>xid</type> and <type>xid</type> <literal>&lt;&gt;</literal> <type>int4</type>,
        for consistency with the corresponding equality operators
        (Michael Paquier)
-->
対応する等価演算子との一貫性のため、トランザクションID演算子<code class="type">xid</code> <code class="literal">&lt;&gt;</code> <code class="type">xid</code>と<code class="type">xid</code> <code class="literal">&lt;&gt;</code> <code class="type">int4</code>を追加しました。
(Michael Paquier)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.9"><div class="titlepage"><div><div><h4 class="title">E.21.3.7. 関数</h4></div></div></div><!--
    <title>Functions</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-04-06 [0b62fd036] Add jsonb_insert
--><p>
<!--
        Add <link
        linkend="functions-json-processing-table"><function>jsonb_insert()</function></link>
        function to insert a new element into a <type>jsonb</type> array,
        or a not-previously-existing key into a <type>jsonb</type> object
        (Dmitry Dolgov)
-->
<code class="type">jsonb</code>配列に新たな要素を挿入したり、未だ無いキーを<code class="type">jsonb</code>オブジェクト挿入したりする<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表9.46 JSON処理関数"><code class="function">jsonb_insert()</code></a>関数を追加しました。
(Dmitry Dolgov)
       </p></li><li class="listitem"><!--
2015-11-14 [7d9a4737c] Improve type numeric's calculations for ln(), log(), exp
2016-05-05 [18a02ad2a] Fix corner-case loss of precision in numeric pow() calcu
--><p>
<!--
        Improve the accuracy of the <function>ln()</function>, <function>log()</function>,
        <function>exp()</function>, and <function>pow()</function> functions for type
        <type>numeric</type> (Dean Rasheed)
-->
<code class="type">numeric</code>型むけの<code class="function">ln()</code>、<code class="function">log()</code>、<code class="function">exp()</code>、および、<code class="function">pow()</code>関数の精度を改善しました。
(Dean Rasheed)
       </p></li><li class="listitem"><!--
2016-01-05 [abb173392] Add scale(numeric)
--><p>
<!--
        Add a <link
        linkend="functions-math-func-table"><function>scale(numeric)</function></link>
        function to extract the display scale of a <type>numeric</type> value
        (Marko Tiikkaja)
-->
<code class="type">numeric</code>値の表示スケールを取り出す<a class="link" href="functions-math.html#FUNCTIONS-MATH-FUNC-TABLE" title="表9.5 算術関数"><code class="function">scale(numeric)</code></a>関数を追加しました。
(Marko Tiikkaja)
       </p></li><li class="listitem"><!--
2016-01-22 [e1bd684a3] Add trigonometric functions that work in degrees.
--><p>
<!--
        Add trigonometric functions that work in degrees (Dean Rasheed)
-->
度で動作する三角関数が追加されました。
(Dean Rasheed)
       </p><p>
<!--
        For example, <link
        linkend="functions-math-trig-table"><function>sind()</function></link>
        measures its argument in degrees, whereas <function>sin()</function>
        measures in radians.  These functions go to some lengths to
        deliver exact results for values where an exact result can be
        expected, for instance <literal>sind(30) = 0.5</literal>.
-->
例えば、<code class="function">sin()</code>は引数をラジアンで評価しますが、<a class="link" href="functions-math.html#FUNCTIONS-MATH-TRIG-TABLE" title="表9.7 三角関数"><code class="function">sind()</code></a>では度で評価します。
これらの関数は、例えば<code class="literal">sind(30) = 0.5</code>のように、いくつか予測可能な値でちょうどの結果値をもたらすように動作します。
       </p></li><li class="listitem"><!--
2016-01-22 [fd5200c3d] Improve cross-platform consistency of Inf/NaN handling i
--><p>
<!--
        Ensure that trigonometric functions handle <literal>infinity</literal>
        and <literal>NaN</literal> inputs per the <acronym>POSIX</acronym> standard
        (Dean Rasheed)
-->
三角関数が<code class="literal">infinity</code>および<code class="literal">NaN</code>の入力を<acronym class="acronym">POSIX</acronym>標準によって扱うことを保証しました。
(Dean Rasheed)
       </p><p>
<!--
        The <acronym>POSIX</acronym> standard says that these functions should
        return <literal>NaN</literal> for <literal>NaN</literal> input, and should throw
        an error for out-of-range inputs including <literal>infinity</literal>.
        Previously our behavior varied across platforms.
-->
<acronym class="acronym">POSIX</acronym>標準にはこれら関数は<code class="literal">NaN</code>入力には<code class="literal">NaN</code>を返し、<code class="literal">infinity</code>を含む範囲外の入力にはエラーを投げるべきと書かれています。
これまでの振る舞いはプラットフォームによって様々でした。
       </p></li><li class="listitem"><!--
2016-03-29 [e511d878f] Allow to_timestamp(float8) to convert float infinity to
--><p>
<!--
        Make <link
        linkend="functions-datetime-table"><function>to_timestamp(float8)</function></link>
        convert float <literal>infinity</literal> to
        timestamp <literal>infinity</literal> (Vitaly Burovoy)
-->
<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="表9.30 日付/時刻関数"><code class="function">to_timestamp(float8)</code></a>が浮動小数点の<code class="literal">infinity</code>をタイムスタンプの<code class="literal">infinity</code>に変換するようにしました。
(Vitaly Burovoy)
       </p><p>
<!--
        Formerly it just failed on an infinite input.
-->
以前は無限大の入力では単に失敗していました。
       </p></li><li class="listitem"><!--
2016-03-11 [6943a946c] Tsvector editing functions
2016-05-05 [0b9a23443] Rename tsvector delete() to ts_delete(), and filter() to
--><p>
<!--
        Add new functions for <type>tsvector</type> data (Stas Kelvich)
-->
<code class="type">tsvector</code>データむけの関数を追加しました。
(Stas Kelvich)
       </p><p>
<!--
        The new functions are <link
        linkend="textsearch-functions-table"><function>ts_delete()</function></link>,
        <function>ts_filter()</function>, <function>unnest()</function>,
        <function>tsvector_to_array()</function>, <function>array_to_tsvector()</function>,
        and a variant of <function>setweight()</function> that sets the weight
        only for specified lexeme(s).
-->
新たな関数<a class="link" href="functions-textsearch.html#TEXTSEARCH-FUNCTIONS-TABLE" title="表9.41 テキスト検索関数"><code class="function">ts_delete()</code></a>、<code class="function">ts_filter()</code>、<code class="function">unnest()</code>、<code class="function">tsvector_to_array()</code>、<code class="function">array_to_tsvector()</code>、および、特定語彙素にだけ重みを付ける<code class="function">setweight()</code>の別形を追加しました。
       </p></li><li class="listitem"><!--
2015-09-17 [9acb9007d] Fix oversight in tsearch type check
--><p>
<!--
        Allow <link linkend="textsearch-statistics"><function>ts_stat()</function></link>
        and <link linkend="textsearch-update-triggers"><function>tsvector_update_trigger()</function></link>
        to operate on values that are of types binary-compatible with the
        expected argument type, not just exactly that type; for example
        allow <type>citext</type> where <type>text</type> is expected (Teodor
        Sigaev)
-->
<a class="link" href="textsearch-features.html#TEXTSEARCH-STATISTICS" title="12.4.4. 文書の統計情報の収集"><code class="function">ts_stat()</code></a>と<a class="link" href="textsearch-features.html#TEXTSEARCH-UPDATE-TRIGGERS" title="12.4.3. 自動更新のためのトリガ"><code class="function">tsvector_update_trigger()</code></a>を期待される引数型そのものでなく、そのバイナリ互換の型の値でも動作するようにしました。
例えば<code class="type">text</code>が期待されているところに<code class="type">citext</code>を可能にします。
(Teodor Sigaev)
       </p></li><li class="listitem"><!--
2016-02-04 [6819514fc] Add num_nulls() and num_nonnulls() to count NULL argumen
--><p>
<!--
        Add variadic functions <link
        linkend="functions-comparison-func-table"><function>num_nulls()</function></link>
        and <function>num_nonnulls()</function> that count the number of their
        arguments that are null or non-null (Marko Tiikkaja)
-->
引数の中のNULLまたは非NULLを数える可変引数関数<a class="link" href="functions-comparison.html#FUNCTIONS-COMPARISON-FUNC-TABLE" title="表9.3 比較関数"><code class="function">num_nulls()</code></a>と<code class="function">num_nonnulls()</code>を追加しました。
(Marko Tiikkaja)
       </p><p>
<!--
        An example usage is <literal>CHECK(num_nonnulls(a,b,c) = 1)</literal>
        which asserts that exactly one of a,b,c is not <literal>NULL</literal>.
        These functions can also be used to count the number of null or
        nonnull elements in an array.
-->
a、b、c の内ちょうど一つだけ非<code class="literal">NULL</code>であることを主張する<code class="literal">CHECK(num_nonnulls(a,b,c) = 1)</code>は、一つの使用例です。
これら関数は配列の中のNULLや非NULLを数えるのにも使用できます。
       </p></li><li class="listitem"><!--
2016-03-18 [3187d6de0] Introduce parse_ident()
--><p>
<!--
        Add function <link
        linkend="functions-string-other"><function>parse_ident()</function></link>
        to split a qualified, possibly quoted <acronym>SQL</acronym> identifier
        into its parts (Pavel Stehule)
-->
修飾され、クオートされているかもしれないSQL識別子を部品に分解する関数<a class="link" href="functions-string.html#FUNCTIONS-STRING-OTHER" title="表9.9 その他の文字列関数"><code class="function">parse_ident()</code></a>を追加しました。
(Pavel Stehule)
       </p></li><li class="listitem"><!--
2015-10-05 [28b3a3d41] to_number():  allow 'V' to divide by 10^(the number of d
--><p>
<!--
        In <link
        linkend="functions-formatting-table"><function>to_number()</function></link>,
        interpret a <literal>V</literal> format code as dividing by 10 to the
        power of the number of digits following <literal>V</literal> (Bruce
        Momjian)
-->
<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.23 書式設定関数"><code class="function">to_number()</code></a>で、<code class="literal">V</code>フォーマットコードを10の<code class="literal">V</code>に続く数字の数のべき乗で割るものと解釈するようにしました。
(Bruce Momjian)
       </p><p>
<!--
        This makes it operate in an inverse fashion to
        <function>to_char()</function>.
-->
このことで<code class="function">to_char()</code>の逆関数として動作させます。

       </p></li><li class="listitem"><!--
2016-01-05 [ea0d494da] Make the to_reg*() functions accept text not cstring.
--><p>
<!--
        Make the <link
        linkend="functions-info-catalog-table"><function>to_reg*()</function></link>
        functions accept type <type>text</type> not <type>cstring</type>
        (Petr Korobeinikov)
-->
<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表9.63 システムカタログ情報関数"><code class="function">to_reg*()</code></a>関数群が
<code class="type">cstring</code>でなく<code class="type">text</code>型を受け付けるようにしました。
(Petr Korobeinikov)
       </p><p>
<!--
        This avoids the need to write an explicit cast in most cases
        where the argument is not a simple literal constant.
-->
これは引数がシンプルなリテラル定数でない箇所のほとんどの場合で明示的なキャストの必要をなくします。
       </p></li><li class="listitem"><!--
2016-02-20 [53874c522] Add pg_size_bytes() to parse human-readable size strings
--><p>
<!--
        Add <link
        linkend="functions-admin-dbsize"><function>pg_size_bytes()</function></link>
        function to convert human-readable size strings to numbers (Pavel
        Stehule, Vitaly Burovoy, Dean Rasheed)
-->
サイズを示す人間に読みやすい文字列を数値に変換する<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBSIZE" title="表9.84 データベースオブジェクト容量関数"><code class="function">pg_size_bytes()</code></a>関数を追加しました。
(Pavel Stehule, Vitaly Burovoy, Dean Rasheed)
       </p><p>
<!--
        This function converts strings like those produced by
        <function>pg_size_pretty()</function> into bytes.  An example
        usage is <literal>SELECT oid::regclass FROM pg_class WHERE
        pg_total_relation_size(oid) &gt; pg_size_bytes('10 GB')</literal>.
-->
本関数は文字列を<code class="function">pg_size_pretty()</code>で生成されたような文字列をバイトに変換します。
<code class="literal">SELECT oid::regclass FROM pg_class WHERE pg_total_relation_size(oid) &gt; pg_size_bytes('10 GB')</code>が使用例です。
       </p></li><li class="listitem"><!--
2015-11-06 [8a1fab36a] pg_size_pretty: Format negative values similar to positi
--><p>
<!--
        In <link
        linkend="functions-admin-dbsize"><function>pg_size_pretty()</function></link>,
        format negative numbers similarly to positive ones (Adrian
        Vondendriesch)
-->
<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBSIZE" title="表9.84 データベースオブジェクト容量関数"><code class="function">pg_size_pretty()</code></a>で、負の値を正の値と同様に整形するようにしました。
(Adrian Vondendriesch)
       </p><p>
<!--
        Previously, negative numbers were never abbreviated, just printed
        in bytes.
-->
これまでは負の値は短縮されず、バイトで出力されていました。
       </p></li><li class="listitem"><!--
2015-07-02 [10fb48d66] Add an optional missing_ok argument to SQL function curr
--><p>
<!--
        Add an optional <replaceable>missing_ok</replaceable> argument to the <link
        linkend="functions-admin-set-table"><function>current_setting()</function></link>
        function (David Christensen)
-->
<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-SET-TABLE" title="表9.77 構成設定関数"><code class="function">current_setting()</code></a>関数にオプションの<em class="replaceable"><code>missing_ok</code></em>引数を追加しました。
(David Christensen)
       </p><p>
<!--
        This allows avoiding an error for an unrecognized parameter
        name, instead returning a <literal>NULL</literal>.
-->
これは認識できないパラメータ名に対してエラーを回避できるようにします。代わりに<code class="literal">NULL</code>が返ります。
       </p></li><li class="listitem"><!--
2016-07-26 [976b24fb4] Change various deparsing functions to return NULL for in
2016-07-29 [3153b1a52] Eliminate a few more user-visible "cache lookup failed"
2016-08-07 [8a8c6b538] Fix crash when pg_get_viewdef_name_ext() is passed a non
--><p>
<!--
        Change various catalog-inspection functions to return
        <literal>NULL</literal> for invalid input (Michael Paquier)
-->
様々なシステムカタログ情報関数が不正な入力に対して<code class="literal">NULL</code>を返すように変更しました。
(Michael Paquier)
       </p><p>
<!--
        <link
        linkend="functions-info-catalog-table"><function>pg_get_viewdef()</function></link>
        now returns <literal>NULL</literal> if given an invalid view <type>OID</type>,
        and several similar functions likewise return <literal>NULL</literal> for
        bad input.  Previously, such cases usually led to <quote>cache
        lookup failed</quote> errors, which are not meant to occur in
        user-facing cases.
-->
これからは<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表9.63 システムカタログ情報関数"><code class="function">pg_get_viewdef()</code></a>関数は無効なビューの<code class="type">OID</code>が与えられたなら<code class="literal">NULL</code>を返します。また、いくつかの同種の関数も不正な入力に対して同様に<code class="literal">NULL</code>を返します。
以前は、このような場合にたいてい、ユーザ側の問題で起きたことを意味しない<span class="quote">「<span class="quote">cache lookup failed</span>」</span>エラーになっていました。
       </p></li><li class="listitem"><!--
2016-08-02 [dd5eb805d] Remove unused arguments from pg_replication_origin_xact_
--><p>
<!--
        Fix <link
        linkend="pg-replication-origin-xact-reset"><function>pg_replication_origin_xact_reset()</function></link>
        to not have any arguments (Fujii Masao)
-->
<a class="link" href="functions-admin.html#PG-REPLICATION-ORIGIN-XACT-RESET"><code class="function">pg_replication_origin_xact_reset()</code></a>を引数を一切持たないように修正しました。
(Fujii Masao)
       </p><p>
<!--
        The documentation said that it has no arguments, and the C code did
        not expect any arguments, but the entry in <structname>pg_proc</structname>
        mistakenly specified two arguments.
-->
ドキュメントには引数を持たないと書かれていて、Cコードも引数を想定していませんが、<code class="structname">pg_proc</code>のエントリでは誤って2つの引数が指定されていました。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.10"><div class="titlepage"><div><div><h4 class="title">E.21.3.8. サーバサイド言語</h4></div></div></div><!--
    <title>Server-Side Languages</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-08-21 [fcdfce682] Detect mismatched CONTINUE and EXIT statements at plpgsq
--><p>
<!--
        In <link linkend="plpgsql">PL/pgSQL</link>, detect mismatched
        <command>CONTINUE</command> and <command>EXIT</command> statements while
        compiling a function, rather than at execution time
        (Jim Nasby)
-->
<a class="link" href="plpgsql.html" title="第43章 PL/pgSQL - SQL手続き言語">PL/pgSQL</a>で実行時でなく関数をコンパイルするときに、<code class="command">CONTINUE</code>文と<code class="command">EXIT</code>文の不一致を検出するようにしました。
(Jim Nasby)
       </p></li><li class="listitem"><!--
2016-04-08 [5c3c3cd0a] Enhanced custom error in PLPythonu
2016-06-11 [020140d84] PL/Python: Rename new keyword arguments of plpy.error()
2016-07-02 [3a4a33ad4] PL/Python: Report argument parsing errors using exceptio
--><p>
<!--
        Extend <application>PL/Python</application>'s error-reporting and
        message-reporting functions to allow specifying additional message
        fields besides the primary error message (Pavel Stehule)
-->
<span class="application">PL/Python</span>のエラー報告とメッセージ報告の関数を、主エラーメッセージの他に追加メッセージフィールドも指定できるように拡張しました。
(Pavel Stehule)
       </p></li><li class="listitem"><!--
2016-04-05 [1d2fe56e4] Fix PL/Python for recursion and interleaved set-returnin
--><p>
<!--
        Allow PL/Python functions to call themselves recursively
        via <application>SPI</application>, and fix the behavior when multiple
        set-returning PL/Python functions are called within one query
        (Alexey Grishchenko, Tom Lane)
-->
PL/Python関数が<span class="application">SPI</span>を通して自身を再帰的に呼び出しできるようにしました。
また、複数の集合を返すPL/Python関数が一つの問い合わせから呼び出されたときの動作を修正しました。
(Alexey Grishchenko, Tom Lane)
       </p></li><li class="listitem"><!--
2015-11-05 [8c75ad436] Fix memory leaks in PL/Python.
--><p>
<!--
        Fix session-lifespan memory leaks in PL/Python (Heikki Linnakangas,
        Haribabu Kommi, Tom Lane)
-->
PL/Pythonでのセッション有効期間のメモリリークを修正しました。
(Heikki Linnakangas, Haribabu Kommi, Tom Lane)
       </p></li><li class="listitem"><!--
2016-03-02 [287822068] Convert PL/Tcl to use Tcl's "object" interfaces.
2016-03-02 [e2609323e] Make PL/Tcl require Tcl 8.4 or later.
--><p>
<!--
        Modernize <application>PL/Tcl</application> to use Tcl's <quote>object</quote>
        <acronym>API</acronym>s instead of simple strings (Jim Nasby, Karl
        Lehenbauer)
-->
<span class="application">PL/Tcl</span>をシンプル文字列ではなく、Tclの<span class="quote">「<span class="quote">object</span>」</span> <acronym class="acronym">API</acronym>を使うように現代化しました。
(Jim Nasby, Karl Lehenbauer)
       </p><p>
<!--
        This can improve performance substantially in some cases.
        Note that <application>PL/Tcl</application> now requires Tcl 8.4 or later.
-->
これは一部のケースで性能をかなり改善できます。
今後は<span class="application">PL/Tcl</span>はTcl 8.4以上を必要とすることに注意してください。
       </p></li><li class="listitem"><!--
2016-03-25 [fb8d2a7f5] In PL/Tcl, make database errors return additional info i
2016-03-25 [cd37bb785] Improve PL/Tcl errorCode facility by providing decoded n
--><p>
<!--
        In <application>PL/Tcl</application>, make database-reported errors return
        additional information in Tcl's <varname>errorCode</varname> global
        variable (Jim Nasby, Tom Lane)
-->
<span class="application">PL/Tcl</span>でデータベースの報告するエラーが、Tclの<code class="varname">errorCode</code>グローバル変数で追加情報を返すようにしました。
(Jim Nasby, Tom Lane)
       </p><p>
<!--
        This feature follows the Tcl convention for returning auxiliary
        data about an error.
-->
この機能はエラーについての補助データを返すときのTclの習慣に従っています。
       </p></li><li class="listitem"><!--
2016-03-02 [c8c7c93de] Fix PL/Tcl's encoding conversion logic.
--><p>
<!--
        Fix <application>PL/Tcl</application> to perform encoding conversion between
        the database encoding and <literal>UTF-8</literal>, which is what Tcl
        expects (Tom Lane)
-->
データベースエンコーディングとTclが期待する<code class="literal">UTF-8</code>との間でエンコーディング変換をするように<span class="application">PL/Tcl</span>を修正しました。
(Tom Lane)
       </p><p>
<!--
        Previously, strings were passed through without conversion,
        leading to misbehavior with non-<literal>ASCII</literal> characters when
        the database encoding was not <literal>UTF-8</literal>.
-->
これまでは、文字列が変換無しに素通しで渡されていて、データベースエンコーディングが<code class="literal">UTF-8</code>でないとき、非<code class="literal">ASCII</code>文字で誤動作の原因となりました。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.11"><div class="titlepage"><div><div><h4 class="title">E.21.3.9. クライアントインタフェース</h4></div></div></div><!--
    <title>Client Interfaces</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-08-26 [e796d0aba] Add a nonlocalized version of the severity field to clie
--><p>
<!--
        Add a nonlocalized version of
        the <link linkend="protocol-error-fields">severity field</link> in
        error and notice messages (Tom Lane)
-->
エラーおよび通知メッセージに<a class="link" href="protocol-error-fields.html" title="53.8. エラーおよび警報メッセージフィールド">深刻度フィールド</a>の非ローカライズ版を加えました。
(Tom Lane)
       </p><p>
<!--
        This change allows client code to determine severity of an error or
        notice without having to worry about localized variants of the
        severity strings.
-->
この変更はクライアントコードが深刻度をあらわす文字列のローカライズ変形を懸念することなくエラーまたは通知の深刻度を判断できるようにします。
       </p></li><li class="listitem"><!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under psql and PL/pgSQL
--><p>
<!--
        Introduce a feature in <application>libpq</application> whereby the
        <literal>CONTEXT</literal> field of messages can be suppressed, either
        always or only for non-error messages (Pavel Stehule)
-->
常に、あるいは非エラーメッセージ限定、のいずれかでメッセージの<code class="literal">CONTEXT</code>フィールドを抑止できる機能を<span class="application">libpq</span>に導入しました。
(Pavel Stehule)
       </p><p>
<!--
        The default behavior of <link
        linkend="libpq-pqerrormessage"><function>PQerrorMessage()</function></link>
        is now to print <literal>CONTEXT</literal>
        only for errors.  The new function <link
        linkend="libpq-pqseterrorcontextvisibility"><function>PQsetErrorContextVisibility()</function></link>
        can be used to adjust this.
-->
<a class="link" href="libpq-status.html#LIBPQ-PQERRORMESSAGE"><code class="function">PQerrorMessage()</code></a>の現在のデフォルト動作では、エラーについてのみ<code class="literal">CONTEXT</code>を出力します。
新たな関数<a class="link" href="libpq-control.html#LIBPQ-PQSETERRORCONTEXTVISIBILITY"><code class="function">PQsetErrorContextVisibility()</code></a>でこれを調節できます。
       </p></li><li class="listitem"><!--
2016-04-03 [e3161b231] Add libpq support for recreating an error message with d
--><p>
<!--
        Add support in <application>libpq</application> for regenerating an error
        message with a different verbosity level (Alex Shulgin)
-->
<span class="application">libpq</span>で異なる冗長度でのエラーメッセージ再生成に対応しました。
(Alex Shulgin)
       </p><p>
<!--
        This is done with the new function <link
        linkend="libpq-pqresultverboseerrormessage"><function>PQresultVerboseErrorMessage()</function></link>.
        This supports <application>psql</application>'s new <literal>\errverbose</literal>
        feature, and may be useful for other clients as well.
-->
これは新たな関数<a class="link" href="libpq-exec.html#LIBPQ-PQRESULTVERBOSEERRORMESSAGE"><code class="function">PQresultVerboseErrorMessage()</code></a>で行われます。
これは<span class="application">psql</span>の新たな<code class="literal">\errverbose</code>機能を下支えします。また、他のクライアントにとってもおそらく有益でしょう。
       </p></li><li class="listitem"><!--
2015-11-27 [40cb21f70] Improve PQhost() to return useful data for default Unix-
--><p>
<!--
        Improve <application>libpq</application>'s <link
        linkend="libpq-pqhost"><function>PQhost()</function></link> function to return
        useful data for default Unix-socket connections (Tom Lane)
-->
デフォルトのUnixソケット接続において有益なデータを返すように、<span class="application">libpq</span>の<a class="link" href="libpq-status.html#LIBPQ-PQHOST"><code class="function">PQhost()</code></a>関数を改善しました。
(Tom Lane)
       </p><p>
<!--
        Previously it would return <literal>NULL</literal> if no explicit host
        specification had been given; now it returns the default socket
        directory path.
-->
明示的なホスト指定が与えられていない場合、これまでは<code class="literal">NULL</code>を返していましたが、これからはデフォルトのソケットディレクトリのパスを返します。
       </p></li><li class="listitem"><!--
2016-02-16 [fc1ae7d2e] Change ecpg lexer to accept comments with line breaks in
--><p>
<!--
        Fix <application>ecpg</application>'s lexer to handle line breaks within
        comments starting on preprocessor directive lines (Michael Meskes)
-->
<span class="application">ecpg</span>の字句解析が、プリプロセッサディレクティブの行のコメント文字列内の改行を扱えるように修正しました。
(Michael Meskes)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.12"><div class="titlepage"><div><div><h4 class="title">E.21.3.10. クライアントアプリケーション</h4></div></div></div><!--
    <title>Client Applications</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-09-14 [d02426029] Check existency of table/schema for -t/-n option (pg_dum
--><p>
<!--
        Add a <option>&#045;&#045;strict-names</option> option
        to <link linkend="app-pgdump"><application>pg_dump</application></link>
        and <link linkend="app-pgrestore"><application>pg_restore</application></link>
        (Pavel Stehule)
-->
<a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a>と<a class="link" href="app-pgrestore.html" title="pg_restore"><span class="application">pg_restore</span></a>に<code class="option">--strict-names</code>オプションを加えました。
(Pavel Stehule)
       </p><p>
<!--
        This option causes the program to complain if there is no match
        for a <option>-t</option> or <option>-n</option> option, rather
        than silently doing nothing.
-->
このオプションはプログラムに<code class="option">-t</code>または<code class="option">-n</code>にマッチするものが無いなら、静かに何もしないのではなく苦情を言うようにさせます。
       </p></li><li class="listitem"><!--
2016-04-06 [a9f0e8e5a] In pg_dump, use a bitmap to represent what to include
2016-04-06 [d217b2c36] In pg_dump, split "dump" into "dump" and "dump_contains"
2016-04-06 [23f34fa4b] In pg_dump, include pg_catalog and extension ACLs, if ch
2016-05-06 [5d589993c] pg_dump performance and other fixes
2016-05-06 [e1b120a8c] Only issue LOCK TABLE commands when necessary
--><p>
<!--
        In <application>pg_dump</application>, dump locally-made changes of privilege
        assignments for system objects (Stephen Frost)
-->
<span class="application">pg_dump</span>で、システムオブジェクトへの権限割り当てのローカルな変更をダンプするようにしました。
(Stephen Frost)
       </p><p>
<!--
        While it has always been possible for a superuser to change
        the privilege assignments for built-in or extension-created
        objects, such changes were formerly lost in a dump and reload.
        Now, <application>pg_dump</application> recognizes and dumps such changes.
        (This works only when dumping from a 9.6 or later server, however.)
-->
組み込みの、あるいは、拡張で作られたオブジェクトの権限割り当てを変更することはスーパーユーザで常に可能でしたが、そのような変更は以前はダンプとリストアで失われました。
これからは、<span class="application">pg_dump</span>がそのような変更を認識してダンプします。
（しかしながら、これは9.6以降のサーバからダンプするときだけ動作します。）
       </p></li><li class="listitem"><!--
2016-09-08 [31eb14504] Allow pg_dump to dump non-extension members of an extens
--><p>
<!--
        Allow <application>pg_dump</application> to dump non-extension-owned objects
        that are within an extension-owned schema
        (Mart&iacute;n Marqu&eacute;s)
-->
<span class="application">pg_dump</span>で、拡張が所有するスキーマに含まれる、拡張が所有していないオブジェクトをダンプできるようにしました。
(Martín Marqués)
       </p><p>
<!--
        Previously such objects were ignored because they were mistakenly
        assumed to belong to the extension owning their schema.
-->
これまでは誤ってスキーマを所有している拡張に属しているとみなされて、このようなオブジェクトは無視されました。
       </p></li><li class="listitem"><!--
2016-04-06 [3b3fcc4ee] pg_dump: Add table qualifications to some tags
--><p>
<!--
        In <application>pg_dump</application> output, include the table name in object
        tags for object types that are only uniquely named per-table
        (for example, triggers) (Peter Eisentraut)
-->
<span class="application">pg_dump</span>の出力で、テーブル毎においてだけ一意の名前がつくオブジェクトタイプ（例えばトリガー）のオブジェクトタグにテーブル名を含めるようにしました。
(Peter Eisentraut)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.25.5.12.3"><div class="titlepage"><div><div><h5 class="title">E.21.3.10.1. <a class="xref" href="app-psql.html" title="psql"><span class="refentrytitle"><span class="application">psql</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-12-08 [d5563d7df] psql: Support multiple -c and -f options, and allow mixi
this commit is also listed in the compatibility section
--><p>
<!--
        Support multiple <option>-c</option> and <option>-f</option>
        command-line options (Pavel Stehule, Catalin Iacob)
-->
複数の<code class="option">-c</code>と<code class="option">-f</code>コマンドラインオプションに対応しました。
(Pavel Stehule, Catalin Iacob)
       </p><p>
<!--
        The specified operations are carried out in the order in which the
        options are given, and then <application>psql</application> terminates.
-->
指定した操作は与えられたオプションの順に実行され、その後<span class="application">psql</span>が終了します。
       </p></li><li class="listitem"><!--
2016-04-08 [c09b18f21] Support \crosstabview in psql
--><p>
<!--
        Add a <command>\crosstabview</command> command that prints the results of
        a query in a cross-tabulated display (Daniel V&eacute;rit&eacute;)
-->
問い合わせ結果をクロス表表示で出力する<code class="command">\crosstabview</code>コマンドを追加しました。
       </p><p>
<!--
        In the crosstab display, data values from one query result column
        are placed in a grid whose column and row headers come from other
        query result columns.
-->
クロス表表示では、ひとつの問い合わせの結果列のデータ値が出力表に配置されます。出力表の行、列のヘッダは問い合わせの別の結果列からきています。
       </p></li><li class="listitem"><!--
2016-04-03 [3cc38ca7d] Add psql \errverbose command to see last server error at
--><p>
<!--
        Add an <literal>\errverbose</literal> command that shows the last server
        error at full verbosity (Alex Shulgin)
-->
最大の冗長度で最後のサーバエラーを表示する<code class="literal">\errverbose</code>コマンドを追加しました。
(Alex Shulgin)
       </p><p>
<!--
        This is useful after getting an unexpected error &mdash; you
        no longer need to adjust the <varname>VERBOSITY</varname> variable and
        recreate the failure in order to see error fields that are not
        shown by default.
-->
予期せぬエラーを受け取った後、これは便利です。
もはや、<code class="varname">VERBOSITY</code>変数を調整してデフォルトでは見られないエラーフィールドを見るために失敗を再現する必要はありません。
       </p></li><li class="listitem"><!--
2015-07-03 [8eb6407aa] Add psql \ev and \sv commands for editing and showing vi
2016-05-06 [9b66aa006] Fix psql's \ev and \sv commands so that they handle view
--><p>
<!--
        Add <literal>\ev</literal> and <literal>\sv</literal> commands for editing and
        showing view definitions (Petr Korobeinikov)
-->
ビュー定義の編集と表示をする<code class="literal">\ev</code>および<code class="literal">\sv</code>コマンドを追加しました。
(Petr Korobeinikov)
       </p><p>
<!--
        These are parallel to the existing <literal>\ef</literal> and
        <literal>\sf</literal> commands for functions.
-->
これらは関数に対する既存の<code class="literal">\ef</code>および<code class="literal">\sf</code>コマンドに対応するものです。
       </p></li><li class="listitem"><!--
2016-04-04 [2bbe9112a] Add a \gexec command to psql for evaluation of computed
--><p>
<!--
        Add a <command>\gexec</command> command that executes a query and
        re-submits the result(s) as new queries (Corey Huinker)
-->
問い合わせを実行して、その結果を新たな問い合わせとして再実行する<code class="command">\gexec</code>コマンドを追加しました。
(Corey Huinker)
       </p></li><li class="listitem"><!--
2015-10-05 [2145a7660] psql:  allow \pset C in setting the title, matches \C
--><p>
<!--
        Allow <literal>\pset C <replaceable>string</replaceable></literal>
        to set the table title, for consistency with <literal>\C
        <replaceable>string</replaceable></literal> (Bruce Momjian)
-->
<code class="literal">\C <em class="replaceable"><code>string</code></em></code>との一貫性のため、<code class="literal">\pset C <em class="replaceable"><code>string</code></em></code>でテーブルタイトルを設定できるようにしました。
(Bruce Momjian)
       </p></li><li class="listitem"><!--
2016-03-11 [69ab7b9d6] psql: Don't automatically use expanded format when there
--><p>
<!--
        In <literal>\pset expanded auto</literal> mode, do not use expanded
        format for query results with only one column (Andreas Karlsson,
        Robert Haas)
-->
<code class="literal">\pset expanded auto</code>モードで、一つだけの列からなる問い合わせ結果については拡張書式を使わないようにしました。
(Andreas Karlsson, Robert Haas)
       </p></li><li class="listitem"><!--
2016-03-21 [dea2b5960] Improve header output from psql's \watch command.
2016-06-15 [9901d8ac2] Use strftime("%c") to format timestamps in psql's \watch
--><p>
<!--
        Improve the headers output by the <command>\watch</command> command
        (Michael Paquier, Tom Lane)
-->
<code class="command">\watch</code>コマンドによるヘッダ出力を改善しました。
(Michael Paquier, Tom Lane)
       </p><p>
<!--
        Include the <command>\pset title</command> string if one has
        been set, and shorten the prefabricated part of the
        header to be <literal><replaceable>timestamp</replaceable> (every
        <replaceable>N</replaceable>s)</literal>.  Also, the timestamp format now
        obeys <application>psql</application>'s locale environment.
-->
<code class="command">\pset title</code>の文字列がセットされていたならをそれをヘッダ出力に含めます。また、ヘッダの規格通りの部分を<code class="literal"><em class="replaceable"><code>timestamp</code></em> (every <em class="replaceable"><code>N</code></em>s)</code>と、短くしました。
また、タイムスタンプ書式は<span class="application">psql</span>のロケール環境に従うようになります。
       </p></li><li class="listitem"><!--
2015-12-20 [d854118c8] Teach psql's tab completion to consider the entire input
--><p>
<!--
        Improve tab-completion logic to consider the entire input query,
        not only the current line (Tom Lane)
-->
現在行だけでなく入力の問い合わせ全体を考慮するようにタブ補完ロジックを改善しました。
(Tom Lane)
       </p><p>
<!--
        Previously, breaking a command into multiple lines defeated any
        tab completion rules that needed to see words on earlier lines.
-->
これまではコマンドが複数行に分かれることで、手前の行の語を見る必要のある全てのタブ補完ルールが無効になっていました。
       </p></li><li class="listitem"><!--
2015-08-04 [158e3bc8e] Tab completion for CREATE SEQUENCE.
2015-09-08 [3ae16798f] psql: Generic tab completion support for enum and bool G
2015-09-09 [2f8880704] Improve tab-completion for GRANT and REVOKE.
2015-10-01 [bf4817e4f] Fix incorrect tab-completion for GRANT and REVOKE
2015-10-20 [7c0b49cd0] Tab complete CREATE EXTENSION .. VERSION.
2015-12-25 [8014c44e8] Improve SECURITY LABEL tab completion
2016-01-12 [bc56d5898] psql: Fix CREATE INDEX tab completion
2016-01-12 [b1bfb28b5] psql: Improve CREATE INDEX CONCURRENTLY tab completion
2016-01-16 [4189e3d65] psql: Add completion support for DROP INDEX CONCURRENTLY
2016-01-20 [d0f2f53cd] psql: Add tab completion for COPY with query
2016-01-23 [6ae4c8de0] psql: Improve completion of FDW DDL commands
2016-01-26 [879d71393] Various fixes to REFRESH MATERIALIZED VIEW tab completio
2016-02-01 [89611c4df] Various fixes to "ALTER ... SET/RESET" tab completions
--><p>
<!--
        Numerous minor improvements in tab-completion behavior (Peter
        Eisentraut, Vik Fearing, Kevin Grittner, Kyotaro Horiguchi, Jeff
        Janes, Andreas Karlsson, Fujii Masao, Thomas Munro, Masahiko
        Sawada, Pavel Stehule)
-->
タブ補完動作の多数の細かな改善。
(Peter Eisentraut, Vik Fearing, Kevin Grittner, Kyotaro Horiguchi, Jeff Janes, Andreas Karlsson, Fujii Masao, Thomas Munro, Masahiko Sawada, Pavel Stehule)
       </p></li><li class="listitem"><!--
2015-07-07 [275f05c99] Add psql PROMPT variable showing the pid of the connecte
--><p>
<!--
        Add a <literal>PROMPT</literal> option <literal>%p</literal> to insert the
        process ID of the connected backend (Julien Rouhaud)
-->
接続されたバックエンドのプロセスIDを挿入する<code class="literal">PROMPT</code>オプション<code class="literal">%p</code>を追加しました。
(Julien Rouhaud)
       </p></li><li class="listitem"><!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under libpq and PL/pgSQL
--><p>
<!--
        Introduce a feature whereby the <literal>CONTEXT</literal> field of
        messages can be suppressed, either always or only for non-error
        messages (Pavel Stehule)
-->
常に、あるいは非エラーメッセージ限定、のいずれかでメッセージの<code class="literal">CONTEXT</code>フィールドを抑止できる機能を導入しました。
(Pavel Stehule)
       </p><p>
<!--
        Printing <literal>CONTEXT</literal> only for errors is now the default
        behavior.  This can be changed by setting the special variable
        <varname>SHOW_CONTEXT</varname>.
-->
現在のデフォルト動作ではエラーの場合のみ<code class="literal">CONTEXT</code>を出力します。
特別変数<code class="varname">SHOW_CONTEXT</code>を設定することでこれを変更できます。
       </p></li><li class="listitem"><!--
2016-07-11 [a670c24c3] Improve output of psql's \df+ command.
--><p>
<!--
        Make <command>\df+</command> show function access privileges and
        parallel-safety attributes (Michael Paquier)
-->
<code class="command">\df+</code>が関数のアクセス権限とパラレルセーフ属性を表示するようにしました。
(Michael Paquier)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.25.5.12.4"><div class="titlepage"><div><div><h5 class="title">E.21.3.10.2. <a class="xref" href="pgbench.html" title="pgbench"><span class="refentrytitle"><span class="application">pgbench</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-20 [68ab8e8ba] SQL commands in pgbench scripts are now ended by semicol
--><p>
<!--
        SQL commands in <application>pgbench</application> scripts are now ended by
        semicolons, not newlines (Kyotaro Horiguchi, Tom Lane)
-->
<span class="application">pgbench</span>スクリプト内のSQLコマンドは改行ではなく、セミコロンで終了するものとしました。
(Kyotaro Horiguchi, Tom Lane)
       </p><p>
<!--
        This change allows SQL commands in scripts to span multiple lines.
        Existing custom scripts will need to be modified to add a semicolon
        at the end of each line that does not have one already.  (Doing so
        does not break the script for use with older versions
        of <application>pgbench</application>.)
-->
この変更はスクリプト内の複数行にわたるSQLコマンドを可能にします。
現存のカスタムスクリプトは、各行末にセミコロンが未だ無ければ加える修正が必要でしょう。
（そのようにすることは、旧バージョン<span class="application">pgbench</span>むけのスクリプトを壊しません）
       </p></li><li class="listitem"><!--
2016-03-01 [7e137f846] Extend pgbench's expression syntax to support a few buil
2016-03-28 [86c43f4e2] pgbench: Support double constants and functions.
2016-05-05 [7a622b273] Rename pgbench min/max to least/greatest, and fix handli
2016-05-06 [951529948] Improve handling of numeric-valued variables in pgbench.
--><p>
<!--
        Support floating-point arithmetic, as well as some <link
        linkend="pgbench-builtin-functions">built-in functions</link>, in
        expressions in backslash commands (Fabien Coelho)
-->
バックスラッシュコマンドの式で<a class="link" href="pgbench.html#PGBENCH-BUILTIN-FUNCTIONS" title="組み込み関数">組み込み関数</a>、および、浮動小数点演算に対応しました。
(Fabien Coelho)
       </p></li><li class="listitem"><!--
2016-03-29 [ad9566470] pgbench: Remove \setrandom.
--><p>
<!--
        Replace <command>\setrandom</command> with built-in functions (Fabien
        Coelho)
-->
<code class="command">\setrandom</code>を組み込み関数で置き換えました。
(Fabien Coelho)
       </p><p>
<!--
        The new built-in functions include <link
        linkend="pgbench-functions"><function>random()</function></link>,
        <function>random_exponential()</function>, and
        <function>random_gaussian()</function>, which perform the same work as
        <command>\setrandom</command>, but are easier to use since they can be
        embedded in larger expressions.  Since these additions have made
        <command>\setrandom</command> obsolete, remove it.
-->
新たに組み込み関数<a class="link" href="pgbench.html#PGBENCH-FUNCTIONS" title="表243 pgbenchの関数"><code class="function">random()</code></a>、<code class="function">random_exponential()</code>、<code class="function">random_gaussian()</code>を追加しました。
これらは<code class="command">\setrandom</code>と同じ働きをしますが、大きい式に組み入れることができるのでより使いやすいです。
これら関数の追加で不要になったため、<code class="command">\setrandom</code>を除去しました。
       </p></li><li class="listitem"><!--
2016-01-27 [8bea3d221] pgbench: improve multi-script support
2016-03-03 [d561f1cae] pgbench: accept unambiguous builtin prefixes for -b
--><p>
<!--
        Allow invocation of multiple copies of the built-in scripts,
        not only custom scripts (Fabien Coelho)
-->
カスタムスクリプトだけでなく、組み込みのスクリプトの複数の複製を起動できるようにしました。
(Fabien Coelho)
       </p><p>
<!--
        This is done with the new <option>-b</option> switch, which works
        similarly to <option>-f</option> for custom scripts.
-->
これは<code class="option">-f</code>と似たように働く、カスタムスクリプトむけの新たな<code class="option">-b</code>スイッチにより実行されます。
       </p></li><li class="listitem"><!--
2016-03-19 [7bafffea6] pgbench: Allow changing weights for scripts
2016-09-21 [970300faa] Print test parameters like "foo: 123", and results like
--><p>
<!--
        Allow changing the selection probabilities (weights) for scripts
        (Fabien Coelho)
-->
スクリプトの選択率（重み）を変更できるようにしました。
(Fabien Coelho)
       </p><p>
<!--
        When multiple scripts are specified, each <application>pgbench</application>
        transaction randomly chooses one to execute.  Formerly this was
        always done with uniform probability, but now different selection
        probabilities can be specified for different scripts.
-->
複数スクリプトが指定されたとき、各<span class="application">pgbench</span>トランザクションは実行するものをランダムに選びます。
これまでこれは常に均等な確率で行われていましたが、これからは異なるスクリプトに異なる選択率を指定することができます。
       </p></li><li class="listitem"><!--
2016-02-01 [1d0c3b3f8] pgbench: allow per-script statistics
--><p>
<!--
        Collect statistics for each script in a multi-script run (Fabien
        Coelho)
-->
複数スクリプトの実行において、各スクリプトむけに統計情報を収集するようにしました。
(Fabien Coelho)
       </p><p>
<!--
        This feature adds an intermediate level of detail to existing
        global and per-command statistics printouts.
-->
この機能は既にある全体統計とコマンド毎統計に対して、中間の詳細度を追加します。
       </p></li><li class="listitem"><!--
2015-09-16 [1def9063c] pgbench progress with timestamp
--><p>
<!--
        Add a <option>&#045;&#045;progress-timestamp</option> option to report progress
        with Unix epoch timestamps, instead of time since the run started
        (Fabien Coelho)
-->
実行開始からの時間の代わりにUnixエポックタイムスタンプで進行を報告する<code class="option">--progress-timestamp</code>オプションを追加しました。
(Fabien Coelho)
       </p></li><li class="listitem"><!--
2015-07-03 [ba3deeefb] Lift the limitation that # of clients must be a multiple
--><p>
<!--
        Allow the number of client connections (<option>-c</option>) to not
        be an exact multiple of the number of threads (<option>-j</option>)
        (Fabien Coelho)
-->
クライアント接続数(<code class="option">-c</code>)がスレッド数(<code class="option">-j</code>)の倍数でなくてもよくしました。
(Fabien Coelho)
       </p></li><li class="listitem"><!--
2016-03-09 [accf7616f] pgbench: When -T is used, don't wait for transactions be
--><p>
<!--
        When the <option>-T</option> option is used, stop promptly at the end
        of the specified time (Fabien Coelho)
-->
<code class="option">-T</code>オプションが使われているとき、指定時間の終わりで直ちに終了するようにしました。
(Fabien Coelho)
       </p><p>
<!--
        Previously, specifying a low transaction rate could cause
        <application>pgbench</application> to wait significantly longer than
        specified.
-->
これまでは、低いトランザクションレートが指定されていると<span class="application">pgbench</span>が指定よりもかなり長く待つ可能性がありました。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.25.5.13"><div class="titlepage"><div><div><h4 class="title">E.21.3.11. サーバアプリケーション</h4></div></div></div><!--
    <title>Server Applications</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-12-17 [66d947b9d] Adjust behavior of single-user -j mode for better initdb
--><p>
<!--
        Improve error reporting during <application>initdb</application>'s
        post-bootstrap phase (Tom Lane)
-->
<span class="application">initdb</span>のブートストラップ後フェーズにおけるエラー報告を改善しました。
(Tom Lane)
       </p><p>
<!--
        Previously, an error here led to reporting the entire input
        file as the <quote>failing query</quote>; now just the current
        query is reported.  To get the desired behavior, queries in
        <application>initdb</application>'s input files must be separated by blank
        lines.
-->
これまでは、ここでのエラーは入力ファイル全体を<span class="quote">「<span class="quote">失敗している問い合わせ</span>」</span>として報告するものになっていました。
これからは、現在の問い合わせだけが報告されます。
この望まれる動作を得るため、<span class="application">initdb</span>の入力ファイルの問い合わせは空行で区切られなければなりません。
       </p></li><li class="listitem"><!--
2015-12-17 [c4a8812cf] Use just one standalone-backend session for initdb's pos
2016-08-30 [d9720e437] Fix initdb misbehavior when user mis-enters superuser pa
--><p>
<!--
        Speed up <application>initdb</application> by using just one
        standalone-backend session for all the post-bootstrap steps
        (Tom Lane)
-->
ブートストラップ後の処理の全てに単一のスタンドアローンバックエンドセッションを使うことで<span class="application">initdb</span>を高速化しました。
       </p></li><li class="listitem"><!--
2015-12-01 [e50cda784] Use pg_rewind when target timeline was switched
--><p>
<!--
        Improve <link linkend="app-pgrewind"><application>pg_rewind</application></link>
        so that it can work when the target timeline changes (Alexander
        Korotkov)
-->
ターゲットタイムラインが変化するときでも動作するように<a class="link" href="app-pgrewind.html" title="pg_rewind"><span class="application">pg_rewind</span></a>を改善しました。
(Alexander Korotkov)
       </p><p>
<!--
        This allows, for example, rewinding a promoted standby back to
        some state of the old master's timeline.
-->
例えば、昇格したスタンバイを旧マスタのタイムラインのどこかの状態に巻き戻すことができます。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.14"><div class="titlepage"><div><div><h4 class="title">E.21.3.12. ソースコード</h4></div></div></div><!--
    <title>Source Code</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-07-02 [726117243] Remove obsolete heap_formtuple/modifytuple/deformtuple f
--><p>
<!--
        Remove obsolete
        <function>heap_formtuple</function>/<function>heap_modifytuple</function>/<function>heap_deformtuple</function>
        functions (Peter Geoghegan)
-->
廃れた<code class="function">heap_formtuple</code>/<code class="function">heap_modifytuple</code>/<code class="function">heap_deformtuple</code>関数を除去しました。
(Peter Geoghegan)
       </p></li><li class="listitem"><!--
2016-08-27 [b9fe6cbc8] Add macros to make AllocSetContextCreate() calls simpler
--><p>
<!--
        Add macros to make <function>AllocSetContextCreate()</function> calls simpler
        and safer (Tom Lane)
-->
<code class="function">AllocSetContextCreate()</code>呼び出しをシンプルで安全にするマクロを追加しました。
(Tom Lane)
       </p><p>
<!--
        Writing out the individual sizing parameters for a memory context
        is now deprecated in favor of using one of the new
        macros <symbol>ALLOCSET_DEFAULT_SIZES</symbol>,
        <symbol>ALLOCSET_SMALL_SIZES</symbol>,
        or <symbol>ALLOCSET_START_SMALL_SIZES</symbol>.
        Existing code continues to work, however.
-->
新たなマクロ<code class="symbol">ALLOCSET_DEFAULT_SIZES</code>、<code class="symbol">ALLOCSET_SMALL_SIZES</code>、<code class="symbol">ALLOCSET_START_SMALL_SIZES</code>の一つを使うことが推奨され、メモリコンテキストむけに個別のサイズパラメータを書き出すことは非推奨となりました。
しかしながら、既存のコードは引き続き動作します。
       </p></li><li class="listitem"><!--
2015-08-05 [de6fd1c89] Rely on inline functions even if that causes warnings in
--><p>
<!--
        Unconditionally use <literal>static inline</literal> functions in header
        files (Andres Freund)
-->
ヘッダファイルに無条件で<code class="literal">static inline</code>関数を使うようにしました。
(Andres Freund)
       </p><p>
<!--
        This may result in warnings and/or wasted code space with very
        old compilers, but the notational improvement seems worth it.
-->
これはとても古いコンパイラでは警告および/または無駄なコードスペースをもたらすかもしれませんが、表記法の改善はそうするだけの価値があると思われます。
       </p></li><li class="listitem"><!--
2015-07-29 [13d856e17] Make TAP tests work on Windows.
2015-12-02 [1caef31d9] Refactor Perl test code
2015-12-07 [9821492ee] Cleanup some problems in new Perl test code
2016-03-03 [2c83f435a] Rework PostgresNode's psql method
2016-02-26 [49148645f] Add a test framework for recovery
2016-02-26 [74d58425c] Apply last revision of recovery patch
2016-05-06 [6bd356c33] Add TAP tests for pg_dump
--><p>
<!--
        Improve <application>TAP</application> testing infrastructure (Michael
        Paquier, Craig Ringer, &Aacute;lvaro Herrera, Stephen Frost)
-->
<span class="application">TAP</span>テスト基盤を改善しました。
(Michael Paquier, Craig Ringer, Álvaro Herrera, Stephen Frost)
       </p><p>
<!--
        Notably, it is now possible to test recovery scenarios using
        this infrastructure.
-->
特に、この基盤を使ってリカバリシナリオをテストできるようになりました。
       </p></li><li class="listitem"><!--
2015-09-11 [aa65de042] When trace_lwlocks is used, identify individual lwlocks
--><p>
<!--
        Make <varname>trace_lwlocks</varname> identify individual locks by name
        (Robert Haas)
-->
<code class="varname">trace_lwlocks</code>が各ロックを名前で識別するようにしました。
(Robert Haas)
       </p></li><li class="listitem"><!--
2015-12-19 [d37b816dc] Adopt a more compact, less error-prone notation for tab
2016-01-04 [9b181b036] In psql's tab completion, change most TailMatches patter
2016-01-05 [4f18010af] Convert psql's tab completion for backslash commands to
--><p>
<!--
        Improve <application>psql</application>'s tab-completion code infrastructure
        (Thomas Munro, Michael Paquier)
-->
<span class="application">psql</span>のタブ補完のコード基盤を改善しました。
(Thomas Munro, Michael Paquier)
       </p><p>
<!--
        Tab-completion rules are now considerably easier to write, and
        more compact.
-->
タブ補完規則がかなり容易に書けるようになり、また、よりコンパクトになりました。
       </p></li><li class="listitem"><!--
2016-01-05 [efa318bcf] Make pg_shseclabel available in early backend startup
--><p>
<!--
        Nail the <structname>pg_shseclabel</structname> system catalog into cache,
        so that it is available for access during connection authentication
        (Adam Brightwell)
-->
接続認証の間のアクセスで利用可能になるように、<code class="structname">pg_shseclabel</code>システムカタログをキャッシュに釘づけにしました。
(Adam Brightwell)
       </p><p>
<!--
        The core code does not use this catalog for authentication,
        but extensions might wish to consult it.
-->
コアコードはこのカタログを認証に使いませんが、拡張が参照したいかもしれません。
       </p></li><li class="listitem"><!--
2016-01-17 [65c5fcd35] Restructure index access method API to hide most of it a
2016-01-21 [be44ed27b] Improve index AMs' opclass validation procedures.
2016-08-13 [ed0097e4f] Add SQL-accessible functions for inspecting index AM pro
--><p>
<!--
        Restructure <link linkend="indexam">index access
        method <acronym>API</acronym></link> to hide most of it at
        the <application>C</application> level (Alexander Korotkov, Andrew Gierth)
-->
<span class="application">C</span>レベルの大部分を隠すように<a class="link" href="indexam.html" title="第61章 インデックスアクセスメソッドのインタフェース定義">インデックスアクセスメソッド<acronym class="acronym">API</acronym></a>再構築しました。
(Alexander Korotkov, Andrew Gierth)
       </p><p>
<!--
        This change modernizes the index <acronym>AM API</acronym> to look more
        like the designs we have adopted for foreign data wrappers and
        tablesample handlers.  This simplifies the <application>C</application> code
        and makes it much more practical to define index access methods in
        installable extensions.  A consequence is that most of the columns
        of the <structname>pg_am</structname> system catalog have disappeared.
        New <link linkend="functions-info-catalog-table">inspection
        functions</link> have been added to allow SQL queries to determine
        index AM properties that used to be discoverable
        from <structname>pg_am</structname>.
-->
本変更はインデックス<acronym class="acronym">AM API</acronym>を外部データラッパーやテーブルサンプルハンドラに適用したデザインと同様に現代化します。
これは<span class="application">C</span>コードをシンプルにし、組み込み可能な拡張でインデックスアクセスメソッドを定義することをより実用的にします。
結果として、大部分の<code class="structname">pg_am</code>システムカタログの列はなくなりました。
インデックスAMのこれまで<code class="structname">pg_am</code>にあった属性情報をSQL問い合わせで調べることができる新たな<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表9.63 システムカタログ情報関数">検査関数</a>が追加されました。
       </p></li><li class="listitem"><!--
2016-04-06 [6c268df12] Add new catalog called pg_init_privs
--><p>
<!--
        Add <link
        linkend="catalog-pg-init-privs"><structname>pg_init_privs</structname></link>
        system catalog to hold original privileges
        of <application>initdb</application>-created and extension-created objects
        (Stephen Frost)
-->
<span class="application">initdb</span>や拡張で作られたオブジェクトの元の権限を保持する<a class="link" href="catalog-pg-init-privs.html" title="52.28. pg_init_privs"><code class="structname">pg_init_privs</code></a>システムカタログを追加しました。
(Stephen Frost)
       </p><p>
<!--
        This infrastructure allows <application>pg_dump</application> to dump changes
        that an installation may have made in privileges attached to
        system objects.  Formerly, such changes would be lost in a dump
        and reload, but now they are preserved.
-->
この基盤は<span class="application">pg_dump</span>がインストレーションでシステムオブジェクトに加えられた権限の変更をダンプできるようにします。
以前はこのような変更はダンプとリロードで失われていましたが、これからは保存されます。
       </p></li><li class="listitem"><!--
2016-02-04 [c1772ad92] Change the way that LWLocks for extensions are allocated
--><p>
<!--
        Change the way that extensions allocate custom <literal>LWLocks</literal>
        (Amit Kapila, Robert Haas)
-->
拡張がカスタム<code class="literal">LWLocks</code>を割り当てる方法を変更しました。
(Amit Kapila, Robert Haas)
       </p><p>
<!--
        The <function>RequestAddinLWLocks()</function> function is removed,
        and replaced by <function>RequestNamedLWLockTranche()</function>.
        This allows better identification of custom <literal>LWLocks</literal>,
        and is less error-prone.
-->
<code class="function">RequestAddinLWLocks()</code>関数は削除され、<code class="function">RequestNamedLWLockTranche()</code>に置き換えられました。
これによりカスタム<code class="literal">LWLocks</code>の識別を改善し、間違いやすさを軽減します。
       </p></li><li class="listitem"><!--
2016-02-11 [38f8bdcac] Modify the isolation tester so that multiple sessions ca
--><p>
<!--
        Improve the isolation tester to allow multiple sessions to wait
        concurrently, allowing testing of deadlock scenarios (Robert Haas)
-->
複数セッションが同時に待機できるように隔離テスタを改善して、デッドロックシナリオのテストが可能になります。
(Robert Haas)
       </p></li><li class="listitem"><!--
2016-02-12 [bcac23de7] Introduce extensible node types.
--><p>
<!--
        Introduce extensible node types (KaiGai Kohei)
-->
拡張可能なノードタイプを導入しました。
(KaiGai Kohei)
       </p><p>
<!--
        This change allows <application>FDW</application>s or custom scan providers
        to store data in a plan tree in a more convenient format than
        was previously possible.
-->
本変更は<span class="application">FDW</span>あるいはカスタムスキャンプロバイダがプランツリーに従来可能なものよりも便利な形式でデータを置けるようにします。
       </p></li><li class="listitem"><!--
2015-08-11 [68fa28f77] Postpone extParam/allParam calculations until the very e
2016-01-07 [c44d01383] Delay creation of subplan tlist until after create_plan(
2016-02-18 [19a541143] Add an explicit representation of the output targetlist
2016-03-07 [3fc6e2d7f] Make the upper part of the planner work by generating an
2016-07-01 [5ce5e4a12] Set consider_parallel correctly for upper planner rels.
2016-07-01 [9e703987a] Rethink the GetForeignUpperPaths API (again).
--><p>
<!--
        Make the planner deal with post-scan/join query steps by generating
        and comparing <literal>Paths</literal>, replacing a lot of ad-hoc logic
        (Tom Lane)
-->
プランナがスキャン/結合後の問い合わせ処理段階で<code class="literal">Paths</code>を生成比較することで処理するようにし、多数のアドホックなロジックと置き換えました。
(Tom Lane)
       </p><p>
<!--
        This change provides only marginal user-visible improvements today,
        but it enables future work on a lot of upper-planner improvements
        that were impractical to tackle using the old code structure.
-->
この変更は現時点ではユーザに見える改善は僅かしかもたらしませんが、古いコード構造を用いた取り組みでは現実的でなかった、将来の多数の上位プランナ改良を可能にします。
       </p></li><li class="listitem"><!--
2016-01-20 [a7de3dc5c] Support multi-stage aggregation.
2016-06-22 [f8ace5477] Fix type-safety problem with parallel aggregate serial/d
2016-06-26 [19e972d55] Rethink node-level representation of partial-aggregation
--><p>
<!--
        Support partial aggregation (David Rowley, Simon Riggs)
-->
部分的な集約に対応しました。
(David Rowley, Simon Riggs)
       </p><p>
<!--
        This change allows the computation of an aggregate function to be
        split into separate parts, for example so that parallel worker
        processes can cooperate on computing an aggregate.  In future
        it might allow aggregation across local and remote data to occur
        partially on the remote end.
-->
本変更は、集約関数の計算を分割された部分に分けることを可能にし、それにより例えばパラレルワーカープロセスが一つの集約の計算を協力して実行できるようにします。
将来的には、ローカルとリモートのデータを横断した集約を部分的にリモート先で行うことが可能になるかもしれません。
       </p></li><li class="listitem"><!--
2016-03-09 [b6fb6471f] Add a generic command progress reporting facility.
--><p>
<!--
        Add a generic command progress reporting facility (Vinayak Pokale,
        Rahila Syed, Amit Langote, Robert Haas)
-->
汎用のコマンド進捗報告基盤を追加しました。
(Vinayak Pokale, Rahila Syed, Amit Langote, Robert Haas)
       </p></li><li class="listitem"><!--
2016-03-18 [27199058d] Convert psql's flex lexer to be re-entrant, and make it
2016-03-19 [0ea9efbe9] Split psql's lexer into two separate .l files for SQL an
2016-03-20 [b6afae71a] Use %option bison-bridge in psql/pgbench lexers.
2016-03-24 [588d963b0] Create src/fe_utils/, and move stuff into there from pg_
2016-03-24 [d65bea26a] Move psql's print.c and mbprint.c into src/fe_utils.
2016-03-24 [c1156411a] Move psql's psqlscan.l into src/fe_utils.
--><p>
<!--
        Separate out <application>psql</application>'s <application>flex</application> lexer to
        make it usable by other client programs (Tom Lane, Kyotaro
        Horiguchi)
-->
他のクライアントプログラムから使えるようにするため、<span class="application">psql</span>の<span class="application">flex</span>字句解析を分離しました。
(Tom Lane, Kyotaro Horiguchi)
       </p><p>
<!--
        This eliminates code duplication for programs that need to be able
        to parse SQL commands well enough to identify command boundaries.
        Doing that in full generality is more painful than one could
        wish, and up to now only <application>psql</application> has really gotten
        it right among our supported client programs.
-->
これはコマンド境界を識別するSQLコマンド解析を要するプログラムからコード重複を排除します。
完全な普遍性をもってこれを行うことは望まれているものと比べ困難で、実際いまのところはサポートされるクライアントプログラムの中で<span class="application">psql</span>だけがうまく対応しました。
       </p><p>
<!--
        A new source-code subdirectory <filename>src/fe_utils/</filename> has
        been created to hold this and other code that is shared across
        our client programs.  Formerly such sharing was accomplished by
        symbolic linking or copying source files at build time, which
        was ugly and required duplicate compilation.
-->
これと他のクライアントプログラム間で共有されるコードを置くため新たなソースコードのサブディレクトリ<code class="filename">src/fe_utils/</code>が作られました。
以前はこのような共有は、見苦しく重複したコンパイルを要する、シンボリックリンクやビルド時のソースファイルのコピーで実現されていました。
       </p></li><li class="listitem"><!--
2016-03-21 [98a64d0bd] Introduce WaitEventSet API.
--><p>
<!--
        Introduce <literal>WaitEventSet</literal> <acronym>API</acronym> to allow
        efficient waiting for event sets that usually do not change from
        one wait to the next (Andres Freund, Amit Kapila)
-->
ある待機から次にたいてい変化しないイベントセットの効果的な待機を可能とする<code class="literal">WaitEventSet</code> <acronym class="acronym">API</acronym>を導入しました。
(Andres Freund, Amit Kapila)
       </p></li><li class="listitem"><!--
2016-04-01 [65578341a] Add Generic WAL interface
--><p>
<!--
        Add a generic interface for writing <acronym>WAL</acronym> records
        (Alexander Korotkov, Petr Jel&iacute;nek, Markus Nullmeier)
-->
<acronym class="acronym">WAL</acronym>レコード書き込みの一般インタフェースを追加しました。
(Alexander Korotkov, Petr Jelínek, Markus Nullmeier)
       </p><p>
<!--
        This change allows extensions to write <acronym>WAL</acronym> records for
        changes to pages using a standard layout.  The problem of needing to
        replay <acronym>WAL</acronym> without access to the extension is solved by
        having generic replay code.  This allows extensions to implement,
        for example, index access methods and have <acronym>WAL</acronym>
        support for them.
-->
本変更は拡張が標準レイアウトでページ変更の<acronym class="acronym">WAL</acronym>レコードを書くことを可能にします。
拡張にアクセスすることなく<acronym class="acronym">WAL</acronym>のリプレイを要する問題は、一般リプレイコードを持つことで解決されました。
これは例えばインデックスアクセスメソッドとその<acronym class="acronym">WAL</acronym>対応など、拡張での実装を可能にします。
       </p></li><li class="listitem"><!--
2016-04-06 [3fe3511d0] Generic Messages for Logical Decoding
--><p>
<!--
        Support generic <acronym>WAL</acronym> messages for logical decoding
        (Petr Jel&iacute;nek, Andres Freund)
-->
ロジカルデコーディングの一般<acronym class="acronym">WAL</acronym>メッセージに対応しました。
(Petr Jelínek, Andres Freund)
       </p><p>
<!--
        This feature allows extensions to insert data into the
        <acronym>WAL</acronym> stream that can be read by logical-decoding
        plugins, but is not connected to physical data restoration.
-->
この機能は拡張がロジカルデコーディングプラグインで読み取り可能なデータを<acronym class="acronym">WAL</acronym>ストリームに挿入できるようにしますが、物理データ再構築には関係しません。
       </p></li><li class="listitem"><!--
2016-03-30 [ccd6eb49a] Introduce traversalValue for SP-GiST scan
2016-03-30 [87545f541] Use traversalValue in SP-GiST range opclass.
--><p>
<!--
        Allow SP-GiST operator classes to store an arbitrary
        <quote>traversal value</quote> while descending the index (Alexander
        Lebedev, Teodor Sigaev)
-->
SP-GiST演算子クラスがインデックスをたどるときに任意の<span class="quote">「<span class="quote">横断値</span>」</span>を置けるようにしました。
(Alexander Lebedev, Teodor Sigaev)
       </p><p>
<!--
        This is somewhat like the <quote>reconstructed value</quote>, but it
        could be any arbitrary chunk of data, not necessarily of the same
        data type as the indexed column.
-->
これは<span class="quote">「<span class="quote">再構築された値</span>」</span>に似たものですが、任意のデータチャンクにできて、インデックス列と同じデータ型の必要がありません。
       </p></li><li class="listitem"><!--
2016-04-04 [66229ac00] Introduce a LOG_SERVER_ONLY ereport level, which is neve
--><p>
<!--
        Introduce a <literal>LOG_SERVER_ONLY</literal> message level for
        <function>ereport()</function> (David Steele)
-->
<code class="function">ereport()</code>に<code class="literal">LOG_SERVER_ONLY</code>メッセージレベルを導入しました。
(David Steele)
       </p><p>
<!--
        This level acts like <literal>LOG</literal> except that the message is
        never sent to the client.  It is meant for use in auditing and
        similar applications.
-->
本レベルはメッセージが決してクライアントに送られない点を除き、<code class="literal">LOG</code>のように動作します。
これは監査等の用途で使う想定です。
       </p></li><li class="listitem"><!--
2016-07-01 [548af97fc] Provide and use a makefile target to build all generated
--><p>
<!--
        Provide a <filename>Makefile</filename> target to build all generated
        headers (Michael Paquier, Tom Lane)
-->
全ての生成されるヘッダファイルをビルドする<code class="filename">Makefile</code>ターゲットを提供しました。
(Michael Paquier, Tom Lane)
       </p><p>
<!--
        <literal>submake-generated-headers</literal> can now be invoked to ensure
        that generated backend header files are up-to-date.  This is
        useful in subdirectories that might be built <quote>standalone</quote>.
-->
<code class="literal">submake-generated-headers</code>を実行して、バックエンドヘッダファイルを確実に最新状態にすることができます。
これは<span class="quote">「<span class="quote">スタンドアローン</span>」</span>でビルドされるサブディレクトリにおいて便利です。
       </p></li><li class="listitem"><!--
2016-09-15 [fcd93e4af] Support OpenSSL 1.1.0.
2016-09-15 [9895818d5] Fix building with LibreSSL.
--><p>
<!--
        Support OpenSSL 1.1.0 (Andreas Karlsson, Heikki Linnakangas)
-->
OpenSSL 1.1.0に対応しました。
(Andreas Karlsson, Heikki Linnakangas)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.25.5.15"><div class="titlepage"><div><div><h4 class="title">E.21.3.13. 追加モジュール</h4></div></div></div><!--
    <title>Additional Modules</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2016-03-11 [92f03fe76] Allow setting sample ratio for auto_explain
2016-03-13 [7a8d87483] Rename auto_explain.sample_ratio to sample_rate
--><p>
<!--
        Add configuration parameter <literal>auto_explain.sample_rate</literal> to
        allow <link linkend="auto-explain"><filename>contrib/auto_explain</filename></link>
        to capture just a configurable fraction of all queries (Craig
        Ringer, Julien Rouhaud)
-->
<a class="link" href="auto-explain.html" title="F.4. auto_explain"><code class="filename">contrib/auto_explain</code></a>で全問い合わせのうち設定可能な少量だけを採取できるようにする設定パラメータ<code class="literal">auto_explain.sample_rate</code>を追加しました。
(Craig Ringer, Julien Rouhaud)
       </p><p>
<!--
        This allows reduction of overhead for heavy query traffic, while
        still getting useful information on average.
-->
これにより重い問い合わせ流量のオーバーヘッドが軽減できる一方、概してなお有用な情報を取得できます。
       </p></li><li class="listitem"><!--
2016-04-01 [9ee014fc8] Bloom index contrib module
--><p>
<!--
        Add <link linkend="bloom"><filename>contrib/bloom</filename></link> module that
        implements an index access method based on Bloom filtering (Teodor
        Sigaev, Alexander Korotkov)
-->
ブルームフィルタリングに基づくインデックスアクセスメソッドを実装した<a class="link" href="bloom.html" title="F.5. bloom"><code class="filename">contrib/bloom</code></a>モジュールを追加しました。
(Teodor Sigaev, Alexander Korotkov)
       </p><p>
<!--
        This is primarily a proof-of-concept for non-core index access
        methods, but it could be useful in its own right for queries that
        search many columns.
-->
これは主として本体以外のインデックスアクセスメソッドの概念実証ですが、多数の列を検索する問い合わせに対するこのモジュール本来の能力が有用であるかもしれません。
       </p></li><li class="listitem"><!--
2015-12-18 [33bd250f6] Cube extension kNN support
2015-12-28 [81ee726d8] Code and docs review for cube kNN support.
--><p>
<!--
        In <link linkend="cube"><filename>contrib/cube</filename></link>, introduce
        distance operators for cubes, and support kNN-style searches in
        GiST indexes on cube columns (Stas Kelvich)
-->
<a class="link" href="cube.html" title="F.9. cube"><code class="filename">contrib/cube</code></a>で立体の距離演算子を導入し、また、立体列のGiSTインデックスでkNN方式の検索に対応しました。
(Stas Kelvich)
       </p></li><li class="listitem"><!--
2016-02-03 [41d2c081c] Make hstore_to_jsonb_loose match hstore_to_json_loose on
--><p>
<!--
        Make <filename>contrib/hstore</filename>'s <link
        linkend="hstore-func-table"><function>hstore_to_jsonb_loose()</function></link>
        and <function>hstore_to_json_loose()</function> functions agree on what
        is a number (Tom Lane)
-->
<code class="filename">contrib/hstore</code>の<a class="link" href="hstore.html#HSTORE-FUNC-TABLE" title="表F.8 hstoreの関数"><code class="function">hstore_to_jsonb_loose()</code></a>および<code class="function">hstore_to_json_loose()</code>関数で何が数値であるかの認識を一致させました。
(Tom Lane)
       </p><p>
<!--
        Previously, <function>hstore_to_jsonb_loose()</function> would convert
        numeric-looking strings to <acronym>JSON</acronym> numbers, rather than
        strings, even if they did not exactly match the <acronym>JSON</acronym>
        syntax specification for numbers.  This was inconsistent with
        <function>hstore_to_json_loose()</function>, so tighten the test to match
        the <acronym>JSON</acronym> syntax.
-->
これまで、<code class="function">hstore_to_jsonb_loose()</code>は、<acronym class="acronym">JSON</acronym>構文の数値の仕様に厳密に一致していなくとも、数値に見える文字列を文字列でなく<acronym class="acronym">JSON</acronym>数値に変換していました。
この動作は<code class="function">hstore_to_json_loose()</code>と一致せず、それで<acronym class="acronym">JSON</acronym>構文に合わせるように厳格化しました。
       </p></li><li class="listitem"><!--
2015-07-21 [c6fbe6d6f] Add selectivity estimation functions for intarray operat
--><p>
<!--
        Add selectivity estimation functions for
        <link linkend="intarray"><filename>contrib/intarray</filename></link> operators
        to improve plans for queries using those operators (Yury Zhuravlev,
        Alexander Korotkov)
-->
<a class="link" href="intarray.html" title="F.18. intarray"><code class="filename">contrib/intarray</code></a>の演算子に、これら演算子を使ったプランを改善するため、選択度推定関数を追加しました。
(Yury Zhuravlev, Alexander Korotkov)
       </p></li><li class="listitem"><!--
2015-11-25 [d6061f83a] Improve pageinspect module
--><p>
<!--
        Make <link
        linkend="pageinspect"><filename>contrib/pageinspect</filename></link>'s
        <function>heap_page_items()</function> function show the raw data in each
        tuple, and add new functions <function>tuple_data_split()</function> and
        <function>heap_page_item_attrs()</function> for inspection of individual
        tuple fields (Nikolay Shaplov)
-->
<a class="link" href="pageinspect.html" title="F.22. pageinspect"><code class="filename">contrib/pageinspect</code></a>の<code class="function">heap_page_items()</code>関数が各タプルの生データを表示するようにしました。
また、各タプルフィールドを調べる新たな関数<code class="function">tuple_data_split()</code>および<code class="function">heap_page_item_attrs()</code>を追加しました。
(Nikolay Shaplov)
       </p></li><li class="listitem"><!--
2016-03-09 [188f359d3] pgcrypto: support changing S2K iteration count
--><p>
<!--
        Add an optional <literal>S2K</literal> iteration count parameter to
        <link linkend="pgcrypto"><filename>contrib/pgcrypto</filename></link>'s
        <function>pgp_sym_encrypt()</function> function (Jeff Janes)
-->
<a class="link" href="pgcrypto.html" title="F.25. pgcrypto"><code class="filename">contrib/pgcrypto</code></a>の<code class="function">pgp_sym_encrypt()</code>関数にオプションとして<code class="literal">S2K</code>イテレーションカウントパラメータを追加しました。
(Jeff Janes)
       </p></li><li class="listitem"><!--
2016-03-16 [f576b17cd] Add word_similarity to pg_trgm contrib module.
--><p>
<!--
        Add support for <quote>word similarity</quote> to
        <link linkend="pgtrgm"><filename>contrib/pg_trgm</filename></link>
        (Alexander Korotkov, Artur Zakirov)
-->
<a class="link" href="pgtrgm.html" title="F.31. pg_trgm"><code class="filename">contrib/pg_trgm</code></a>に<span class="quote">「<span class="quote">単語類似度</span>」</span>のサポートを加えました。
(Alexander Korotkov, Artur Zakirov)
       </p><p>
<!--
        These functions and operators measure the similarity between one
        string and the most similar single word of another string.
-->
これらの関数と演算子はある文字列と別の文字列の中のもっとも類似した一つの単語との類似度を測ります。
       </p></li><li class="listitem"><!--
2016-03-16 [5871b8848] GUC variable pg_trgm.similarity_threshold insead of set_
2016-06-20 [9c852566a] Fix comparison of similarity to threshold in GIST trigra
--><p>
<!--
        Add configuration parameter
        <varname>pg_trgm.similarity_threshold</varname> for
        <filename>contrib/pg_trgm</filename>'s similarity threshold (Artur Zakirov)
-->
<code class="filename">contrib/pg_trgm</code>の類似度の閾値を指定する設定パラメータ<code class="varname">pg_trgm.similarity_threshold</code>を追加しました。
(Artur Zakirov)
       </p><p>
<!--
        This threshold has always been configurable, but formerly it was
        controlled by special-purpose functions <function>set_limit()</function>
        and <function>show_limit()</function>.  Those are now deprecated.
-->
この閾値は以前から設定可能でしたが、これまでは専用の関数<code class="function">set_limit()</code>、<code class="function">show_limit()</code>で制御されていました。
これらは非推奨となります。
       </p></li><li class="listitem"><!--
2015-07-20 [97f301464] This supports the triconsistent function for pg_trgm GIN
--><p>
<!--
        Improve <filename>contrib/pg_trgm</filename>'s GIN operator class to
        speed up index searches in which both common and rare keys appear
        (Jeff Janes)
-->
よくあるキーと稀なキーが両方現れる場合のインデックス検索の速度を上げるように<code class="filename">contrib/pg_trgm</code>のGIN演算子クラスを改善しました。
(Jeff Janes)
       </p></li><li class="listitem"><!--
2015-12-25 [25bfa7efd] Improve the gin index scan performance in pg_trgm.
--><p>
<!--
        Improve performance of similarity searches in
        <filename>contrib/pg_trgm</filename> GIN indexes (Christophe Fornaroli)
-->
<code class="filename">contrib/pg_trgm</code>のGINインデックスで類似度検索の性能を改善しました。
(Christophe Fornaroli)
       </p></li><li class="listitem"><!--
2016-03-08 [ba0a198fb] Add pg_visibility contrib module.
2016-06-17 [71d05a2c7] pg_visibility: Add pg_truncate_visibility_map function.
--><p>
<!--
        Add <link
        linkend="pgvisibility"><filename>contrib/pg_visibility</filename></link> module
        to allow examining table visibility maps (Robert Haas)
-->
テーブルの可視性マップを検査できる<a class="link" href="pgvisibility.html" title="F.32. pg_visibility"><code class="filename">contrib/pg_visibility</code></a>モジュールを追加しました。
(Robert Haas)
       </p></li><li class="listitem"><!--
2015-09-07 [49124613f] contrib/sslinfo: add ssl_extension_info SRF
--><p>
<!--
        Add <link linkend="sslinfo"><function>ssl_extension_info()</function></link>
        function to <filename>contrib/sslinfo</filename>, to print information
        about <acronym>SSL</acronym> extensions present in the <literal>X509</literal>
        certificate used for the current connection (Dmitry Voronin)
-->
<code class="filename">contrib/sslinfo</code>に<a class="link" href="sslinfo.html" title="F.37. sslinfo"><code class="function">ssl_extension_info()</code></a>関数を追加しました。
現在の接続に使われている<code class="literal">X509</code>証明書に含まれる<acronym class="acronym">SSL</acronym>拡張情報を出力します。
(Dmitry Voronin)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.25.5.15.3"><div class="titlepage"><div><div><h5 class="title">E.21.3.13.1. <a class="link" href="postgres-fdw.html" title="F.33. postgres_fdw"><code class="filename">postgres_fdw</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
2015-11-03 [d89494166] Allow postgres_fdw to ship extension funcs/operators for
--><p>
<!--
        Allow extension-provided operators and functions to be sent for
        remote execution, if the extension is whitelisted in the foreign
        server's options (Paul Ramsey)
-->
外部サーバのオプションでホワイトリストに含まれている拡張であれば、拡張で提供される演算子と関数をリモート実行に送れるようにしました。
(Paul Ramsey)
       </p><p>
<!--
        Users can enable this feature when the extension is known to exist
        in a compatible version in the remote database.  It allows more
        efficient execution of queries involving extension operators.
-->
互換性のあるバージョンの拡張がリモートサーバに在るとき、ユーザはこの機能を有効にできます。
これは拡張の演算子を伴う問い合わせのより効果的な実行を可能にします。
       </p></li><li class="listitem"><!--
2015-11-03 [f18c944b6] postgres_fdw: Add ORDER BY to some remote SQL queries.
2015-12-22 [ccd8f9792] postgres_fdw: Consider requesting sorted data so we can
--><p>
<!--
        Consider performing sorts on the remote server (Ashutosh Bapat)
-->
リモートサーバ上でのソートを検討するようにしました。
(Ashutosh Bapat)
       </p></li><li class="listitem"><!--
2016-02-09 [e4106b252] postgres_fdw: Push down joins to remote servers.
2016-03-09 [aa09cd242] postgres_fdw: Consider foreign joining and foreign sorti
--><p>
<!--
        Consider performing joins on the remote server (Shigeru Hanada,
        Ashutosh Bapat)
-->
リモートサーバ上での結合を検討するようにしました。
(Shigeru Hanada, Ashutosh Bapat)
       </p></li><li class="listitem"><!--
2016-03-18 [0bf3ae88a] Directly modify foreign tables.
--><p>
<!--
        When feasible, perform <command>UPDATE</command> or <command>DELETE</command>
        entirely on the remote server (Etsuro Fujita)
-->
可能であれば<code class="command">UPDATE</code>や<code class="command">DELETE</code>を全面的にリモートサーバ上で実行するようにしました。
(Etsuro Fujita)
       </p><p>
<!--
        Formerly, remote updates involved sending a <command>SELECT FOR UPDATE</command>
        command and then updating or deleting the selected rows one-by-one.
        While that is still necessary if the operation requires any local
        processing, it can now be done remotely if all elements of the
        query are safe to send to the remote server.
-->
これまではリモート更新は<code class="command">SELECT FOR UPDATE</code>コマンドの送信とその後の選択された行の一行ずつの更新や削除を伴いました。
問い合わせのすべての要素がリモートサーバに送って差し支えないならリモートで実行できるようになりますが、一方で演算が何等かローカル処理を必要とするならこの動作はなお必要です。
       </p></li><li class="listitem"><!--
2016-02-03 [dc203dc3a] postgres_fdw: Allow fetch_size to be set per-table or pe
--><p>
<!--
        Allow the fetch size to be set as a server or table option
        (Corey Huinker)
-->
取り出しサイズをサーバやテーブルのオプションとして設定可能にしました。
(Corey Huinker)
       </p><p>
<!--
        Formerly, <filename>postgres_fdw</filename> always fetched 100 rows at
        a time from remote queries; now that behavior is configurable.
-->
これまでは<code class="filename">postgres_fdw</code>は常にリモート問い合わせから一度に100行を取り出ししていました。この動作が調整可能になりました。
       </p></li><li class="listitem"><!--
2016-01-28 [96198d94c] Avoid multiple foreign server connections when all use s
--><p>
<!--
        Use a single foreign-server connection for local user IDs that
        all map to the same remote user (Ashutosh Bapat)
-->
全て同じリモートユーザにマップしている複数ローカルユーザIDが単一の外部サーバ接続を使うようにしました。
(Ashutosh Bapat)
       </p></li><li class="listitem"><!--
2016-04-21 [f039eaac7] Allow queries submitted by postgres_fdw to be canceled.
2016-05-16 [1b812afb0] Fix multiple problems in postgres_fdw query cancellation
--><p>
<!--
        Transmit query cancellation requests to the remote server
        (Michael Paquier, Etsuro Fujita)
-->
リモートサーバに問い合わせキャンセル要求を伝播するようにしました。
(Michael Paquier, Etsuro Fujita)
       </p><p>
<!--
        Previously, a local query cancellation request did not cause an
        already-sent remote query to terminate early.
-->
これまでは、ローカル問い合わせのキャンセル要求は送信済みのリモート問い合わせを早く終了させませんでした。
       </p></li></ul></div></div></div></div></div></body></html>