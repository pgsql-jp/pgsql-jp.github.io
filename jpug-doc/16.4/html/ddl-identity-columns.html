<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.3. Identity Columns</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="ddl-default.html" title="5.2. デフォルト値" /><link rel="next" href="ddl-generated-columns.html" title="5.4. 生成列" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 17beta3文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="ddl.html" title="第5章 データ定義">第5章 データ定義</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="ddl-default.html" title="5.2. デフォルト値">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="ddl.html" title="第5章 データ定義">上へ</a></td><td width="60%" align="center">5.3. Identity Columns</td><td width="20%" align="right"> <a accesskey="n" href="ddl-generated-columns.html" title="5.4. 生成列">次へ</a></td></tr></table><hr /></div><div class="sect1" id="DDL-IDENTITY-COLUMNS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.3. Identity Columns <a href="#DDL-IDENTITY-COLUMNS" class="id_link">#</a></h2></div></div></div><a id="id-1.5.4.5.2" class="indexterm"></a><p>
<!--
   An identity column is a special column that is generated automatically from
   an implicit sequence.  It can be used to generate key values.
-->
《機械翻訳》アイデンティティカラムは、暗黙的なカラムから自動的に生成される特殊なシーケンスです。
これを使用してキー値を生成できます。
  </p><p>
<!--
   To create an identity column, use the <literal>GENERATED ...
   AS IDENTITY</literal> clause in <command>CREATE TABLE</command>, for example:
-->
《マッチ度[81.884058]》生成列を作るには、<code class="command">CREATE TABLE</code>で<code class="literal">GENERATED ALWAYS AS</code>節を使ってください。例を示します。
《機械翻訳》アイデンティティカラムを作成するには、<code class="command">CREATE句</code>の<code class="literal">GENERATED.AS IDENTITY</code>テーブルを使用します。
例の場合:
</p><pre class="programlisting">
CREATE TABLE people (
    id bigint <span class="emphasis"><strong>GENERATED ALWAYS AS IDENTITY</strong></span>,
    ...,
);
</pre><p>
<!--
   or alternatively
-->
《機械翻訳》または
</p><pre class="programlisting">
CREATE TABLE people (
    id bigint <span class="emphasis"><strong>GENERATED BY DEFAULT AS IDENTITY</strong></span>,
    ...,
);
</pre><p>
<!--
   See <xref linkend="sql-createtable"/> for more details.
-->
《機械翻訳》詳細は<a class="xref" href="sql-createtable.html" title="CREATE TABLE"><span class="refentrytitle">CREATE TABLE</span></a>を参照してください。
  </p><p>
<!--
   If an <command>INSERT</command> command is executed on the table with the
   identity column and no value is explicitly specified for the identity
   column, then a value generated by the implicit sequence is inserted.  For
   example, with the above definitions and assuming additional appropriate
   columns, writing
-->
《機械翻訳》<code class="command">INSERT</code>コマンドがカラムというアイデンティティを持つテーブルで実行され、カラムというアイデンティティに値が明示的に指定されていない場合、暗黙的なシーケンスによって生成された値が挿入されます。
例では、上記の定義を使用し、追加の適切な列を想定して、次のように記述します。
</p><pre class="programlisting">
INSERT INTO people (name, address) VALUE ('A', 'foo');
INSERT INTO people (name, address) VALUE ('B', 'bar');
</pre><p>
<!--
   would generate values for the <literal>id</literal> column starting at 1
   and result in the following table data:
-->
《機械翻訳》は、1から始まる<code class="literal">id</code>カラムの値を生成し、結果は次のテーブルデータになります。
</p><pre class="screen">
 id | name | address
----+------+---------
  1 | A    | foo
  2 | B    | bar
</pre><p>
<!--
   Alternatively, the keyword <literal>DEFAULT</literal> can be specified in
   place of a value to explicitly request the sequence-generated value, like
-->
《機械翻訳》または、値の代わりにキーワード<code class="literal">デフォルト</code>を指定して、のようにシーケンスによって生成された値を明示的にリクエストすることもできます。
</p><pre class="programlisting">
INSERT INTO people (id, name, address) VALUE (<span class="emphasis"><strong>DEFAULT</strong></span>, 'C', 'baz');
</pre><p>
<!--
   Similarly, the keyword <literal>DEFAULT</literal> can be used in
   <command>UPDATE</command> commands.
-->
《機械翻訳》同様に、キーワード<code class="literal">デフォルト</code>は<code class="command">更新</code>コマンドで使用できます。
  </p><p>
<!--
   Thus, in many ways, an identity column behaves like a column with a default
   value.
-->
《機械翻訳》したがって、多くの点で、アイデンティティカラムはデフォルト値のあるカラムのように動作します。
  </p><p>
<!--
   The clauses <literal>ALWAYS</literal> and <literal>BY DEFAULT</literal> in
   the column definition determine how explicitly user-specified values are
   handled in <command>INSERT</command> and <command>UPDATE</command>
   commands.  In an <command>INSERT</command> command, if
   <literal>ALWAYS</literal> is selected, a user-specified value is only
   accepted if the <command>INSERT</command> statement specifies
   <literal>OVERRIDING SYSTEM VALUE</literal>.  If <literal>BY
   DEFAULT</literal> is selected, then the user-specified value takes
   precedence.  Thus, using <literal>BY DEFAULT</literal> results in a
   behavior more similar to default values, where the default value can be
   overridden by an explicit value, whereas <literal>ALWAYS</literal> provides
   some more protection against accidentally inserting an explicit value.
-->
《機械翻訳》デフォルト定義の<code class="literal">ALWAYS</code>および<code class="literal">BYカラム</code>句は、<code class="command">INSERT</code>および<code class="command">更新</code>コマンドで明示的にユーザを指定した値を処理する方法を決定します。
<code class="command">INSERT</code>コマンドでは、<code class="literal">ALWAYS</code>が選択されている場合、<code class="command">INSERT</code>ユーザが<code class="literal">OVERRIDINGステートメントVALUE</code>を指定している場合にのみ、システム指定の値が受け入れられます。
<code class="literal">BYデフォルト</code>を選択すると、ユーザで指定した値が優先されます。
したがって、<code class="literal">BYデフォルト</code>を使用すると、明示的な値によってデフォルトを上書きできるデフォルト値値に似た動作になります。
一方、<code class="literal">ALWAYS</code>を使用すると、誤って明示的な値を挿入することに対する保護が強化されます。
  </p><p>
<!--
   The data type of an identity column must be one of the data types supported
   by sequences.  (See <xref linkend="sql-createsequence"/>.)  The properties
   of the associated sequence may be specified when creating an identity
   column (see <xref linkend="sql-createtable"/>) or changed afterwards (see
   <xref linkend="sql-altertable"/>).
-->
《機械翻訳》識別データタイプのカラムは、順序でサポートされているデータタイプの1つである必要があります（<a class="xref" href="sql-createsequence.html" title="CREATE SEQUENCE"><span class="refentrytitle">CREATE SEQUENCE</span></a>を参照）。
関連付けられたシーケンスのプロパティは、識別カラムの作成時に指定するか（<a class="xref" href="sql-createtable.html" title="CREATE TABLE"><span class="refentrytitle">CREATE TABLE</span></a>を参照）、後で変更できます（<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>を参照）。
  </p><p>
<!--
   An identity column is automatically marked as <literal>NOT NULL</literal>.
   An identity column, however, does not guarantee uniqueness.  (A sequence
   normally returns unique values, but a sequence could be reset, or values
   could be inserted manually into the identity column, as discussed above.)
   Uniqueness would need to be enforced using a <literal>PRIMARY KEY</literal>
   or <literal>UNIQUE</literal> constraint.
-->
《機械翻訳》アイデンティティカラムは、自動的に<code class="literal">nullではない</code>とマークされます。
ただし、アイデンティティカラムは一意性を保証しません。
（通常、シーケンスはユニーク値を戻しますが、シーケンスはリセットにするか、前述のようにアイデンティティカラムに値を手動で挿入できます。）
一意性は、<code class="literal">主キー</code>または<code class="literal">ユニーク</code>制約を使用して適用する必要があります。
  </p><p>
<!--
   In table inheritance hierarchies, identity columns and their properties in
   a child table are independent of those in its parent tables.  A child table
   does not inherit identity columns or their properties automatically from
   the parent. During <command>INSERT</command> or <command>UPDATE</command>,
   a column is treated as an identity column if that column is an identity
   column in the table named in the statement, and the corresponding identity
   properties are applied.
-->
《機械翻訳》テーブル継承階層では、子テーブルのID列およびそのプロパティは、親表のID列およびそのプロパティから独立しています。
子テーブルは、親から自動的にID列またはそのプロパティを継承しません。
<code class="command">INSERT</code>または<code class="command">更新</code>時に、カラムがステートメントのテーブル記名的のIDカラムであり、対応するIDプロパティが適用されている場合、そのカラムはIDカラムとして扱われます。
  </p><p>
<!--
   Partitions inherit identity columns from the partitioned table.  They
   cannot have their own identity columns.  The properties of a given identity
   column are consistent across all the partitions in the partition hierarchy.
-->
《機械翻訳》パーティションは、パーティション化されたテーブルからアイデンティティ列を継承します。
独自のアイデンティティ列を持つことはできません。
特定のアイデンティティカラムのプロパティは、パーティション階層内のすべてのパーティションで一貫しています。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ddl-default.html" title="5.2. デフォルト値">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="ddl.html" title="第5章 データ定義">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="ddl-generated-columns.html" title="5.4. 生成列">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">5.2. デフォルト値 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 17beta3文書">ホーム</a></td><td width="40%" align="right" valign="top"> 5.4. 生成列</td></tr></table></div></body></html>