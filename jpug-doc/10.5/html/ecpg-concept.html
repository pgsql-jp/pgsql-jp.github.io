<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>35.1. 概念</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="ecpg.html" title="Chapter 35. ECPG - C言語による埋め込みSQL" /><link rel="next" href="ecpg-connect.html" title="35.2. データベース接続の管理" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">35.1. 概念</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ecpg.html" title="Chapter 35. ECPG - C言語による埋め込みSQL">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="ecpg.html" title="Chapter 35. ECPG - C言語による埋め込みSQL">Up</a></td><th width="60%" align="center">Chapter 35. <span xmlns="http://www.w3.org/1999/xhtml" class="application">ECPG</span> - C言語による埋め込み<acronym xmlns="http://www.w3.org/1999/xhtml" class="acronym">SQL</acronym></th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="ecpg-connect.html" title="35.2. データベース接続の管理">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="ECPG-CONCEPT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">35.1. 概念</h2></div></div></div><p>埋め込みSQLプログラムは通常のプログラミング言語（ここではC）で記述されたコードで、特別にマークされたセクション内のSQLコマンドとともに使用されます。
このプログラムを構築するには、まずソースコード (<code class="filename">*.pgc</code>) を埋め込みSQLプリプロセッサに渡します。
ソースコードは、プリプロセッサによって通常のCプログラム (<code class="filename">*.c</code>) に変換され、その後Cコンパイラによって処理されます。(コンパイルとリンクの詳細については <a class="xref" href="ecpg-process.html" title="35.10. 埋め込みSQLプログラムの処理">Section 35.10</a> を参照してください)
変換されたECPGアプリケーションは、libpqライブラリにある関数を埋め込みSQLライブラリ (ecpglib) を介して呼び出し、通常のフロントエンド・バックエンドプロトコルを使ってPostgreSQLサーバと通信します。
  </p><p>Cコードから<acronym class="acronym">SQL</acronym>コマンドを扱う場合は、埋め込み<acronym class="acronym">SQL</acronym>の方が他の手法よりも有効です。
まず、埋め込みSQLは<acronym class="acronym">C</acronym>プログラムの変数との面倒な双方間の情報移行を処理してくれます。
さらに、プログラム内のSQLコードは構築時に正確な構文になっているかどうか検査されます。
また、C言語での埋め込み<acronym class="acronym">SQL</acronym>は標準SQLで既に定義されており、他の様々な<acronym class="acronym">SQL</acronym>データベースシステムでサポートされています。
<span class="productname">PostgreSQL</span>の実装は可能な限りこの標準に準拠するよう設計されています。
また通常の場合、他のSQLデータベース用に作成された埋め込み<acronym class="acronym">SQL</acronym>プログラムを比較的簡単に<span class="productname">PostgreSQL</span>へ移植することができます。
  </p><p>先に述べた通り、埋め込み<acronym class="acronym">SQL</acronym>インタフェース用のプログラムは、通常のCプログラムに、データベース関連処理を行うための特別なコードを加えたものです。
この特別なコードは、常に、次のような形式になっています。
</p><pre class="programlisting">EXEC SQL ...;</pre><p>
このSQL文は、構文上でC言語の文の置き換えとなります。
SQL文によりますが、グローバルレベル、または関数内で記述することができます。
埋め込み<acronym class="acronym">SQL</acronym>文における大文字小文字の区別の有無は、Cコードではなく、通常の<acronym class="acronym">SQL</acronym>コードの規則に従います。
また、SQL標準の部分にある入れ子のC形式のコメントを許します。
しかし、プログラムのCの部分では、入れ子のコメントを受け付けないというC標準に従います。
  </p><p>以下の節で、すべての埋め込みSQL文について説明します。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ecpg.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ecpg.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ecpg-connect.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 35. <span class="application">ECPG</span> - C言語による埋め込み<acronym class="acronym">SQL</acronym> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 35.2. データベース接続の管理</td></tr></table></div></body></html>