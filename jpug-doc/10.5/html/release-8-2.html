<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.222. リリース8.2</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-2-1.html" title="E.221. リリース8.2.1" /><link rel="next" href="release-8-1-23.html" title="E.223. リリース8.1.23" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.222. リリース8.2</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-2-1.html" title="E.221. リリース8.2.1">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix E. リリースノート">Up</a></td><th width="60%" align="center">Appendix E. リリースノート</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-1-23.html" title="E.223. リリース8.1.23">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-2"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.222. リリース8.2</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-2.html#id-1.11.6.226.3">E.222.1. 概要</a></span></dt><dt><span class="sect2"><a href="release-8-2.html#id-1.11.6.226.4">E.222.2. バージョン8.2への移行</a></span></dt><dt><span class="sect2"><a href="release-8-2.html#id-1.11.6.226.5">E.222.3. 変更点</a></span></dt></dl></div><p><strong>リリース日: </strong>2006-12-05</p><div class="sect2" id="id-1.11.6.226.3"><div class="titlepage"><div><div><h3 class="title">E.222.1. 概要</h3></div></div></div><p>本リリースでは、以下のような多くの機能追加やユーザから要望があった性能改善がなされています。

   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="command">INSERT/UPDATE/DELETE RETURNING</code>や複数行の<code class="literal">VALUES</code>リスト、<code class="command">UPDATE</code>/<code class="command">DELETE</code>における省略可能な対象テーブル別名など問い合わせ言語の改良。
      </p></li><li class="listitem"><p>同時に行われる<code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE</code>操作をブロックしないインデックス作成。
      </p></li><li class="listitem"><p>外部結合の再順序付けのサポートなどの、多くの問い合わせ最適化の改良。
      </p></li><li class="listitem"><p>ソート処理性能の向上、および、使用するメモリ量の低減。
      </p></li><li class="listitem"><p>より効率的なロックによる同時実行性の向上。
      </p></li><li class="listitem"><p>より効率的なバキューム処理。
      </p></li><li class="listitem"><p>ウォームスタンバイサーバ管理の簡略化。
      </p></li><li class="listitem"><p>テーブルおよびインデックスにおける<code class="literal">FILLFACTOR</code>サポート（新機能）。
      </p></li><li class="listitem"><p>監視機能、ログ機能、性能チューニングの追加。
      </p></li><li class="listitem"><p>オブジェクトの生成、削除に関するより細かな制御。
      </p></li><li class="listitem"><p>既存テーブルに対するテーブル継承関係の定義および削除が可能になりました。
      </p></li><li class="listitem"><p><code class="command">COPY TO</code>が任意の<code class="command">SELECT</code>分の出力をコピーできるようになりました。
      </p></li><li class="listitem"><p>配列内のNULLなど、配列の改良。
      </p></li><li class="listitem"><p>複数入力集約やSQL:2003の統計処理関数など、集約関数の改良。
      </p></li><li class="listitem"><p>多くの<code class="filename">contrib/</code>の改良。
      </p></li></ul></div><p>

   </p></div><div class="sect2" id="id-1.11.6.226.4"><div class="titlepage"><div><div><h3 class="title">E.222.2. バージョン8.2への移行</h3></div></div></div><p>すべての過去のリリースからデータを移行する場合、<span class="application">pg_dump</span>を使用したダンプ/リストアが必要です。
   </p><p>以下に既知の非互換な点を示します。
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="runtime-config-compatible.html#GUC-ESCAPE-STRING-WARNING"><code class="varname">escape_string_warning</code></a>をデフォルトで<code class="literal">on</code>にしました。(Bruce)
      </p><p>これは、バックスラッシュエスケープが<a class="link" href="sql-syntax-lexical.html#SQL-SYNTAX-STRINGS" title="4.1.2.1. 文字列定数">非エスケープ(<code class="literal">E''</code>の付かない)文字列</a>内で使用された場合に警告を発します。
      </p></li><li class="listitem"><p>リスト要素<code class="literal">foo.*</code>が、以前のような入れ子状の行型フィールドを生成するのではなく、そのメンバフィールドのリストに展開されるように、<a class="link" href="sql-expressions.html#SQL-SYNTAX-ROW-CONSTRUCTORS" title="4.2.13. 行コンストラクタ">行コンストラクタ構文</a> (<code class="literal">ROW(...)</code>)を変更しました。(Tom)
      </p><p>実質、この新しい動作は例えば、トリガで<code class="literal">IF row(new.*) IS DISTINCT FROM row(old.*)</code>を使用してデータ変更を検査することができるなど、大変便利です。
<code class="literal">.*</code>を省略することで古い動作を使用することもできます。
      </p></li><li class="listitem"><p><a class="link" href="functions-comparisons.html#ROW-WISE-COMPARISON" title="9.23.5. 行コンストラクタの比較">行の比較</a>を標準<acronym class="acronym">SQL</acronym>構文に従うようにしました。
また、インデックススキャンで使用されるようになりました。(Tom)
      </p><p>以前は、行の等号および &lt;&gt;比較は標準に従っていましたが、&lt; &lt;= &gt; &gt;=は従っていませんでした。
新しい比較では、行値に一致する複数列インデックス用のインデックス制約として使用されるようになりました。
      </p></li><li class="listitem"><p><a class="link" href="functions-comparison.html" title="9.2. 比較関数および演算子">row <code class="literal">IS [<span class="optional">NOT</span>] NULL</code></a>検査が標準<acronym class="acronym">SQL</acronym>文法に従うようにしました。(Tom)
      </p><p>以前の動作では、<code class="literal">IS NULL</code>という単純な場合は標準に従っていましたが、 <code class="literal">IS NOT NULL</code>は行のフィールドのいずれかが非NULLの場合に真を返しました。
標準では、全てのフィールドが非NULLの場合にのみ真を返すものと規定しています。
      </p></li><li class="listitem"><p><a class="link" href="sql-set-constraints.html" title="SET CONSTRAINTS"><code class="command">SET CONSTRAINT</code></a>が1つの制約にのみ適用されるようにしました。(Kris Jurka)
      </p><p>以前のリリースでは、<code class="command">SET CONSTRAINT</code>は一致する名前を持つすべての制約を変更しました。
本リリースではスキーマ検索パスを使用し、最初に一致する制約のみを変更するようになりました。
スキーマの指定もサポートされます。
これにより、より標準SQLに従うようになりました。
      </p></li><li class="listitem"><p>セキュリティのためテーブルの<code class="literal">RULE</code>権限を削除しました。(Tom)
      </p><p>本リリースから、テーブルの所有者のみがテーブルのルールの作成と変更を行うことができるようになります。
後方互換性のため<code class="command">GRANT</code>/<code class="command">REVOKE RULE</code>はまだ受け付けられますが、何も行われません。
      </p></li><li class="listitem"><p>配列比較の改良。(Tom)
      </p><p>配列次元も比較されるようになりました。
      </p></li><li class="listitem"><p><a class="link" href="functions-array.html" title="9.18. 配列関数と演算子">配列の結合</a>を文書に合わせるように変更しました。(Tom)
      </p><p>この変更により、結合が配列の下限値を変更するような場合、過去の動作と異なるようになります。
      </p></li><li class="listitem"><p><span class="application">postmaster</span>と<a class="link" href="app-postgres.html" title="postgres"><span class="application">postgres</span></a>コマンドラインオプションを同一にしました。(Peter)
      </p><p>これにより、postmasterが、<code class="literal">-o</code>を使用せずに、各バックエンドに引数を渡すことができるようになりました。
単一文字のオプションと競合するため、一部のオプションは長めのオプションとしてのみ利用できるようになったことに注意してください。
      </p></li><li class="listitem"><p><span class="application">postmaster</span>シンボリックリンクの使用の廃止予定(Peter)
      </p><p><span class="application">postmaster</span>及び<span class="application">postgres</span>コマンドが同じように動作するようになりました。
その動作はコマンドラインオプションによって定まります。
<span class="application">postmaster</span>というシンボリックリンクが互換性のために残されていますが、実際のところ必要性はありません。
      </p></li><li class="listitem"><p>問い合わせが出力されていなくても<a class="link" href="runtime-config-logging.html#GUC-LOG-DURATION"><code class="varname">log_duration</code></a>が出力するように変更しました。(Tom)
      </p><p>以前のリリースでは、問い合わせが過去にログに現れている場合にのみ<code class="varname">log_duration</code>が出力されました。
      </p></li><li class="listitem"><p><a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char(time)</code></a>および<a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char(interval)</code></a>が<code class="literal">HH</code>と<code class="literal">HH12</code>を12時間周期で扱うようになりました。
      </p><p>ほとんどのアプリケーションでは12時間周期の表示を求めない限り、<code class="literal">HH24</code>を使用すべきです。
      </p></li><li class="listitem"><p>変換におけるマスクされないゼロビットが<a class="link" href="datatype-net-types.html#DATATYPE-INET" title="8.9.1. inet"><code class="type">INET</code></a>から<a class="link" href="datatype-net-types.html#DATATYPE-INET" title="8.9.1. inet"><code class="type">CIDR</code></a>になりました。(Tom)
      </p><p>これにより変換された値が確実に<code class="type">CIDR</code>として有効になるようになりました。
      </p></li><li class="listitem"><p><code class="varname">australian_timezones</code>設定変数を削除しました。(Joachim Wieland)
      </p><p>この変数は、より一般的な時間帯省略形の設定機構により上書きされていました。
      </p></li><li class="listitem"><p>ネステッドループインデックススキャン用のコスト推定が改良されました。(Tom)
      </p><p>これは、非現実的な小さい<a class="link" href="runtime-config-query.html#GUC-RANDOM-PAGE-COST"><code class="varname">random_page_cost</code></a>値に設定する必要性を無視するかもしれません。
非常に小さな<code class="varname">random_page_cost</code>を使用している場合は、試験をして確認してください。
      </p></li><li class="listitem"><p><code class="command">pg_dump</code>の<code class="literal">-n</code>オプションと<code class="literal">-t</code>オプションの動作を変更しました。(Greg Sabino Mullane)
      </p><p>詳細は<code class="command">pg_dump</code>のマニュアルページを参照してください。
      </p></li><li class="listitem"><p><a class="link" href="libpq.html" title="Chapter 33. libpq - C ライブラリ"><span class="application">libpq</span></a><code class="function">PQdsplen()</code>が有効な値を返すように変更しました。(Martijn van Oosterhout)
      </p></li><li class="listitem"><p><a class="link" href="libpq.html" title="Chapter 33. libpq - C ライブラリ"><span class="application">libpq</span></a><code class="function">PQgetssl()</code>を<code class="literal">SSL *</code>ではなく<code class="literal">void *</code>を返すように宣言しました。(Martijn van Oosterhout)
      </p><p>これによりアプリケーションは、OpenSSLヘッダをインクルードすることなくこの関数を使用できるようになります。
      </p></li><li class="listitem"><p>バージョン互換性検査のために、C言語による動的ロード可能なモジュールが<a class="link" href="xfunc-c.html#XFUNC-C-DYNLOAD" title="37.9.1. 動的ロード"><code class="literal">PG_MODULE_MAGIC</code></a>マクロ呼び出しをインクルードしなければならなくなりました。(Martijn van Oosterhout)
      </p></li><li class="listitem"><p>セキュリティ上の理由により、PL/PerlU関数によって使用されるモジュールはPL/Perl関数から使用できなくなりました。(Andrew)
      </p><div class="note"><h3 class="title">Note</h3><p>これはまた、PL/Perl関数とPL/PerlU関数との間でデータを共有できなくなったことも意味します。
一部のPerlインストレーションでは、単一プロセス内で複数のインタプリタが存在することを許すための正しいフラグをつけてコンパイルされていませんでした。
こうした状況では、PL/PerlとPL/PerlUを単一のバックエンドで使用することはできません。
解決方法は、複数のインタプリタをサポートするPerlインストレーションを入手することです。
       </p></div></li><li class="listitem"><p><code class="filename">contrib/xml2/</code>で、<code class="function">xml_valid()</code>が<code class="function">xml_is_well_formed()</code>に名前を変更しました。(Tom)
      </p><p>後方互換性のために<code class="function">xml_valid()</code>も残っていますが、今後のリリースでスキーマ検査を行うように変更されます。
      </p></li><li class="listitem"><p><code class="filename">contrib/ora2pg/</code>が削除されました。
<a class="ulink" href="http://www.samse.fr/GPL/ora2pg" target="_top">http://www.samse.fr/GPL/ora2pg</a>が新設されました。
      </p></li><li class="listitem"><p>PgFoundryに移行されたcontribモジュール<code class="filename">adddepend</code>、<code class="filename">dbase</code>、<code class="filename">dbmirror</code>、<code class="filename">fulltextindex</code>、<code class="filename">mac</code>、<code class="filename">userlock</code>が削除されました。
      </p></li><li class="listitem"><p>見捨てられたcontribモジュール<code class="filename">mSQL-interface</code>、<code class="filename">tips</code>が削除されました。
      </p></li><li class="listitem"><p><acronym class="acronym">QNX</acronym>および<acronym class="acronym">BEOS</acronym>への移植が削除されました。(Bruce)
      </p><p>これらの移植に関して活動できる保守者がいなくなりました。
      </p></li></ul></div></div><div class="sect2" id="id-1.11.6.226.5"><div class="titlepage"><div><div><h3 class="title">E.222.3. 変更点</h3></div></div></div><p>以下に、<span class="productname">PostgreSQL</span> 8.2と以前のメジャーリリースとの間の違いについて詳しく記します。
   </p><div class="sect3" id="id-1.11.6.226.5.3"><div class="titlepage"><div><div><h4 class="title">E.222.3.1. 性能向上</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ある環境において、プランナが<a class="link" href="queries-table-expressions.html#QUERIES-JOIN" title="7.2.1.1. 結合テーブル">外部結合</a>の再順序付けすることが可能になりました。(Tom)
      </p><p>以前のリリースでは、外部結合は常に問い合わせに記載された順序で評価されていました。
この変更により、結合の順序を変更しても問い合わせの意味が変わらないことが決定できる場合、問い合わせオプティマイザが外部結合の順序を考慮できるようになりました。
複数の結合が含まれる場合や、内部結合と外部結合が混在する場合に、目に見える程の性能が向上します。
      </p></li><li class="listitem"><p><a class="link" href="functions-comparisons.html" title="9.23. 行と配列の比較"><code class="literal">IN</code> (式のリスト)</a> の効率を向上しました。(Tom)
      </p></li><li class="listitem"><p>ソート速度を向上し、メモリ消費量を低減しました。(Simon, Tom)
      </p></li><li class="listitem"><p>副トランザクションの性能を向上しました。(Alvaro, Itagaki Takahiro, Tom)
      </p></li><li class="listitem"><p><a class="link" href="sql-createtable.html" title="CREATE TABLE">table</a>および<a class="link" href="sql-createindex.html" title="CREATE INDEX">index</a>の生成に<code class="literal">FILLFACTOR</code>を追加しました。(ITAGAKI Takahiro)
      </p><p>これは、データベースの容量が増えた時の性能を向上させることができるように、各テーブルページやインデックスページに追加の空き領域を確保します。
これは特に、クラスタ処理を管理する時に有効です。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-resource.html#GUC-SHARED-BUFFERS"><code class="varname">shared_buffers</code></a>および<code class="varname">max_fsm_pages</code>のデフォルト値を増やしました。(Andrew)
      </p></li><li class="listitem"><p>ロック管理テーブルをセクションに分割することでロック処理の性能を向上しました。
       (Tom)
      </p><p>これによりロック処理の粒度が細かくなり、競合が減少します。
      </p></li><li class="listitem"><p>シーケンシャルスキャンにおけるロックの必要性を減少しました。(Qingqing Zhou)
      </p></li><li class="listitem"><p>データベース生成または削除時のロックの必要性を減少しました。
       (Tom)
      </p></li><li class="listitem"><p><a class="link" href="functions-matching.html#FUNCTIONS-LIKE" title="9.7.1. LIKE"><code class="literal">LIKE</code></a>、<a class="link" href="functions-matching.html#FUNCTIONS-LIKE" title="9.7.1. LIKE"><code class="literal">ILIKE</code></a>、<a class="link" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">regular expression</a>操作における、オプティマイザの選択性推定を改良しました。(Tom)
      </p></li><li class="listitem"><p><a class="link" href="ddl-inherit.html" title="5.9. 継承">継承されたテーブル</a>の結合や<a class="link" href="queries-union.html" title="7.4. 問い合わせの結合"><code class="literal">UNION ALL</code></a>ビューの計画作成を改良しました。(Tom)
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-query.html#GUC-CONSTRAINT-EXCLUSION">制約による除外</a>が <a class="link" href="ddl-inherit.html" title="5.9. 継承">継承された</a> <code class="command">UPDATE</code>および<code class="command">DELETE</code> 問い合わせに適用できるようになりました。(Tom)
      </p><p>既に<code class="command">SELECT</code>は制約による除外に従います。
      </p></li><li class="listitem"><p>条件が外側の問い合わせを継承する変数にのみに依存する条件など、一定の<code class="literal">WHERE</code>句に対する計画作成を改良しました。(Tom)
      </p></li><li class="listitem"><p>プロトコルレベルの無名準備済み文が、<code class="literal">BIND</code>値の集合毎に計画作成されるようになりました。(Tom)
      </p><p>正確なパラメータが計画で使用されるようになりますので、性能が向上します。
      </p></li><li class="listitem"><p>B-Treeインデックスのバキューム処理の速度が向上しました。(Heikki Linnakangas, Tom)
      </p></li><li class="listitem"><p><a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>期間中のインデックスを持たないテーブルに対する余計なスキャンを防止します。(Greg Stark)
      </p></li><li class="listitem"><p>複数列に対する<a class="link" href="gist.html" title="Chapter 62. GiSTインデックス"><acronym class="acronym">GiST</acronym></a>インデックス作成を改良しました。(Oleg, Teodor)
      </p></li><li class="listitem"><p>B-Treeページの分割を行う前に不要なインデックス項目を削除します。(Junji Teramoto)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.4"><div class="titlepage"><div><div><h4 class="title">E.222.3.2. サーバの変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>新しいトランザクションログファイルに強制的に切り替えることができるようになりました。(Simon, Tom)
      </p><p>これは、マスタと同期するウォームスタンバイスレーブサーバを維持するために有益なものです。
トランザクションログファイルの切り替えはまた、<a class="link" href="functions-admin.html" title="9.26. システム管理関数"><code class="function">pg_stop_backup()</code></a>時に発生します。
これにより、確実に、復旧に必要なすべてのトランザクションログファイルが即座にアーカイブされるようになります。
      </p></li><li class="listitem"><p><acronym class="acronym">WAL</acronym>情報関数を追加しました。(Simon)
      </p><p>現在のトランザクションログファイルの挿入箇所を問い合わせる関数、<a class="link" href="functions-admin.html" title="9.26. システム管理関数"><code class="function">pg_stop_backup()</code></a>や関連する関数で表示される16進数の<acronym class="acronym">WAL</acronym>の場所から<acronym class="acronym">WAL</acronym>ファイル名を決定する関数を追加しました。
      </p></li><li class="listitem"><p><acronym class="acronym">WAL</acronym>再生時のクラッシュからの復旧を改良しました。(Simon)
      </p><p>サーバは<acronym class="acronym">WAL</acronym>リカバリ時の定期的なチェックポイントを行うようになりました。
そのため、クラッシュした場合、その後の<acronym class="acronym">WAL</acronym>の修復は省かれます。
また、これにより、ウォームスタンバイサーバがクラッシュしたとしても、ベースバックアップからログ全体を再生する必要性もなくなります。
      </p></li><li class="listitem"><p>長期に渡る<acronym class="acronym">WAL</acronym>再生の信頼性を向上しました。(Heikki, Simon, Tom)
      </p><p>これまでは、2億トランザクション以上をロールフォワードしようとした場合、XID周回のために正常に動作しませんでした。
これは、ウォームスタンバイサーバが、新しいベースバックアップから定期的にリロードしなおす必要があることを意味します。
      </p></li><li class="listitem"><p>指定間隔でトランザクションログファイルの切り替えを強制できるように<a class="link" href="runtime-config-wal.html#GUC-ARCHIVE-TIMEOUT"><code class="varname">archive_timeout</code></a>を追加しました。(Simon)
      </p><p>これは、ウォームスタンバイサーバ用の最大複製遅延を強制します。
      </p></li><li class="listitem"><p>ネイティブな<a class="link" href="auth-methods.html#AUTH-LDAP" title="20.3.7. LDAP認証"><acronym class="acronym">LDAP</acronym></a>認証を追加しました。(Magnus Hagander)
      </p><p>これは特に、Windowsなど<acronym class="acronym">PAM</acronym>をサポートしないプラットフォームで便利です。
      </p></li><li class="listitem"><p><a class="link" href="sql-grant.html#SQL-GRANT-DESCRIPTION-OBJECTS" title="データベースオブジェクトに対するGRANT"><code class="literal">GRANT CONNECT ON DATABASE</code></a>を追加しました。(Gevik Babakhani)
      </p><p>これにより、データベースアクセス全体をSQLレベルで制御できます。
これは、既存の<a class="link" href="auth-pg-hba-conf.html" title="20.1. pg_hba.confファイル"><code class="filename">pg_hba.conf</code></a>による制御の上位に追加されるフィルタとして動作します。
      </p></li><li class="listitem"><p><a class="link" href="ssl-tcp.html" title="18.9. SSLによる安全なTCP/IP接続"><acronym class="acronym">SSL</acronym>証明書失効リスト</a> (<acronym class="acronym">CRL</acronym>)ファイルのサポートを追加しました。(Libor Hohoš)
      </p><p>サーバおよび<span class="application">libpq</span>が<acronym class="acronym">CRL</acronym>ファイルを認識できるようになりました。
      </p></li><li class="listitem"><p><a class="link" href="gist.html" title="Chapter 62. GiSTインデックス"><acronym class="acronym">GiST</acronym></a>インデックスがクラスタ可能になりました。(Teodor)
      </p></li><li class="listitem"><p>定常的な自動バキュームのサーバログ項目を削除しました。(Bruce)
      </p><p><a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="Table 28.2. 収集済み統計情報ビュー"><code class="literal">pg_stat_activity</code></a>が自動バキュームの状況を表示するようになりました。
      </p></li><li class="listitem"><p>データベース全体ではなく、個々のテーブルで最大XID年代を追跡するようにしました。(Alvaro)
      </p><p>これにより不要なVACUUMを防ぐことができ、トランザクションID周回を防止するためのオーバーヘッドを減少させることができます。
      </p></li><li class="listitem"><p>前回バキュームした時刻、解析した時刻を統計コレクタの列に追加しました。(Larry Rosenman)
      </p><p>これらの変数は<a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="Table 28.2. 収集済み統計情報ビュー"><code class="literal">pg_stat_*_tables</code></a>システムビューに表示されます。
      </p></li><li class="listitem"><p>統計処理監視、特に<code class="varname">stats_command_string</code>の性能を向上しました。(Tom, Bruce)
      </p><p>このリリースではデフォルトで<code class="varname">stats_command_string</code>が有効です。
そのオーバーヘッドが最小になっています。
これは<a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="Table 28.2. 収集済み統計情報ビュー"><code class="literal">pg_stat_activity</code></a>がデフォルトですべての有効な問い合わせを表示するようになったことを意味します。
      </p></li><li class="listitem"><p><code class="literal">waiting</code>列を<a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="Table 28.2. 収集済み統計情報ビュー"><code class="literal">pg_stat_activity</code></a>に追加しました。
       (Tom)
      </p><p>これにより、<code class="structname">pg_stat_activity</code>は<span class="application">ps</span>表示で含まれるすべての情報を表示できるようになります。
      </p></li><li class="listitem"><p><span class="application">ps</span>の表示を各コマンドで更新するかどうかを制御する<a class="link" href="runtime-config-logging.html#GUC-UPDATE-PROCESS-TITLE"><code class="varname">update_process_title</code></a>設定パラメータを追加しました。(Bruce)
      </p><p><span class="application">ps</span>表示の更新処理が高価なプラットフォームでは、これを無効にし、ステータス情報を<code class="structname">pg_stat_activity</code>に任せた方が良いかもしれません。
      </p></li><li class="listitem"><p>設定時に単位を指定できるようになりました。
       (Peter)
      </p><p>例えば、<a class="link" href="runtime-config-resource.html#GUC-SHARED-BUFFERS"><code class="varname">shared_buffers</code></a>を、暗算でサイズ変換することなく、<code class="literal">32MB</code>と指定することができるようになりました。
      </p></li><li class="listitem"><p><code class="filename">postgresql.conf</code>内で<a class="link" href="config-setting.html" title="19.1. パラメータの設定">include指示子</a>のサポートを追加しました。(Joachim Wieland)
      </p></li><li class="listitem"><p>プロトコルレベルのprepare/bind/executeメッセージのログ処理を改良しました。(Bruce, Tom)
      </p><p>ログ処理などで、文の名前、バインドパラメータ値、実行される問い合わせテキストを表示するようになりました。
また、<code class="varname">log_min_error_statement</code>が有効な場合、問い合わせテキストには、エラーメッセージが適切に含まれます。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-resource.html#GUC-MAX-STACK-DEPTH"><code class="varname">max_stack_depth</code></a>が危険な値に設定されることを防止します。
      </p><p>実際のカーネルスタック長の上限が決定できるプラットフォーム（ほとんどの場合）では、<code class="varname">max_stack_depth</code>の初期デフォルト値が安全になりました。
また、危険なほど大きな値が設定されたとしても拒絶します。
      </p></li><li class="listitem"><p>多くの場合で、問い合わせ内のエラー箇所のハイライトが可能になりました。(Tom)
      </p><p>これまでのような基本的な構文エラーだけでなく、サーバが一部の意味的なエラー（不明な列名など）に対しエラー箇所を指定して報告できるようになりました。
      </p></li><li class="listitem"><p><code class="command">VACUUM</code>における<span class="quote">“<span class="quote">failed to re-find parent key</span>”</span>エラーを修正しました。(Tom)
      </p></li><li class="listitem"><p>サーバ再起動時、<code class="filename">pg_internal.init</code>キャッシュファイルを初期化するようにしました。(Simon)
      </p><p>これは、PITRリカバリの後にキャッシュファイルが無効なデータを含む危険性を防止します。
      </p></li><li class="listitem"><p><code class="command">VACUUM</code>による1ギガバイト境界を越える大規模リレーションの消去における競合状態を修正しました。(Tom)
      </p></li><li class="listitem"><p>行レベルロックにおいて不要なデッドロックエラーを発生する不具合を修正しました。(Tom)
      </p></li><li class="listitem"><p>数ギガバイトのハッシュインデックスに影響する不具合を修正しました。(Tom)
      </p></li><li class="listitem"><p>各バックエンドプロセスが自身のプロセスグループリーダとなります。(Tom)
      </p><p>これにより、問い合わせのキャンセルがバックエンドプロセスやアーカイブ/リカバリプロセスから呼び出された子プロセスを中断できるようになりました。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.5"><div class="titlepage"><div><div><h4 class="title">E.222.3.3. 問い合わせの変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-insert.html" title="INSERT"><code class="command">INSERT</code></a>/<a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>/<a class="link" href="sql-delete.html" title="DELETE"><code class="command">DELETE</code></a> <code class="literal">RETURNING</code>を追加しました。(Jonah Harris, Tom)
      </p><p>これにより、これらのコマンドが、新しい行に対して計算された連番キーなどの値を返すことができます。
<code class="command">UPDATE</code>の場合、更新されたバージョンの行の値が返されます。
      </p></li><li class="listitem"><p>標準SQLに従った、複数行<a class="link" href="queries-values.html" title="7.7. VALUESリスト"><code class="literal">VALUES</code></a>句のサポートを追加しました。(Joe, Tom)
      </p><p>これにより、<code class="command">INSERT</code>は複数の定数行を挿入することができます。
また、定数を使用した結果セットを生成する問い合わせを行うこともできます。
例えば、<code class="literal">INSERT ...  VALUES (...), (...),
       ....</code>や<code class="literal">SELECT * FROM (VALUES (...), (...),
       ....) AS alias(f1, ...)</code>です。
      </p></li><li class="listitem"><p><a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>および<a class="link" href="sql-delete.html" title="DELETE"><code class="command">DELETE</code></a>が対象テーブルの別名を使用できるようになりました。(Atsushi Ogawa)
      </p><p>標準SQLでは、これらのコマンドで別名を許していません。
しかし、多くのデータベースシステムでは、便利な記法として許しています。
      </p></li><li class="listitem"><p><a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>が値リストで複数列を指定できるようになりました。(Susanne Ebrecht)
      </p><p>基本的にこれは、列と値の組み合わせ割り当てに関する簡略形です。
構文は、<code class="literal">UPDATE tab
        SET (<em class="replaceable"><code>column</code></em>, ...) = (<em class="replaceable"><code>val</code></em>, ...)</code>です。
      </p></li><li class="listitem"><p>標準に従った行の比較ができるようになりました。(Tom)
      </p><p>&lt;、&lt;=、&gt;、&gt;=という形式で行を辞書的に比較します。
つまり、最初の要素を比較し、もし同じならば、2番目の要素をという順に比較します。
以前は、これらは全要素に対するAND条件として展開されました。
標準に従っているわけでもなく、特に便利であるわけでもありませんでした。
      </p></li><li class="listitem"><p><code class="command">TRUNCATE</code>に<a class="link" href="sql-truncate.html" title="TRUNCATE"><code class="literal">CASCADE</code></a>オプションを追加しました。(Joachim Wieland)
      </p><p>これにより、<code class="command">TRUNCATE</code>は自動的に指定したテーブルを外部キー経由で参照するすべてのテーブルを含めるようになります。
便利ではありますが、危険なものです。
注意して使用してください。
      </p></li><li class="listitem"><p>同一<a class="link" href="sql-insert.html" title="INSERT"><code class="literal">SELECT</code></a>コマンドで<code class="literal">FOR UPDATE</code>と<code class="literal">FOR SHARE</code>をサポートします。(Tom)
      </p></li><li class="listitem"><p><a class="link" href="functions-comparisons.html" title="9.23. 行と配列の比較"><code class="literal">IS NOT DISTINCT FROM</code></a>を追加しました。(Pavel Stehule)
      </p><p>この演算子は等価演算子（<code class="literal">=</code>）と似ています。しかし、<code class="literal">NULL</code>を返すのではなく、右辺と左辺が<code class="literal">NULL</code>の場合に真と、片方だけが<code class="literal">NULL</code>の場合に偽と評価します。
      </p></li><li class="listitem"><p><a class="link" href="queries-union.html" title="7.4. 問い合わせの結合"><code class="literal">UNION</code></a>/<code class="literal">INTERSECT</code>/<code class="literal">EXCEPT</code>で使用される長さ出力を改良しました。
       (Tom)
      </p><p>すべての対応する列が同じ長さで定義された場合、一般的な長さではなく、その定義された長さが結果として使用されます。
      </p></li><li class="listitem"><p><a class="link" href="functions-matching.html#FUNCTIONS-LIKE" title="9.7.1. LIKE"><code class="literal">ILIKE</code></a>がマルチバイト符号化方式で動作できるようになりました。(Tom)
      </p><p>内部的には、<code class="literal">ILIKE</code>が<code class="function">lower()</code>を呼び出した後に<code class="literal">LIKE</code>を使用するようになりました。
こうした符号化方式では、ロケール固有の正規表現パターンはまだ正常に動作しません。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS"><code class="varname">standard_conforming_strings</code></a>を<code class="literal">on</code>にできるようになりました。(Kevin Grittner)
      </p><p>これにより、文字列内のバックスラッシュエスケープは無効になり、<span class="productname">PostgreSQL</span>がより標準に準拠するようになりました。
後方互換性のためデフォルトは<code class="literal">off</code>ですが、将来は<code class="literal">on</code>がデフォルトになる予定です。
      </p></li><li class="listitem"><p>対象リストに<code class="literal">volatile</code>関数が含まれている場合に副問い合わせを平坦化しません。(Jaime Casanova)
      </p><p>これは、<code class="literal">volatile</code>関数（<code class="function">random()</code>や<code class="function">nextval()</code>など）の複数回の評価による想定外の振る舞いを防止します。
不必要に<code class="literal">volatile</code>と宣言された関数があると、性能劣化をもたらす可能性があります。
      </p></li><li class="listitem"><p>準備済み文と開いているカーソルを示す<a class="link" href="view-pg-prepared-statements.html" title="51.76. pg_prepared_statements"><code class="literal">pg_prepared_statements</code></a>および<a class="link" href="view-pg-cursors.html" title="51.68. pg_cursors"><code class="literal">pg_cursors</code></a>システムビューを追加しました。(Joachim Wieland, Neil)
      </p><p>接続プールを設定している場合に非常に有用です。
      </p></li><li class="listitem"><p><a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN</code></a>および<a class="link" href="sql-execute.html" title="EXECUTE"><code class="command">EXECUTE</code></a>においてポータルパラメータをサポートします。(Tom)
      </p><p>これにより、例えば<acronym class="acronym">JDBC</acronym>の<code class="literal">?</code>パラメータでこれらのコマンドを動作させることができます。
      </p></li><li class="listitem"><p><acronym class="acronym">SQL</acronym>レベルで<a class="link" href="sql-prepare.html" title="PREPARE"><code class="command">PREPARE</code></a>パラメータが指定されない場合、問い合わせの文脈から型を推定します。(Neil)
      </p><p>プロトコルレベルの<code class="command">PREPARE</code>では既に実現していました。
      </p></li><li class="listitem"><p><code class="literal">LIMIT</code>および<code class="literal">OFFSET</code>が200億以上を使用できるようになりました。(Dhanaraj M)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.6"><div class="titlepage"><div><div><h4 class="title">E.222.3.4. オブジェクト操作における変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-createtableas.html" title="CREATE TABLE AS"><code class="command">CREATE TABLE AS</code></a>に<code class="literal">TABLESPACE</code>句を追加しました。
       (Neil)
      </p><p>これにより新しいテーブルを作成するときにテーブル空間を指定できます。
      </p></li><li class="listitem"><p><a class="link" href="sql-createtableas.html" title="CREATE TABLE AS"><code class="command">CREATE TABLE AS</code></a>に<code class="literal">ON COMMIT</code>句を追加しました。
       (Neil)
      </p><p>これにより、一時テーブルをトランザクションのコミット時に消去したり削除したりすることができます。
デフォルトの動作では、セッションが終了するまでテーブルは残ります。
      </p></li><li class="listitem"><p><a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="command">CREATE TABLE LIKE</code></a>に<code class="literal">INCLUDING CONSTRAINTS</code>を追加しました。
       (Greg Stark)
      </p><p>これにより、新しいテーブルに簡単に<code class="literal">CHECK</code>制約をコピーすることができます。
      </p></li><li class="listitem"><p>プレースホルダ（シェル）<a class="link" href="sql-createtype.html" title="CREATE TYPE">型</a>を生成できます。(Martijn van Oosterhout)
      </p><p>シェル型の宣言は、型の仕様を指定せずに型の名前を生成します。
シェル型の作成は、型を<span class="quote">“<span class="quote">実際に</span>”</span>定義する前に存在しなければならない、型の入出力関数の宣言を整理することができる点で有用です。
構文は、<code class="command">CREATE TYPE <em class="replaceable"><code>typename</code></em></code>です。
      </p></li><li class="listitem"><p><a class="link" href="sql-createaggregate.html" title="CREATE AGGREGATE">集約関数</a>が複数の入力パラメータをサポートするようになりました。(Sergey Koposov, Tom)
      </p></li><li class="listitem"><p>新しい集約関数作成<a class="link" href="sql-createaggregate.html" title="CREATE AGGREGATE">構文</a>を追加しました。(Tom)
      </p><p>新しい構文は<code class="command">CREATE AGGREGATE
       <em class="replaceable"><code>aggname</code></em> (<em class="replaceable"><code>input_type</code></em>)
       (<em class="replaceable"><code>parameter_list</code></em>)</code>です。
これはより自然に、新しい複数パラメータ集約機能をサポートします。
これまでの構文もまだサポートします。
      </p></li><li class="listitem"><p>過去に設定したロールパスワードを削除する<a class="link" href="sql-alterrole.html" title="ALTER ROLE"><code class="command">ALTER ROLE PASSWORD NULL</code></a>を追加しました。(Peter)
      </p></li><li class="listitem"><p>多くのオブジェクト種類について、 <code class="literal">IF EXISTS</code>付きの<code class="command">DROP</code>操作を追加しました。
      </p><p>これにより、オブジェクトが存在しなくてもエラーとなることなく、<code class="command">DROP</code>操作を行うことができます。
      </p></li><li class="listitem"><p>ロールが所有するすべてのオブジェクトを削除する<a class="link" href="sql-drop-owned.html" title="DROP OWNED"><code class="literal">DROP OWNED</code></a>を追加しました。(Alvaro)
      </p></li><li class="listitem"><p>あるロールが所有するすべてのオブジェクトの所有権を再割り当てする<a class="link" href="sql-reassign-owned.html" title="REASSIGN OWNED"><code class="literal">REASSIGN OWNED</code></a>を追加しました。(Alvaro)
      </p><p>これと上述の<code class="literal">DROP OWNED</code>によりロールの削除が簡単になります。
      </p></li><li class="listitem"><p><a class="link" href="sql-grant.html" title="GRANT"><code class="command">GRANT ON SEQUENCE</code></a>構文を追加しました。(Bruce)
      </p><p>シーケンス固有の権限設定のために追加されました。
シーケンスに対する<code class="literal">GRANT ON TABLE</code>も後方互換のためにまだサポートされています。
      </p></li><li class="listitem"><p>シーケンスに対し<code class="function">currval()</code>および<code class="function">nextval()</code>のみを許可し、 <code class="function">setval()</code>を許可しない<a class="link" href="sql-grant.html" title="GRANT"><code class="literal">USAGE</code></a>権限を追加しました。
       (Bruce)
      </p><p><code class="literal">USAGE</code>権限により、シーケンスに対するアクセス制御を細かく制御できるようになります。
<code class="literal">USAGE</code> を付与することで、シーケンスを増やすことはできるが、<code class="function">setval()</code>を使用して任意の値に設定することはできないユーザを作成することができます。
      </p></li><li class="listitem"><p><a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="literal">ALTER TABLE [ NO ] INHERIT</code></a>を追加しました。(Greg Stark)
      </p><p>これにより、テーブルの生成と削除時だけではなく、動的に継承を調整できるようになります。
テーブル分割を行うために継承を使用する時に非常に有用です。
      </p></li><li class="listitem"><p>グローバルオブジェクトに対する<a class="link" href="sql-comment.html" title="COMMENT">コメント</a>をグローバルに保管することができます。 (Kris Jurka)
      </p><p>これまでは、データベースに対するコメントは個々のデータベースに格納され、無効なものとしていました。
また、ロールやテーブル空間に対するコメントを付与することはまったくできませんでした。
この変更では、新しい共有カタログ<a class="link" href="catalog-pg-shdescription.html" title="51.48. pg_shdescription"><code class="structname">pg_shdescription</code></a>を追加し、そこにデータベース、ロール、テーブル空間に対するコメントを保管します。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.7"><div class="titlepage"><div><div><h4 class="title">E.222.3.5. ユーティリティコマンドの変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>テーブルへの同時書き込みをブロックせずにインデックスを作成できるオプションを追加しました。(Greg Stark, Tom)
      </p><p>新しい構文は<a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE
        INDEX CONCURRENTLY</code></a>です。
デフォルトでは、まだインデックス作成中のテーブルの変更はブロックされます。
      </p></li><li class="listitem"><p><a class="link" href="functions-admin.html#FUNCTIONS-ADVISORY-LOCKS" title="9.26.10. 勧告的ロック用関数">勧告的ロック</a>機能を提供します。(Abhijit Menon-Sen, Tom)
      </p><p>これは、/contrib/userlockで使用されていたものを置き換えるために設計された、新しいロック処理APIです。
userlockのコードはpgfoundryに移行しました。
      </p></li><li class="listitem"><p><a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a>が<code class="command">SELECT</code>問い合わせをダンプできるようになりました。(Zoltan Boszormenyi, Karel Zak)
      </p><p>これにより<code class="command">COPY</code>は任意の<acronym class="acronym">SQL</acronym>問い合わせをダンプできるようになりました。
構文は<code class="literal">COPY (SELECT ...) TO</code>です。
      </p></li><li class="listitem"><p><a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a>がコピーされた行数を含むコマンドタグを返すようになりました。(Volkan YAZICI)
      </p></li><li class="listitem"><p><a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>が同時実行中の他の<code class="command">VACUUM</code>操作の影響を受けることなく行をエキスパイアできるようになりました。(Hannu Krossing, Alvaro, Tom)
      </p></li><li class="listitem"><p><a class="link" href="app-initdb.html" title="initdb"><span class="application">initdb</span></a>がオペレーティングシステムのロケールを検出し、それに合う<code class="varname">DateStyle</code>のデフォルトを設定するようになりました。(Peter)
      </p><p>これにより、インストールされる<code class="filename">postgresql.conf</code>内の<code class="varname">DateStyle</code>がより好ましいものになるようになりました。
      </p></li><li class="listitem"><p><span class="application">initdb</span>が表示する進行メッセージ数を減らしました。(Tom)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.8"><div class="titlepage"><div><div><h4 class="title">E.222.3.6. 日付時刻に関する変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="datatype-datetime.html" title="8.5. 日付/時刻データ型"><code class="type">timestamp</code></a>の入力値に完全な時間帯名称を指定できます。
       (Joachim Wieland)
      </p><p>例えば、<code class="literal">'2006-05-24 21:11 America/New_York'::timestamptz</code>です。
      </p></li><li class="listitem"><p>設定変更可能な時間帯省略形をサポートします。(Joachim Wieland)
      </p><p>使用したい時間帯省略形の集合を<a class="link" href="runtime-config-client.html#GUC-TIMEZONE-ABBREVIATIONS"><code class="varname">timezone_abbreviations</code></a>設定パラメータで選択できます。
      </p></li><li class="listitem"><p>サポートされる時間帯を示す、<a class="link" href="view-pg-timezone-abbrevs.html" title="51.89. pg_timezone_abbrevs"><code class="varname">pg_timezone_abbrevs</code></a>および<a class="link" href="view-pg-timezone-names.html" title="51.90. pg_timezone_names"><code class="varname">pg_timezone_names</code></a>ビューを追加しました。(Magnus Hagander)
      </p></li><li class="listitem"><p><a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="Table 9.30. 日付/時刻関数"><code class="function">clock_timestamp()</code></a>、<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="Table 9.30. 日付/時刻関数"><code class="function">statement_timestamp()</code></a>、<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="Table 9.30. 日付/時刻関数"><code class="function">transaction_timestamp()</code></a>を追加しました。
       (Bruce)
      </p><p><code class="function">clock_timestamp()</code>は実際の現在時刻を、<code class="function">statement_timestamp()</code>は現在の問い合わせがサーバに届いた時刻を表します。
<code class="function">transaction_timestamp()</code>は<code class="function">now()</code>の別名です。
      </p></li><li class="listitem"><p><a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char()</code></a>が翻訳された月日名称を表すことができるようになりました。(Euler Taveira de Oliveira)
      </p></li><li class="listitem"><p><a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char(time)</code></a>および<a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char(interval)</code></a>で<acronym class="acronym">AM</acronym>/<acronym class="acronym">PM</acronym>指定の出力ができるようになりました。
       (Bruce)
      </p><p>時間間隔および時間が24時間周期で扱われます。
例えば、<code class="literal">25 hours</code>は<acronym class="acronym">AM</acronym>とみなされます。
      </p></li><li class="listitem"><p>時間間隔の単位を調整する<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="Table 9.30. 日付/時刻関数"><code class="function">justify_interval()</code></a>関数を追加しました。(Mark Dilger)
      </p></li><li class="listitem"><p>GMTから14:59離れたオフセットを持つ時間帯を持つことができます。
      </p><p>キリバス共和国ではGMT+14を使用します。
これを受け付けられるようにしました。
      </p></li><li class="listitem"><p>時間間隔計算を改良しました。(Michael Glaesemann, Bruce)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.9"><div class="titlepage"><div><div><h4 class="title">E.222.3.7. その他、データ型および関数の変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>配列が<code class="literal">NULL</code>要素を含むことができます。(Tom)
      </p></li><li class="listitem"><p>連続して項目が存在しない配列要素への代入が可能です。(Tom)
      </p><p>空いている配列位置はNULLで埋められます。
これは標準SQLに従います。
      </p></li><li class="listitem"><p>部分配列の比較に関して、新規の組み込み<a class="link" href="functions-array.html" title="9.18. 配列関数と演算子">演算子</a>（<code class="literal">@&gt;</code>、<code class="literal">&lt;@</code>、<code class="literal">&amp;&amp;</code>）を追加しました。 (Teodor, Tom)
      </p><p>これらの演算子は任意のデータ型に対して、<acronym class="acronym">GiST</acronym>または <acronym class="acronym">GIN</acronym>インデックスを使用してインデックス付けできます。
      </p></li><li class="listitem"><p><code class="type">INET</code>/<code class="type">CIDR</code>値に対して便利な算術<a class="link" href="functions-net.html#CIDR-INET-OPERATORS-TABLE" title="Table 9.36. cidrとinet演算子">操作</a>を追加しました。
      </p><p>新しい演算子は<code class="literal">&amp;</code> (論理積)、<code class="literal">|</code>(論理和)、<code class="literal">~</code> (否定)、<code class="type">inet</code> <code class="literal">+</code> <code class="type">int8</code>、<code class="type">inet</code> <code class="literal">-</code> <code class="type">int8</code>、<code class="type">inet</code> <code class="literal">-</code> <code class="type">inet</code>です。
      </p></li><li class="listitem"><p>SQL:2003の<a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-STATISTICS-TABLE" title="Table 9.53. 統計処理用の集約関数">集約関数</a>を新規に追加しました。
      </p><p>新しい関数は、<code class="function">var_pop()</code>、<code class="function">var_samp()</code>、<code class="function">stddev_pop()</code>、<code class="function">stddev_samp()</code>です。
<code class="function">var_samp()</code>および<code class="function">stddev_samp()</code>は、既存の集約関数<code class="function">variance()</code>と<code class="function">stddev()</code>の名前を変更したものに過ぎません。
後方互換のために、後者の名前も残っています。
      </p></li><li class="listitem"><p>SQL:2003の統計処理<a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-STATISTICS-TABLE" title="Table 9.53. 統計処理用の集約関数">集約</a>を追加しました。
       (Sergey Koposov)
      </p><p>新しい関数は、<code class="function">regr_intercept()</code>、<code class="function">regr_slope()</code>、<code class="function">regr_r2()</code>、<code class="function">corr()</code>、<code class="function">covar_samp()</code>、<code class="function">covar_pop()</code>、<code class="function">regr_avgx()</code>、<code class="function">regr_avgy()</code>、<code class="function">regr_sxy()</code>、<code class="function">regr_sxx()</code>、<code class="function">regr_syy()</code>、<code class="function">regr_count()</code>です。
      </p></li><li class="listitem"><p>他のドメインに基づいた<a class="link" href="sql-createdomain.html" title="CREATE DOMAIN">ドメイン</a>が可能になりました。(Tom)
      </p></li><li class="listitem"><p>すべての所で適切にドメイン<a class="link" href="ddl-constraints.html" title="5.3. 制約"><code class="literal">CHECK</code></a>制約が適切に強制されるようになりました。(Neil, Tom)
      </p><p>例えば、ドメイン型を返すものと宣言されたユーザ定義関数の結果がドメインの制約に対して検査されるようになりました。
これはドメイン実装における重大な抜け穴をなくしました。
      </p></li><li class="listitem"><p>名前が変更された<a class="link" href="datatype-numeric.html#DATATYPE-SERIAL" title="8.1.4. 連番型"><code class="type">SERIAL</code></a>列のダンプ処理の問題を解消しました。
       (Tom)
      </p><p>この修正は、
明示的に<code class="literal">DEFAULT</code>が指定された<code class="type">SERIAL</code>列と、そのシーケンス要素をダンプし、新しい<a class="link" href="sql-altersequence.html" title="ALTER SEQUENCE"><code class="command">ALTER
       SEQUENCE OWNED BY</code></a>コマンドを使用してリロード時に<code class="type">SERIAL</code>列を再構成するためのものです。
また、これにより<code class="type">SERIAL</code>列の仕様が削除できるようになりました。
      </p></li><li class="listitem"><p>サーバサイドのスリープ関数<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-DELAY" title="9.9.5. 遅延実行"><code class="function">pg_sleep()</code></a>を追加しました。
       (Joachim Wieland)
      </p></li><li class="listitem"><p><a class="link" href="datatype-oid.html" title="8.18. オブジェクト識別子データ型"><code class="type">tid</code></a> (タプルID)データ型の比較演算子をすべて追加しました。(Mark Kirkwood, Greg Stark, Tom)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.10"><div class="titlepage"><div><div><h4 class="title">E.222.3.8. PL/pgSQLサーバサイド言語の変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">TG_table_name</code>および<code class="literal">TG_table_schema</code>をトリガパラメータに追加しました。(Andrew)
      </p><p><code class="literal">TG_relname</code>は廃止予定です。
トリガパラメータにおける同様の変更が他のPLでもなされています。
      </p></li><li class="listitem"><p><code class="literal">FOR</code>文を使用して、レコード型や行型同様にスカラ値を返すことが可能です。(Pavel Stehule)
      </p></li><li class="listitem"><p>繰り返しの増分を制御できるように<code class="literal">FOR</code>ループに<code class="literal">BY</code>句を追加しました。(Jaime Casanova)
      </p></li><li class="listitem"><p><code class="literal">STRICT</code>を<a class="link" href="plpgsql-statements.html#PLPGSQL-STATEMENTS-SQL-ONEROW" title="42.5.3. 1行の結果を返す問い合わせの実行"><code class="command">SELECT
       INTO</code></a>に追加しました。 (Matt Miller)
      </p><p><span class="productname">Oracle PL/SQL</span>との互換性のために、<code class="literal">STRICT</code>で、 <code class="command">SELECT</code>によって返される行が正確に1行でない場合に例外を返すようになりました。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.11"><div class="titlepage"><div><div><h4 class="title">E.222.3.9. PL/Perlサーバサイド言語における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">table_name</code>および<code class="literal">table_schema</code>をトリガパラメータに追加しました。(Adam Sjøgren)
      </p></li><li class="listitem"><p>準備済み問い合わせを追加しました。(Dmitry Karasik)
      </p></li><li class="listitem"><p><code class="literal">$_TD</code>トリガデータをグローバル変数にしました。(Andrew)
      </p><p>以前はレキシカル変数でした。このため想定外の共有違反が起こりました。
      </p></li><li class="listitem"><p>セキュリティ対策として、PL/PerlとPL/PerlUが別のインタプリタで動作するようになりました。(Andrew)
      </p><p>このため、共有データやロード済みモジュールを両者で共有することができません。
また、Perlが複数のインタプリタが可能となるように必要なフラグをつけてコンパイルされていない場合、2つの内1つしかあるバックエンドプロセスで使用することができません。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.12"><div class="titlepage"><div><div><h4 class="title">E.222.3.10. PL/Pythonサーバサイド言語における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>名前付きパラメータが、<code class="literal">args[]</code>配列同様、普通の変数として渡されます。(Sven Suursoho)
      </p></li><li class="listitem"><p><code class="literal">table_name</code>および<code class="literal">table_schema</code>をトリガパラメータに追加しました。(Andrew)
      </p></li><li class="listitem"><p>複合型および結果セットを返すことが可能です。(Sven Suursoho)
      </p></li><li class="listitem"><p><code class="literal">list</code>、<code class="literal">iterator</code>、<code class="literal">generator </code>として結果セットを返します。(Sven Suursoho)
      </p></li><li class="listitem"><p>関数は<code class="literal">void</code>を返すことができます。(Neil)
      </p></li><li class="listitem"><p>Python 2.5をサポートしました。(Tom)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.13"><div class="titlepage"><div><div><h4 class="title">E.222.3.11. <a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a>における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>クライアント側のパスワード暗号化を使用してロールのパスワードを変更する<code class="literal">\password</code>コマンドを新規に追加しました。(Peter)
      </p></li><li class="listitem"><p><code class="literal">\c</code>により、新規にホスト、ポート番号を指定して接続することができます。(David, Volkan YAZICI)
      </p></li><li class="listitem"><p>テーブル空間の表示をする<code class="literal">\l+</code>を追加しました。 (Philip Yarra)
      </p></li><li class="listitem"><p>関数の引数名とモード（<code class="literal">OUT</code>または<code class="literal">INOUT</code>）を含めるように<code class="literal">\df</code>スラッシュコマンドを改良しました。(David Fetter)
      </p></li><li class="listitem"><p>バイナリ<code class="command">COPY</code>をサポートしました。(Andreas Pflug)
      </p></li><li class="listitem"><p>単一トランザクション内でセッション全体を実行させるオプションを追加しました。(Simon)
      </p><p><code class="literal">-1</code>または<code class="literal">--single-transaction</code>を使用してください。
      </p></li><li class="listitem"><p>カーソルを使用したバッチ内で自動的に<code class="command">SELECT</code>の結果を取り出せるようにしました。(Chris Mair)
      </p><p>これは<code class="command">\set FETCH_COUNT
      <em class="replaceable"><code>n</code></em></code>を使用して実現します。
この機能により、メモリ内に結果セット全体を保存することなく、大規模な結果セットを<span class="application">psql</span>内で取り出すことができます。
      </p></li><li class="listitem"><p>複数行に渡る値を適切な列数で整列します。
       (Martijn van Oosterhout)
      </p><p>改行を含むフィールド値がより読みやすく表示されます。
      </p></li><li class="listitem"><p>複数行に渡る文を、1行ごとではなく、単一の文と同様に保存します。(Sergey E. Koposov)
      </p><p>カーソル行による問い合わせの再呼び出しをより簡単に行うことができます。
（これはWindowsでは不可能です。
このプラットフォームでは、オペレーティングシステムに組み込まれたコマンドライン編集機能を使用しているためです。）
      </p></li><li class="listitem"><p>行カウンタを64ビットにしました。
このため200億行以上のファイルを扱うことが可能です。(David Fetter)
      </p></li><li class="listitem"><p><code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE RETURNING</code>で返されるデータとコマンドステータスタグの両方を表示します。(Tom)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.14"><div class="titlepage"><div><div><h4 class="title">E.222.3.12. <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a>における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">pg_dump</span>による含有または除外するオブジェクトの選択がより複雑にできるようになりました。 (Greg Sabino Mullane)
      </p><p><span class="application">pg_dump</span>は、複数の<code class="literal">-n</code>（スキーマ）と複数の <code class="literal">-t</code>（テーブル）オプションをサポートするようになりました。
また、オブジェクトを除外する<code class="literal">-N</code>および<code class="literal">-T</code>オプションも追加されました。
また、これらのスイッチの引数に、単一のオブジェクト名ではなく、例えば、<code class="literal">-t 'foo*'</code>といったワイルドカード表現を指定できるようになりました。
更に、スキーマを<code class="literal">-t</code>や<code class="literal">-T</code>スイッチの一部、例えば<code class="literal">-t schema1.table1</code>として指定できるようになりました。
      </p></li><li class="listitem"><p>テーブル作成に失敗（つまり、テーブルが既に存在する）した場合にデータのロードを中断する<code class="literal">--no-data-for-failed-tables</code>オプションを<a class="link" href="app-pgrestore.html" title="pg_restore"><span class="application">pg_restore</span></a>に追加しました。(Martin Pitt)
      </p></li><li class="listitem"><p>単一トランザクションでセッション全体を実行させるオプションを<a class="link" href="app-pgrestore.html" title="pg_restore"><span class="application">pg_restore</span></a>に追加しました。
       (Simon)
      </p><p>このためには<code class="literal">-1</code>または<code class="literal">--single-transaction</code>を使用してください。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.15"><div class="titlepage"><div><div><h4 class="title">E.222.3.13. <a class="link" href="libpq.html" title="Chapter 33. libpq - C ライブラリ"><span class="application">libpq</span></a>における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>パスワード暗号化のために<a class="link" href="libpq-misc.html" title="33.11. 雑多な関数"><code class="function">PQencryptPassword()</code></a>を追加しました。(Tom)
      </p><p>これによりパスワードを事前に暗号化して<a class="link" href="sql-alterrole.html" title="ALTER ROLE"><code class="command">ALTER ROLE ...
       PASSWORD</code></a>などのコマンドに渡すことができます。
      </p></li><li class="listitem"><p> <a class="link" href="libpq-threading.html" title="33.19. スレッド化プログラムの振舞い"><code class="function">PQisthreadsafe()</code></a>関数を追加しました。
       (Bruce)
      </p><p>これによりアプリケーションはライブラリのスレッド安全性を問い合わせることができます。
      </p></li><li class="listitem"><p>準備済み文や開いているカーソルに関する情報を返す、<a class="link" href="libpq-exec.html#LIBPQ-EXEC-MAIN" title="33.3.1. 主要な関数"><code class="function">PQdescribePrepared()</code></a>、<a class="link" href="libpq-exec.html#LIBPQ-EXEC-MAIN" title="33.3.1. 主要な関数"><code class="function">PQdescribePortal()</code></a>、その他関連する関数を追加しました。(Volkan YAZICI)
      </p></li><li class="listitem"><p><a class="link" href="libpq-pgservice.html" title="33.16. 接続サービスファイル"><code class="filename">pg_service.conf</code></a>から<a class="link" href="libpq-ldap.html" title="33.17. 接続パラメータのLDAP検索"><acronym class="acronym">LDAP</acronym></a>検索が可能です。
       (Laurenz Albe)
      </p></li><li class="listitem"><p><a class="link" href="libpq-pgpass.html" title="33.15. パスワードファイル"><code class="filename">~/.pgpass</code></a>内のホスト名をデフォルトのソケットディレクトリと一致できるようにしました。(Bruce)
      </p><p>ホスト名が空の場合、続きがUnixソケット接続と比較されます。
この追加によりマシン上の複数のサーバプロセスの1つを特定する項目を持つことができます。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.16"><div class="titlepage"><div><div><h4 class="title">E.222.3.14. <a class="link" href="ecpg.html" title="Chapter 35. ECPG - C言語による埋め込みSQL"><span class="application">ecpg</span></a>における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-show.html" title="SHOW"><code class="command">SHOW</code></a>はその結果を変数に格納することができます。(Joachim Wieland)
      </p></li><li class="listitem"><p><a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY TO STDOUT</code></a>を追加しました。
       (Joachim Wieland)
      </p></li><li class="listitem"><p>リグレッションテストを追加しました。(Joachim Wieland, Michael)
      </p></li><li class="listitem"><p>ソースコードの多くを整理しました。(Joachim Wieland, Michael)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.17"><div class="titlepage"><div><div><h4 class="title">E.222.3.15. <span class="application">Windows</span>移植</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><acronym class="acronym">MSVC</acronym>で<span class="productname">PostgreSQL</span>サーバをコンパイルできるようにしました。(Magnus, Hiroshi Saito)
      </p></li><li class="listitem"><p>ユーティリティコマンドや<a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a>の<acronym class="acronym">MSVC</acronym>サポートを追加しました。 (Hiroshi Saito)
      </p></li><li class="listitem"><p>Windowsコードページ<code class="literal">1253</code>、<code class="literal">1254</code>、<code class="literal">1255</code>、<code class="literal">1257</code>のサポートを追加しました。
       (Kris Jurka)
      </p></li><li class="listitem"><p>サーバが管理アカウントから起動できるように起動時の権限をなくしました。 (Magnus)
      </p></li><li class="listitem"><p>安定性を向上させました。(Qingqing Zhou, Magnus)
      </p></li><li class="listitem"><p>ネイティブなセマフォを実装しました。(Qingqing Zhou)
      </p><p>これまでのコードはSysVセマフォをまねたものでした。
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.18"><div class="titlepage"><div><div><h4 class="title">E.222.3.16. ソースコードにおける変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="gin.html" title="Chapter 64. GINインデックス"><acronym class="acronym">GIN</acronym></a>（汎用転置インデックス）インデックスアクセスメソッドを追加しました。(Teodor, Oleg)
      </p></li><li class="listitem"><p>R-treeインデックスを削除しました。(Tom)
      </p><p>R-treeは<a class="link" href="gist.html" title="Chapter 62. GiSTインデックス"><acronym class="acronym">GiST</acronym></a>を使用して再実装されました。
とりわけ、これは、R-treeインデックスで先行書き込みログ（WAL）を使用したクラッシュからの復旧が可能になったことを意味します。
      </p></li><li class="listitem"><p>バックエンドに不必要にリンクするライブラリを減らしました。(Martijn
       van Oosterhout, Tom)
      </p></li><li class="listitem"><p><acronym class="acronym">GNU</acronym> readlineよりもlibeditを優先させるフラグをconfigureに追加しました。(Bruce)
      </p><p><a class="link" href="install-procedure.html#CONFIGURE" title="構成"><code class="literal">--with-libedit-preferred</code></a>を使用してconfigureを実行してください。
      </p></li><li class="listitem"><p>空白文字を含むディレクトリにインストールできるようにしました。
       (Peter)
      </p></li><li class="listitem"><p>インストールディレクトリの再割り当て機能を改良しました。(Tom)
      </p></li><li class="listitem"><p><span class="productname">Solaris</span>コンパイラを使用した<span class="productname">Solaris x86_64</span>のサポートを追加しました。(Pierre Girard, Theo
        Schlossnagle, Bruce)
      </p></li><li class="listitem"><p><span class="application">DTrace</span>サポートを追加しました。(Robert Lor)
      </p></li><li class="listitem"><p>サードパーティアプリケーションが、C言語で&gt;、&lt;比較を使用してバックエンドのバージョンを検査できるように<code class="literal">PG_VERSION_NUM</code>を追加しました。(Bruce)
      </p></li><li class="listitem"><p><code class="literal">BLCKSZ</code>と独立して、<code class="literal">XLOG_BLCKSZ</code>を追加しました。
       (Mark Wong)
      </p></li><li class="listitem"><p>ロック状況を報告するための<code class="literal">LWLOCK_STATS</code>定義を追加しました。 (Tom)
      </p></li><li class="listitem"><p>不明な<span class="application">configure</span>オプションに関する警告を出力します。(Martijn van Oosterhout)
      </p></li><li class="listitem"><p>デバッグや性能測定などの追加作業に使用することができる<span class="quote">“<span class="quote">plugin</span>”</span>ライブラリのサーバサポートを追加しました。(Korry Douglas)
      </p><p>これは2つの機能からなります。
1つは、<span class="quote">“<span class="quote">ランデブー変数</span>”</span>のテーブルであり、これにより別々にロードされた共有ライブラリ間で通信を行うことができます。
2つ目は、新しい<a class="link" href="runtime-config-client.html#GUC-LOCAL-PRELOAD-LIBRARIES"><code class="varname">local_preload_libraries</code></a>設定パラメータであり、これにより、クライアントアプリケーションから明示的な協力をすることなく、ライブラリを指定したセッションにロードさせることができます。
これにより、外部アドオンがPL/pgSQLデバッガなどの機能を実装できます。
      </p></li><li class="listitem"><p>既存の<code class="varname">preload_libraries</code>設定パラメータを<a class="link" href="runtime-config-client.html#GUC-SHARED-PRELOAD-LIBRARIES"><code class="varname">shared_preload_libraries</code></a>に名前を変更しました。
       (Tom)
      </p><p>これは、<code class="varname">local_preload_libraries</code>との違いを明確にするために行いました。
      </p></li><li class="listitem"><p>新しい<a class="link" href="runtime-config-preset.html#GUC-SERVER-VERSION-NUM"><code class="varname">server_version_num</code></a>設定パラメータを追加しました。
       (Greg Sabino Mullane)
      </p><p>これは<code class="varname">server_version</code>と似ていますが、例えば<code class="literal">80200</code>といった整数値です。
これによりアプリケーションはバージョン検査をより簡単に行うことができます。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-query.html#GUC-SEQ-PAGE-COST"><code class="varname">seq_page_cost</code></a>設定パラメータを追加しました。
       (Tom)
      </p></li><li class="listitem"><p>Cプログラムとして<a class="link" href="regress.html" title="Chapter 32. リグレッションテスト">リグレッションテスト</a>スクリプトを再実装しました。
       (Magnus, Tom)
      </p></li><li class="listitem"><p>ロード可能モジュールが共有メモリと軽量ロックを割り当てできるようにしました。(Marc Munro)
      </p></li><li class="listitem"><p>動的にロードしたライブラリの自動的な初期化処理と最終処理を追加しました。(Ralf Engelschall, Tom)
      </p><p>新しい<a class="link" href="xfunc-c.html#XFUNC-C-DYNLOAD" title="37.9.1. 動的ロード">関数</a><code class="function">_PG_init()</code>と<code class="function">_PG_fini()</code>が、これらのシンボルを定義したライブラリで、呼び出されます。
したがって、<code class="varname">shared_preload_libraries</code>内で初期化関数を指定する必要がなくなりました。
こうしたライブラリでは代わりに<code class="function">_PG_init()</code>規約が使用されるものと仮定することができます。
      </p></li><li class="listitem"><p>すべての共有オブジェクトファイルに<a class="link" href="xfunc-c.html#XFUNC-C-DYNLOAD" title="37.9.1. 動的ロード"><code class="literal">PG_MODULE_MAGIC</code></a>ヘッダブロックを追加しました。(Martijn van
       Oosterhout)
      </p><p>このマジックブロックは、ロード可能オブジェクトファイルとサーバとの間のバージョン不整合を防止するものです。
      </p></li><li class="listitem"><p>AIXでの共有ライブラリサポートを追加しました。(Laurenz Albe)
      </p></li><li class="listitem"><p>新しい<a class="link" href="datatype-xml.html" title="8.13. XML型"><acronym class="acronym">XML</acronym></a>文書セクションを追加しました。(Bruce)
      </p></li></ul></div></div><div class="sect3" id="id-1.11.6.226.5.19"><div class="titlepage"><div><div><h4 class="title">E.222.3.17. Contrib における変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>tsearch2が大きく改良されました。(Oleg, Teodor)
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <acronym class="acronym">UTF8</acronym>を含むマルチバイト符号化方式のサポート
        </p></li><li class="listitem"><p>問い合わせ書き換えのサポート
        </p></li><li class="listitem"><p>ランク付け関数の改良
        </p></li><li class="listitem"><p>シソーラス辞書のサポート
        </p></li><li class="listitem"><p>Ispell辞書が、<span class="application">OpenOffice</span>で使用される<span class="application">MySpell</span>書式を認識するようになりました
        </p></li><li class="listitem"><p><acronym class="acronym">GIN</acronym>のサポート
        </p></li></ul></div></li><li class="listitem"><p><span class="application">Pgadmin</span>管理関数を含むadminpackモジュールを追加しました。
      </p><p>これらの関数は、デフォルトの<span class="productname">PostgreSQL</span>サーバには存在しない、追加のファイルシステムアクセス処理を提供します。
      </p></li><li class="listitem"><p>sslinfoモジュールを追加しました。(Victor Wagner)
      </p><p>現在の接続における<acronym class="acronym">SSL</acronym>証明書に関する情報を表示します。
      </p></li><li class="listitem"><p>pgrowlocksモジュールを追加しました。
      </p><p>これは、指定したテーブルに関する行ロック情報を表示します。
      </p></li><li class="listitem"><p>hstoreモジュールを追加しました。 (Oleg, Teodor)
      </p></li><li class="listitem"><p>isbn_issnを置き換えて、isnモジュールを追加しました。 (Jeremy Kronuz)
      </p><p>この新しい実装では、<acronym class="acronym">EAN13</acronym>、<acronym class="acronym">UPC</acronym>、<acronym class="acronym">ISBN</acronym> (書籍), <acronym class="acronym">ISMN</acronym> (音楽)、<acronym class="acronym">ISSN</acronym> (シリアル番号)をサポートします。
      </p></li><li class="listitem"><p>pgstattupleにインデックス情報関数を追加しました。 (ITAGAKI Takahiro,
       Satoshi Nagayasu)
      </p></li><li class="listitem"><p>空き領域マップ情報を表示するpg_freespacemapを追加しました。
       (Mark Kirkwood)
      </p></li><li class="listitem"><p>pgcryptoが予定していたすべての機能を持つようになりました。(Marko Kreen)
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>公開キー暗号関数が常に利用できるようにiMathライブラリをpgcryptoに含めました。
        </p></li><li class="listitem"><p>OpenBSD用のコードで存在しなかったSHA224アルゴリズムを追加しました。
        </p></li><li class="listitem"><p>古めのOpenSSLにおけるSHA224/256/384/512ハッシュ用の組み込みコードを有効化し、常にこれらのアルゴリズムが利用できるようになりました。
        </p></li><li class="listitem"><p>暗号化に使用される乱数の強度を返すgen_random_bytes()関数を追加しました。
暗号化キーの生成に便利です。
        </p></li><li class="listitem"><p>digest_exists()、hmac_exists()、cipher_exists()関数を削除しました。
        </p></li></ul></div></li><li class="listitem"><p>cubeモジュールを改良しました。(Joshua Reich)
      </p><p><code class="function">cube(float[])</code>、<code class="function">cube(float[], float[])</code>、<code class="function">cube_subset(cube, int4[])</code>関数を追加しました。
      </p></li><li class="listitem"><p>dblinkに非同期問い合わせ機能を追加しました。(Kai Londenberg,
       Joe Conway)
      </p></li><li class="listitem"><p>部分配列比較用に新しい演算子（<code class="literal">@&gt;</code>、<code class="literal">&lt;@</code>、<code class="literal">&amp;&amp;</code>）を追加しました。(Tom)
      </p><p>各種contribパッケージで、独自のデータ型用に既にこれらの演算子を持っていましたが、命名に一貫性がありませんでした。
コアコードと、こうした機能を持つcontribパッケージすべてに、一貫性を持った名前の部分配列の比較演算子を追加しました。
(古い名前も利用可能ですが、廃止予定です。)
      </p></li><li class="listitem"><p>インストールスクリプトを持つすべてのcontribパッケージに対してアンインストール用のスクリプトを追加しました。(David, Josh Drake)
      </p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-2-1.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-1-23.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">E.221. リリース8.2.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> E.223. リリース8.1.23</td></tr></table></div></body></html>