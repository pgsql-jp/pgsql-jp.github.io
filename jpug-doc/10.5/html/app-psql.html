<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>psql</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="app-pgrestore.html" title="pg_restore" /><link rel="next" href="app-reindexdb.html" title="reindexdb" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center"><span xmlns="http://www.w3.org/1999/xhtml" class="application">psql</span></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="app-pgrestore.html" title="pg_restore">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="reference-client.html" title="PostgreSQLクライアントアプリケーション">Up</a></td><th width="60%" align="center">PostgreSQLクライアントアプリケーション</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="app-reindexdb.html" title="reindexdb">Next</a></td></tr></table><hr></hr></div><div class="refentry" id="APP-PSQL"><div class="titlepage"></div><a id="id-1.9.4.18.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle"><span class="application">psql</span></span></h2><p><span class="application">psql</span> — <span class="productname">PostgreSQL</span>の対話的ターミナル
    </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="id-1.9.4.18.4.1"><code class="command">psql</code> [<em class="replaceable"><code>option</code></em>...] [<em class="replaceable"><code>dbname</code></em>
    [<em class="replaceable"><code>username</code></em>]]</p></div></div><div class="refsect1" id="id-1.9.4.18.5"><h2>説明</h2><p><span class="application">psql</span>とは<span class="productname">PostgreSQL</span>のターミナル型フロントエンドです。
対話的に問い合わせを入力し、それを<span class="productname">PostgreSQL</span>に対して発行して、結果を確認することができます。
また、ファイルから入力を読み込むことも可能です。
さらに、スクリプトの記述を簡便化したり、様々なタスクを自動化したりする、いくつものメタコマンドとシェルに似た各種の機能を備えています。
    </p></div><div class="refsect1" id="R1-APP-PSQL-3"><h2>オプション</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-a</code><br /></span><span class="term"><code class="option">--echo-all</code></span></dt><dd><p>読み込んだ全ての空でない入力行を標準出力に表示します。
(これは対話式に読み込まれる行には適用されません。)
これは<code class="varname">ECHO</code>変数を<code class="literal">all</code>に設定するのと同じ意味を持ちます。
      </p></dd><dt><span class="term"><code class="option">-A</code><br /></span><span class="term"><code class="option">--no-align</code></span></dt><dd><p>位置揃えなしの出力モードに切り替えます
（デフォルトの出力モードは位置揃えありです）。
これは<code class="command">\pset format unaligned</code>と同等です。
      </p></dd><dt><span class="term"><code class="option">-b</code><br /></span><span class="term"><code class="option">--echo-errors</code></span></dt><dd><p>失敗したSQLコマンドを標準エラー出力に出力します。
これは<code class="varname">ECHO</code>変数を<code class="literal">errors</code>に設定するのと同等です。
      </p></dd><dt><span class="term"><code class="option">-c <em class="replaceable"><code>command</code></em></code><br /></span><span class="term"><code class="option">--command=<em class="replaceable"><code>command</code></em></code></span></dt><dd><p><span class="application">psql</span>に対し、指定のコマンド文字列<em class="replaceable"><code>command</code></em>を実行するよう指示します。
このオプションは繰り返すことができ、また<code class="option">-f</code>オプションと任意の順序で組み合わせることができます。
<code class="option">-c</code>または<code class="option">-f</code>が指定されると、<span class="application">psql</span>は標準入力からコマンドを読み取りません。
その代わりに、すべての<code class="option">-c</code>オプションおよび<code class="option">-f</code>オプションを順に処理した後、終了します。
      </p><p><em class="replaceable"><code>command</code></em>は、サーバで完全に解析可能な（つまり、<span class="application">psql</span>特有の機能は含まない）コマンド文字列、もしくは、バックスラッシュコマンド1つである必要があります。
このため、<code class="option">-c</code>オプション内では<acronym class="acronym">SQL</acronym>と<span class="application">psql</span>メタコマンドを混在させることはできません。
これらを同時に使用するには、<code class="option">-c</code>オプションを繰り返し利用するか、あるいはパイプを使って文字列を<span class="application">psql</span>に渡します。
例えば、
</p><pre class="programlisting">psql -c '\x' -c 'SELECT * FROM foo;'</pre><p>
あるいは
</p><pre class="programlisting">echo '\x \\ SELECT * FROM foo;' | psql</pre><p>
のようにします（<code class="literal">\\</code>はメタコマンドの区切り文字です）。
      </p><p><code class="option">-c</code>に渡される各<acronym class="acronym">SQL</acronym>のコマンド文字列は、単一の問い合わせとしてサーバに送信されます。
このため、トランザクションを複数に分ける<code class="command">BEGIN</code>/<code class="command">COMMIT</code>コマンドが明示的に文字列内に含まれない限り、文字列内に複数の<acronym class="acronym">SQL</acronym>コマンドが含まれていたとしても、サーバはそれを1つのトランザクションとして実行します。
また、<span class="application">psql</span>は文字列内の最後の<acronym class="acronym">SQL</acronym>コマンドの結果しか出力しません。
同じ文字列をファイル、あるいは<span class="application">psql</span>の標準入力として渡した場合、<span class="application">psql</span>は各<acronym class="acronym">SQL</acronym>コマンドを別々に送信しますので、この場合とは動作が異なります。
      </p><p>この動作のため、1つの<code class="option">-c</code>の文字列に2つ以上のコマンドを指定すると、予期しない結果をもたらすことがあります。
<code class="option">-c</code>のコマンドを繰り返し使うか、あるいは、上記のように<span class="application">echo</span>を使うか、以下の例のようにシェルのヒアドキュメントを使うことで、<span class="application">psql</span>の標準入力に複数のコマンドを入力する方が良いでしょう。
</p><pre class="programlisting">psql &lt;&lt;EOF
\x
SELECT * FROM foo;
EOF</pre><p>
      </p></dd><dt><span class="term"><code class="option">-d <em class="replaceable"><code>dbname</code></em></code><br /></span><span class="term"><code class="option">--dbname=<em class="replaceable"><code>dbname</code></em></code></span></dt><dd><p>接続するデータベースの名前を指定します。
コマンドラインでオプション以外の最初の引数として<em class="replaceable"><code>dbname</code></em>を指定するのと同じ効力を持ちます。
      </p><p>このパラメータに<code class="symbol">=</code>記号が含まれる場合、または有効な<acronym class="acronym">URI</acronym>接頭辞(<code class="literal">postgresql://</code>または<code class="literal">postgres://</code>)から始まる場合<em class="parameter"><code>conninfo</code></em>文字列として扱われます。
詳しくは<a class="xref" href="libpq-connect.html" title="33.1. データベース接続制御関数">Section 33.1</a>を参照してください。
      </p></dd><dt><span class="term"><code class="option">-e</code><br /></span><span class="term"><code class="option">--echo-queries</code></span></dt><dd><p>サーバに送られるすべてのSQLコマンドを標準出力にも送ります。
<code class="varname">ECHO</code>変数を<code class="literal">queries</code>に設定するのと同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-E</code><br /></span><span class="term"><code class="option">--echo-hidden</code></span></dt><dd><p><code class="command">\d</code>やその他のバックスラッシュコマンドによって生成される実際の問い合わせを表示します。
これを使って、<span class="application">psql</span>の内部動作を調べることができます。
これは変数<code class="varname">ECHO_HIDDEN</code>を<code class="literal">on</code>に設定するのと同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-f <em class="replaceable"><code>filename</code></em></code><br /></span><span class="term"><code class="option">--file=<em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>標準入力ではなく、ファイル<em class="replaceable"><code>filename</code></em>からコマンドを読み取ります。
このオプションは繰り返すことができ、また<code class="option">-c</code>オプションと任意の順序で組み合わせることができます。
<code class="option">-c</code>または<code class="option">-f</code>が指定されると、<span class="application">psql</span>は標準入力からコマンドを読み取りません。
その代わりに、すべての<code class="option">-c</code>オプションおよび<code class="option">-f</code>オプションを順に処理した後、終了します。
その点を除けば、このオプションは<code class="command">\i</code>メタコマンドとほぼ同等です。
      </p><p><em class="replaceable"><code>filename</code></em>に<code class="literal">-</code>（ハイフン）を指定すると、標準入力からEOFを示すもの、または<code class="command">\q</code>メタコマンドまで読み取られます。
これは対話的入力をファイルからの入力と混在させるために使うことができます。
ただし、この場合、Readlineは使われないことに注意してください（<code class="option">-n</code>が指定された場合と同様です）。
      </p><p>このオプションを指定するのと、<code class="literal">psql &lt; <em class="replaceable"><code>filename</code></em></code>と入力するのでは、微妙に動作が異なります。
一般的には、両者とも期待通りの動作を行いますが、<code class="literal">-f</code>を使用した場合は、エラーメッセージに行番号を付けるなどいくつか便利な機能が有効になります。
また、このオプションを使用した場合、起動時のオーバーヘッドが減少する可能性が若干あります。
一方、シェルの入力リダイレクションを使用する方法では、（理論的には）全て手作業で入力した場合の出力とまったく同一な出力になることが保証されます。
      </p></dd><dt><span class="term"><code class="option">-F <em class="replaceable"><code>separator</code></em></code><br /></span><span class="term"><code class="option">--field-separator=<em class="replaceable"><code>separator</code></em></code></span></dt><dd><p><em class="replaceable"><code>separator</code></em>を位置揃えを行わない出力におけるフィールド区切り文字として使用します。
<code class="command">\pset fieldsep</code>もしくは<code class="command">\f</code>と同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-h <em class="replaceable"><code>hostname</code></em></code><br /></span><span class="term"><code class="option">--host=<em class="replaceable"><code>hostname</code></em></code></span></dt><dd><p>サーバを実行しているマシンのホスト名を指定します。
この値がスラッシュから始まる場合、Unixドメインソケット用のディレクトリとして使用されます。
      </p></dd><dt><span class="term"><code class="option">-H</code><br /></span><span class="term"><code class="option">--html</code></span></dt><dd><p><acronym class="acronym">HTML</acronym>表形式を有効にします。
<code class="literal">\pset format html</code>もしくは<code class="command">\H</code>コマンドと同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-l</code><br /></span><span class="term"><code class="option">--list</code></span></dt><dd><p>利用可能な全てのデータベースを一覧表示し、終了します。
この他の接続に関連しないオプションは無視されます。
<code class="command">\list</code>メタコマンドと似た効力を持ちます。
      </p><p>このオプションが使用されるときは、別のデータベース名がコマンドラインで指定されない限り（オプション<code class="option">-d</code>または、環境変数ではない非オプション引数、おそらくサービスエントリーを通じて）、<span class="application">psql</span>は、<code class="literal">postgres</code>データベースに接続します。
      </p></dd><dt><span class="term"><code class="option">-L <em class="replaceable"><code>filename</code></em></code><br /></span><span class="term"><code class="option">--log-file=<em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>すべての問い合わせの出力を通常の出力先に出力し、さらにファイル<em class="replaceable"><code>filename</code></em>に書き出します。
      </p></dd><dt><span class="term"><code class="option">-n</code><br /></span><span class="term"><code class="option">--no-readline</code></span></dt><dd><p>行編集用の<span class="application">Readline</span>を使用しません。
またコマンド履歴も使用しません。
コピー＆ペースト時のタブ展開を無効にするために有用かもしれません。
      </p></dd><dt><span class="term"><code class="option">-o <em class="replaceable"><code>filename</code></em></code><br /></span><span class="term"><code class="option">--output=<em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>全ての問い合わせの出力を<em class="replaceable"><code>filename</code></em>ファイルに書き込みます。
これは<code class="command">\o</code>コマンドと同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-p <em class="replaceable"><code>port</code></em></code><br /></span><span class="term"><code class="option">--port=<em class="replaceable"><code>port</code></em></code></span></dt><dd><p>サーバが接続監視を行っているTCPポートもしくはローカルUnixドメインソケットファイルの拡張子を指定します。
環境変数<code class="envar">PGPORT</code>の値、環境変数が設定されていない場合はコンパイル時に指定した値（通常は5432）がデフォルト値となります。
      </p></dd><dt><span class="term"><code class="option">-P <em class="replaceable"><code>assignment</code></em></code><br /></span><span class="term"><code class="option">--pset=<em class="replaceable"><code>assignment</code></em></code></span></dt><dd><p><code class="command">\pset</code>形式により表示オプションを指定します。
ここでは空白ではなく等号を使って名前と値を区切っていることに注意してください。
たとえば、出力形式を<span class="application">LaTeX</span>にする場合、<code class="literal">-P format=latex</code>と入力します。
      </p></dd><dt><span class="term"><code class="option">-q</code><br /></span><span class="term"><code class="option">--quiet</code></span></dt><dd><p><span class="application">psql</span>がメッセージ出力なしで処理を行うように指示します。
デフォルトでは、ウェルカム（welcome）メッセージや各種の情報が表示されますが、
このオプションを使用した場合、これらのメッセージが表示されません。
<code class="option">-c</code>オプションと併用すると便利です。
これは変数<code class="varname">QUIET</code>を<code class="literal">on</code>に設定するのと同じ効力を持ちます。
      </p></dd><dt><span class="term"><code class="option">-R <em class="replaceable"><code>separator</code></em></code><br /></span><span class="term"><code class="option">--record-separator=<em class="replaceable"><code>separator</code></em></code></span></dt><dd><p><em class="replaceable"><code>separator</code></em>を位置揃えを行わない出力におけるレコード区切り文字として使用します。
これは<code class="command">\pset recordsep</code>と同じです。
      </p></dd><dt><span class="term"><code class="option">-s</code><br /></span><span class="term"><code class="option">--single-step</code></span></dt><dd><p>シングルステップモードで実行します。
これは各コマンドがサーバに送信される前に、ユーザに対して実行するかキャンセルするかについて確認を求めることを意味します。
スクリプトのデバッグを行う時に使用してください。
      </p></dd><dt><span class="term"><code class="option">-S</code><br /></span><span class="term"><code class="option">--single-line</code></span></dt><dd><p>シングル行モードで実行します。このモードでは、セミコロンと同じように改行もSQLコマンドの終端として扱われます。
      </p><div class="note"><h3 class="title">Note</h3><p>このモードはどうしてもこのような方式を使用したいユーザ向けに用意されたもので、必ずしも使用が推奨されるわけではありません。
特に、1行に<acronym class="acronym">SQL</acronym>とメタコマンドを混在させる場合、経験の浅いユーザにとってその実行順番は必ずしもわかりやすいものではありません。
      </p></div></dd><dt><span class="term"><code class="option">-t</code><br /></span><span class="term"><code class="option">--tuples-only</code></span></dt><dd><p>列名と結果の行数フッタなどの表示を無効にします。
これは、<code class="command">\t</code>および<code class="command">\pset tuples_only</code>と同等です。
      </p></dd><dt><span class="term"><code class="option">-T <em class="replaceable"><code>table_options</code></em></code><br /></span><span class="term"><code class="option">--table-attr=<em class="replaceable"><code>table_options</code></em></code></span></dt><dd><p><acronym class="acronym">HTML</acronym>の<code class="sgmltag-element">table</code>タグで使用されるオプションを指定します。
詳細は<code class="command">\pset tableattr</code>を参照してください。
      </p></dd><dt><span class="term"><code class="option">-U <em class="replaceable"><code>username</code></em></code><br /></span><span class="term"><code class="option">--username=<em class="replaceable"><code>username</code></em></code></span></dt><dd><p>デフォルトのユーザではなく<em class="replaceable"><code>username</code></em>ユーザとしてデータベースに接続します
（当然、そうする権限を持っていなければなりません）。
      </p></dd><dt><span class="term"><code class="option">-v <em class="replaceable"><code>assignment</code></em></code><br /></span><span class="term"><code class="option">--set=<em class="replaceable"><code>assignment</code></em></code><br /></span><span class="term"><code class="option">--variable=<em class="replaceable"><code>assignment</code></em></code></span></dt><dd><p><code class="command">\set</code>メタコマンドのように、変数の代入を行います。
値がある場合、コマンド行上では、名前と値を等号（=）で区切る必要があることに注意してください。
変数を未設定の状態にするには、等号を指定しないでください。
値が空の変数を設定するには、値を指定しないで等号のみ使用してください。
これらの代入はコマンド行処理の段階で行われます。
そのため、接続状態を表す変数は後で上書きされる可能性があります。
      </p></dd><dt><span class="term"><code class="option">-V</code><br /></span><span class="term"><code class="option">--version</code></span></dt><dd><p><span class="application">psql</span>のバージョンを表示し、終了します。
      </p></dd><dt><span class="term"><code class="option">-w</code><br /></span><span class="term"><code class="option">--no-password</code></span></dt><dd><p>パスワードの入力を促しません。
サーバがパスワード認証を必要とし、かつ、<code class="filename">.pgpass</code>ファイルなどの他の方法が利用できない場合、接続試行は失敗します。
バッチジョブやスクリプトなどパスワードを入力するユーザが存在しない場合にこのオプションは有用かもしれません。
      </p><p>このオプションはセッション全体にわたって設定されたままであることに注意してください。
このため<code class="command">\connect</code>メタコマンドの使用に関しても初期接続試行と同様に影響します。
      </p></dd><dt><span class="term"><code class="option">-W</code><br /></span><span class="term"><code class="option">--password</code></span></dt><dd><p>データベースに接続する前に、<span class="application">psql</span>は強制的にパスワード入力を促します。
      </p><p>サーバがパスワード認証を要求する場合<span class="application">psql</span>は自動的にパスワード入力を促しますので、これが重要になることはありません。
しかし、<span class="application">psql</span>は、サーバにパスワードが必要かどうかを判断するための接続試行を無駄に行います。
こうした余計な接続試行を防ぐために<code class="option">-W</code>の入力が有意となる場合もあります。
      </p><p>このオプションはセッション全体に対して設定されたままであることに注意してください。
このため初期接続試行と同様に<code class="command">\connect</code>メタコマンドの使用にも影響を与えます。
      </p></dd><dt><span class="term"><code class="option">-x</code><br /></span><span class="term"><code class="option">--expanded</code></span></dt><dd><p>拡張テーブル形式モードを有効にします。
これは<code class="command">\x</code>および<code class="command">\pset expanded</code>と同じです。
      </p></dd><dt><span class="term"><code class="option">-X,</code><br /></span><span class="term"><code class="option">--no-psqlrc</code></span></dt><dd><p>起動用ファイル（<code class="filename">psqlrc</code>ファイルおよびユーザ用の<code class="filename">~/.psqlrc</code>ファイルのどちらも）を読み込みません。
      </p></dd><dt><span class="term"><code class="option">-z</code><br /></span><span class="term"><code class="option">--field-separator-zero</code></span></dt><dd><p>位置揃えを行わない出力用のフィールド区切り文字をゼロバイトに設定します。
これは<code class="command">\pset fieldsep_zero</code>と同じです。
      </p></dd><dt><span class="term"><code class="option">-0</code><br /></span><span class="term"><code class="option">--record-separator-zero</code></span></dt><dd><p>位置揃えを行わない出力用のレコード区切り文字をゼロバイトに設定します。
これは例えば<code class="literal">xargs -0</code>と連携する時に有用です。
これは<code class="command">\pset recordsep_zero</code>と同じです。
      </p></dd><dt><span class="term"><code class="option">-1</code><br /></span><span class="term"><code class="option">--single-transaction</code></span></dt><dd><p>このオプションは、1つ以上の<code class="option">-c</code>オプションや<code class="option">-f</code>オプションと組み合わせてのみ使うことができます。
これにより<span class="application">psql</span>は、最初のそのようなオプションの前に<code class="command">BEGIN</code>コマンドを発行し、最後のオプションの後に<code class="command">COMMIT</code>コマンドを発行するようになります。
そうすることで、全てのコマンドが単一のトランザクションに囲まれます。
これによりすべてのコマンドが成功して完了するか、変更がまったく行われないかのいずれかになります。
       </p><p>コマンド自体が<code class="command">BEGIN</code>、<code class="command">COMMIT</code>、<code class="command">ROLLBACK</code>を含んでいる場合、このオプションは期待した効果を得ることができません。
また、個別のコマンドがトランザクションブロック内部で実行できない場合、このオプションを指定することで、そのトランザクション全体が失敗します。
       </p></dd><dt><span class="term"><code class="option">-?</code><br /></span><span class="term"><code class="option">--help[=<em class="replaceable"><code>topic</code></em>]</code></span></dt><dd><p><span class="application">psql</span>に関するヘルプを表示し、終了します。
オプションの<em class="replaceable"><code>topic</code></em>パラメータ（デフォルトは<code class="literal">options</code>）は<span class="application">psql</span>のどの部分を説明するかを選択します。
<code class="literal">commands</code>は<span class="application">psql</span>のバックスラッシュコマンドについて、<code class="literal">options</code>は<span class="application">psql</span>に渡すことができるコマンド行オプションについて、<code class="literal">variables</code>は<span class="application">psql</span>の設定変数についてのヘルプを表示します。
      </p></dd></dl></div></div><div class="refsect1" id="id-1.9.4.18.7"><h2>終了ステータス</h2><p><span class="application">psql</span>は、正常に終了した時には0を、<span class="application">psql</span>にとって致命的なエラー（メモリ不足やファイルが見つからないなど）が発生した時には1を、セッションが対話式でない状態でサーバとの接続が不完全になった時には2を、<code class="varname">ON_ERROR_STOP</code>変数が設定されている状態でスクリプトでエラーが発生した時には3をシェルに返します。
  </p></div><div class="refsect1" id="id-1.9.4.18.8"><h2>使用方法</h2><div class="refsect2" id="R2-APP-PSQL-CONNECTING"><h3>データベースへの接続</h3><p><span class="application">psql</span>は<span class="productname">PostgreSQL</span>の正式なクライアントアプリケーションです。
データベースに接続するには、接続するデータベース名、ホスト名、サーバのポート番号、接続する際に使用するユーザ名がわかっていなければなりません。
<span class="application">psql</span>では、それらをコマンドラインオプションで指定することができます。接続するデータベース名は<code class="option">-d</code>、ホスト名は<code class="option">-h</code>、サーバのポート番号は<code class="option">-p</code>、接続するユーザ名は<code class="option">-U</code>を使用してそれぞれ指定します。
オプションでない引数がある場合、それはデータベース名（データベース名が与えられている場合にはユーザ名）とみなされます。
これらのオプションは全て指定されている必要はありません。便利なデフォルト値があります。
ホスト名を省略した場合、<span class="application">psql</span>はUnixドメインソケット経由でローカルホスト上のサーバに、Unixドメインソケットを持たないマシンでは<code class="literal">localhost</code>にTCP/IP経由で接続します。
デフォルトのポート番号はコンパイル時に設定されます。
データベースサーバは同じデフォルト値を使用するので、多くの場合、ポートは指定する必要はありません。
デフォルトのユーザ名とデータベース名は、OSのユーザ名です。
任意のユーザ名で全てのデータベースに接続できるわけではありません。
データベース管理者は、接続権限をユーザに知らせておかなければなりません。
    </p><p>デフォルトが完全には適用できない時は、入力の手間を省くために、環境変数<code class="envar">PGDATABASE</code>、<code class="envar">PGHOST</code>、<code class="envar">PGPORT</code>、<code class="envar">PGUSER</code>に適当な値を設定することもできます。
（この他の環境変数については、<a class="xref" href="libpq-envars.html" title="33.14. 環境変数">Section 33.14</a>を参照してください。）
また、<code class="filename">~/.pgpass</code>ファイルを使用すれば、定常的なパスワードの入力を省略でき、便利です。
詳細は<a class="xref" href="libpq-pgpass.html" title="33.15. パスワードファイル">Section 33.15</a>を参照してください。
    </p><p>他の接続パラメータの指定方法として<em class="parameter"><code>conninfo</code></em>文字列または<acronym class="acronym">URI</acronym>があります。
これは、データベース名の代わりに使用されます。
この機構により、接続全体に関する非常に幅広い制御を行うことができます。
以下に例を示します。
</p><pre class="programlisting">$ <strong class="userinput"><code>psql "service=myservice sslmode=require"</code></strong>
$ <strong class="userinput"><code>psql postgresql://dbmaster:5433/mydb?sslmode=require</code></strong></pre><p>
この方法では接続パラメータの検索に、<a class="xref" href="libpq-ldap.html" title="33.17. 接続パラメータのLDAP検索">Section 33.17</a>で説明する<acronym class="acronym">LDAP</acronym>を使用することもできます。
利用できる接続オプションのすべてについての詳細は、<a class="xref" href="libpq-connect.html#LIBPQ-PARAMKEYWORDS" title="33.1.2. パラメータキーワード">Section 33.1.2</a>を参照してください。
    </p><p>何らかの原因（権限がない、指定したホストでサーバが稼働していないなど）で接続ができなかった場合は、<span class="application">psql</span>はエラーメッセージを表示し、終了します。
    </p><p>標準入力および標準出力の両方が端末である場合、<span class="application">psql</span>はクライアントの符号化方式を<span class="quote">“<span class="quote">auto</span>”</span>に設定します。
これはロケール設定（Unixシステムでは環境変数<code class="envar">LC_CTYPE</code>）から適切なクライアント符号化方式を決定します。
想定した通りに動作しない場合、環境変数<code class="envar">PGCLIENTENCODING</code>を使用してクライアント符号化方式を上書きすることができます。
    </p></div><div class="refsect2" id="R2-APP-PSQL-4"><h3>SQLコマンドの入力</h3><p>通常の操作において、<span class="application">psql</span>は、<span class="application">psql</span>が現在接続しているデータベース名の後に<code class="literal">=&gt;</code>の文字列が付いたプロンプトを表示します。
以下に例を示します。
</p><pre class="programlisting">$ <strong class="userinput"><code>psql testdb</code></strong>
psql (10.5)
Type "help" for help.

testdb=&gt;</pre><p>
    </p><p>プロンプトに対しユーザは<acronym class="acronym">SQL</acronym>コマンドを入力することができます。
通常、入力された行はコマンド終了を意味するセミコロンに達した時点でサーバへと送信されます。
改行はコマンドの終了とはみなされません。
したがって、わかりやすくするために、コマンドは複数の行にわたって記述することができます。
コマンドが送信され問題なく実行されると、画面にコマンドの結果が表示されます。
    </p><p><a class="link" href="ddl-schemas.html#DDL-SCHEMAS-PATTERNS" title="5.8.6. 使用パターン">安全なスキーマの利用パターン</a>を適用していないデータベースに信頼できないユーザがアクセス可能な場合は、セッションの開始時に<code class="varname">search_path</code>から、誰でも書き込みができるスキーマを削除してください。
<code class="literal">options=-csearch_path=</code>を接続文字列に追加するか、<code class="literal">SELECT pg_catalog.set_config('search_path', '', false)</code>を他のSQLの前に発行することができます。
この配慮は<span class="application">psql</span>に固有のものではありません。
任意のSQLを実行するすべてのインタフェースに適用されるものです。
    </p><p>また、コマンドが実行される度に、<span class="application">psql</span>は<a class="xref" href="sql-listen.html" title="LISTEN"><span class="refentrytitle">LISTEN</span></a>と<a class="xref" href="sql-notify.html" title="NOTIFY"><span class="refentrytitle">NOTIFY</span></a>によって生成された非同期通知イベントを検査します。
    </p><p>Cの形式のブロックコメントは、サーバに送信され、サーバによって取り除かれますが、SQL標準のコメントは<span class="application">psql</span>によって取り除かれます。
    </p></div><div class="refsect2" id="APP-PSQL-META-COMMANDS"><h3>メタコマンド</h3><p><span class="application">psql</span>内で入力されたコマンドのうち、引用符で囲まれていないバックスラッシュで始まるものは、<span class="application">psql</span>自身が実行する<span class="application">psql</span>のメタコマンドとして扱われます。
これらのコマンドを使うと、データベースを管理したりスクリプトを作成するにあたって、<span class="application">psql</span>がより便利になります。
メタコマンドはよくスラッシュコマンド、またはバックスラッシュコマンドとも呼ばれます。
    </p><p><span class="application">psql</span>コマンドは、バックスラッシュ、コマンド本体、引数の順につなげた形式になっています。
引数とコマンド本体の間および引数と引数の間は、空白文字によって分割されています。
    </p><p>引数に空白を含める場合は単一引用符で囲みます。
単一引用符を引数に含める場合には、単一引用符で括られた文字列の中で、その単一引用符を2つ続けてください。
単一引用符で囲われた文字は、C言語と同じような置換の対象となります。
このような文字には、<code class="literal">\n</code>（改行）、<code class="literal">\t</code>（タブ）、<code class="literal">\b</code> (後退)、<code class="literal">\r</code>(復帰)、<code class="literal">\f</code> (改頁)、<code class="literal">\</code><em class="replaceable"><code>digits</code></em>（8進数で表された文字）、<code class="literal">\x</code><em class="replaceable"><code>digits</code></em>（16進数で表された文字）があります。
単一引用符で括られたテキスト内でその他の任意の文字の前にバックスラッシュを付けた場合は、その文字が何であろうとその一文字だけとして扱われます。
    </p><p><a class="xref" href="app-psql.html#APP-PSQL-INTERPOLATION" title="SQL差し替え"><acronym class="acronym">SQL</acronym>差し替え</a>で説明されているとおり、引数の中に引用符で囲まれていないコロン（ <code class="literal">:</code>）とそれに続く<span class="application">psql</span>変数がある場合、その部分は変数の値で置換されます。
そこで説明されている<code class="literal">:'<em class="replaceable"><code>variable_name</code></em>'</code>および<code class="literal">:"<em class="replaceable"><code>variable_name</code></em>"</code>という形式も同様に機能します。
    </p><p>引数の中で逆引用符（<code class="literal">`</code>）に囲まれた文字列は、シェルに渡されるコマンド行として解釈されます。
逆引用符に囲まれた文字列は、コマンドの出力（行末の改行はすべて削除されます）で置換されます。
逆引用符に囲まれた文字列内では、<code class="literal">:<em class="replaceable"><code>variable_name</code></em></code>という形式で<em class="replaceable"><code>variable_name</code></em>が<span class="application">psql</span>の変数名であるものが、その変数の値で置換されることを除いて、特別な引用やその他の処理は起きません。
また<code class="literal">:'<em class="replaceable"><code>variable_name</code></em>'</code>という形式なら、それが変数値で置換された上で、それがシェルコマンドの単一の引数となるよう適切に引用符が付けられます。
（変数に何が入っているのか正確に理解しているのでなければ、ほとんどすべての場合で後者の形式の方が望ましいでしょう。）
復帰文字、改行文字をすべてのプラットフォームで安全に引用することはできないので、そのような文字が変数値に含まれていた場合は、<code class="literal">:'<em class="replaceable"><code>variable_name</code></em>'</code>はエラーメッセージを表示し、変数値による置換を行いません。
    </p><p>コマンドには、引数として（テーブル名などの）<acronym class="acronym">SQL</acronym>の識別子を取るものがあります。
これらの引数は次のような<acronym class="acronym">SQL</acronym>の構文規則に従います。
引用符を伴わない文字は強制的に小文字になります。しかし、二重引用符（<code class="literal">"</code>）で囲まれると、大文字小文字変換が行われず、空白文字を識別子内に含めることができます。
さらに、二重引用符内では、連続する2つの二重引用符は1つの二重引用符とみなされます。
例えば、<code class="literal">FOO"BAR"BAZ</code>は<code class="literal">fooBARbaz</code>と解釈され、<code class="literal">"A weird"" name"</code>は<code class="literal">A weird" name</code>になります。
    </p><p>引数の解析は行末または引用符で囲まれていないもう1つのバックスラッシュが見つかると終了します。
引用符がないバックスラッシュは新しいメタコマンドの始まりと解釈されます。
<code class="literal">\\</code>（バックスラッシュ2つ）という特別な文字の並びは引数の終わりを意味するので、<acronym class="acronym">SQL</acronym>コマンドが残されている場合は、その解析を続けます。
このように、<acronym class="acronym">SQL</acronym>コマンドと<span class="application">psql</span>コマンドは1つの行に自由に混合して記述することができます。
しかし、あらゆる場合において、メタコマンドの引数は行をまたぐことはできません。
    </p><p>メタコマンドの多くは<em class="firstterm">問い合わせバッファ</em>の上で動作します。
これは入力されたSQLコマンド文字列で、まだ実行のためにサーバに送信されていないものをすべて保持するだけのバッファです。
これには以前の入力行や、同じ行のメタコマンドより前に入力されたすべての文字列も含まれます。
    </p><p>以下のメタコマンドが定義されています。

    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">\a</code></span></dt><dd><p>現在のテーブルの出力形式が「揃えない」になっていれば「揃える」に、
「揃える」になっていれば「揃えない」に設定します。
このコマンドは後方互換性を保持するためにあります。
より一般的な解決策は<code class="command">\pset</code>を参照してください。
        </p></dd><dt><span class="term"><code class="literal">\c</code> または <code class="literal">\connect [ -reuse-previous=<em class="replaceable"><code>on|off</code></em> ] [ <em class="replaceable"><code>dbname</code></em> [ <em class="replaceable"><code>username</code></em> ] [ <em class="replaceable"><code>host</code></em> ] [ <em class="replaceable"><code>port</code></em> ] | <em class="replaceable"><code>conninfo</code></em> ]</code></span></dt><dd><p><span class="productname">PostgreSQL</span>サーバへの新規の接続を確立します。
接続のパラメータは、位置の構文、あるいは<em class="replaceable"><code>conninfo</code></em>接続文字列で指定することができます。
後者の詳細は<a class="xref" href="libpq-connect.html#LIBPQ-CONNSTRING" title="33.1.1. 接続文字列">Section 33.1.1</a>で説明します。
        </p><p>コマンドでデータベース名、ユーザ、ホストあるいはポートを省略した場合、新しい接続では以前の接続での値を再利用することができます。
デフォルトでは、<em class="replaceable"><code>conninfo</code></em>文字列を処理する場合を除き、以前の接続での値が再利用されます。
第一引数で<code class="literal">-reuse-previous=on</code>あるいは<code class="literal">-reuse-previous=off</code>を渡すことで、このデフォルトと異なる動作をさせることができます。
コマンドで特定のパラメータを指定せず、かつ再利用もしない場合は、<span class="application">libpq</span>のデフォルトが使用されます。
<em class="replaceable"><code>dbname</code></em>、<em class="replaceable"><code>username</code></em>、<em class="replaceable"><code>host</code></em>、<em class="replaceable"><code>port</code></em>のいずれについても<code class="literal">-</code>を指定するのは、パラメータを省略するのと同じになります。
        </p><p>新規接続に成功した場合、以前の接続は閉じられます。
接続の試行が（ユーザ名の間違いやアクセス拒否などの理由で）失敗した場合、<span class="application">psql</span>が対話式モードである場合に限り、それまでの接続が保持されます。
非対話式スクリプトを実行している場合は、処理はエラーとなり、即座に停止します。
この実装の違いは、対話モードでは入力ミスに対するユーザの利便性を考慮し、非対話モードではスクリプトによって間違ったデータベースを操作することを防ぐための安全策を考慮した結果決められました。
        </p><p>例：
        </p><pre class="programlisting">=&gt; \c mydb myuser host.dom 6432
=&gt; \c service=foo
=&gt; \c "host=localhost port=5432 dbname=mydb connect_timeout=10 sslmode=disable"
=&gt; \c postgresql://tom@localhost/mydb?application_name=myapp</pre></dd><dt><span class="term"><code class="literal">\C [ <em class="replaceable"><code>title</code></em> ]</code></span></dt><dd><p>問い合わせ結果として表示されるテーブルのタイトルの設定、または、タイトルの設定解除を行います。
このコマンドは、<code class="literal">\pset title <em class="replaceable"><code>title</code></em></code>と同じ効力を持ちます。
（このコマンド名は<span class="quote">“<span class="quote">標題(caption)</span>”</span>に由来します。
以前は<acronym class="acronym">HTML</acronym>のテーブルの標題を設定するためだけに使われていたためです。）
        </p></dd><dt><span class="term"><code class="literal">\cd [ <em class="replaceable"><code>directory</code></em> ]</code></span></dt><dd><p>現在の作業ディレクトリを<em class="replaceable"><code>directory</code></em>に変更します。
引数がない場合は、現在のユーザのホームディレクトリに変更します。
        </p><div class="tip"><h3 class="title">Tip</h3><p>現在の作業ディレクトリを表示するには、<code class="literal">\! pwd</code>を使用してください。
         </p></div></dd><dt><span class="term"><code class="literal">\conninfo</code></span></dt><dd><p>現在のデータベース接続に関する情報を出力します。
        </p></dd><dt id="APP-PSQL-META-COMMANDS-COPY"><span class="term"><code class="literal">\copy { <em class="replaceable"><code>table</code></em> [ ( <em class="replaceable"><code>column_list</code></em> ) ] | ( <em class="replaceable"><code>query</code></em> ) }
        { <code class="literal">from</code> | <code class="literal">to</code> }
        { <em class="replaceable"><code>'filename'</code></em> | program <em class="replaceable"><code>'command'</code></em> | stdin | stdout | pstdin | pstdout }
        [ [ with ] ( <em class="replaceable"><code>option</code></em> [, ...] ) ]</code></span></dt><dd><p>フロントエンド（クライアント）コピーを行います。
これは<a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a> <acronym class="acronym">SQL</acronym>コマンドを実行する操作ですが、サーバで指定ファイルに対する読み込みまたは書き込みを行うのではなく、<span class="application">psql</span>がファイルの読み書きや、サーバとローカルファイルシステム間のデータ送信を行います。
この場合、ファイルへのアクセス権限はサーバではなくローカルユーザのものを使用するので、SQLのスーパーユーザ権限は必要ありません。
        </p><p><code class="literal">program</code>が指定された場合、<em class="replaceable"><code>command</code></em>が<span class="application">psql</span>により実行され、<em class="replaceable"><code>command</code></em>から、または、<em class="replaceable"><code>command</code></em>へのデータはサーバとクライアント間を行き来します。
ここでも、実行権限はローカル側のユーザであり、サーバ側ではなく、SQLスーパーユーザ権限は必要とされません。
        </p><p><code class="literal">\copy ... from stdin</code>では、データ行は、コマンドの発行源と同じところから、<code class="literal">\.</code>を読み取るまで、あるいは、ストリームが<acronym class="acronym">EOF</acronym>に達するまで読み続けます。
このオプションは、SQLスクリプトファイルの内部でテーブルにデータを投入する場合に便利です。
<code class="literal">\copy ... to stdout</code>では、出力は<span class="application">psql</span>コマンドの出力と同じところに送られますが、<code class="literal">COPY <em class="replaceable"><code>count</code></em></code>コマンドのステータスは表示されません(これはデータ行と混同してしまうかもしれないからです)。
コマンドの入力元や<code class="literal">\o</code>オプションに関わらず、<span class="application">psql</span>の標準入力や標準出力を読み書きするには、<code class="literal">from pstdin</code>あるいは<code class="literal">to pstdout</code>と書いてください。
        </p><p>このコマンドの構文は<acronym class="acronym">SQL</acronym>の<a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a>コマンドに似ています。
データの入力元と出力先以外のすべてのオプションは<a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a>と同じです。
このため<code class="command">\copy</code>メタコマンドには特別な解析規則が適用されていることに注意してください。
他のほとんどのメタコマンドとは異なり、行の残り部分の全体は常に<code class="command">\copy</code>の引数として解釈され、引数内の変数の置換や逆引用符の展開は行われません。
        </p><div class="tip"><h3 class="title">Tip</h3><p>この操作は<acronym class="acronym">SQL</acronym>の<code class="command">COPY</code>コマンドほど効率が良いわけではありません。
これは、全てのデータをクライアント/サーバ接続を通じてやり取りしなければならないからです。
データ量が多い時は<acronym class="acronym">SQL</acronym>コマンドを使用する方が良いでしょう。
        </p></div></dd><dt><span class="term"><code class="literal">\copyright</code></span></dt><dd><p><span class="productname">PostgreSQL</span>の著作権および配布条項を表示します。
        </p></dd><dt id="APP-PSQL-META-COMMANDS-CROSSTABVIEW"><span class="term"><code class="literal">\crosstabview [
            <em class="replaceable"><code>colV</code></em>
            [ <em class="replaceable"><code>colH</code></em>
            [ <em class="replaceable"><code>colD</code></em>
            [ <em class="replaceable"><code>sortcolH</code></em>
            ] ] ] ] </code></span></dt><dd><p>問い合わせのバッファを実行し（<code class="literal">\g</code>と同様）、その結果をクロス表形式で表示します。
問い合わせは少なくとも3つの列を返す必要があります。
<em class="replaceable"><code>colV</code></em>で特定される出力列が縦方向のヘッダになり、<em class="replaceable"><code>colH</code></em>で特定される出力列が横方向のヘッダになります。
<em class="replaceable"><code>colD</code></em>は表内に表示される出力列を特定します。
オプションの<em class="replaceable"><code>sortcolH</code></em>で水平方向のヘッダをソートする列を指定できます。
        </p><p>それぞれの列の指定は、列番号（1から始まります）でも列名でも可能です。
列名については、通常のSQLの大文字小文字変換および引用の規則が適用されます。
省略した場合、<em class="replaceable"><code>colV</code></em>は列1、<em class="replaceable"><code>colH</code></em>は列2となります。
<em class="replaceable"><code>colH</code></em>は<em class="replaceable"><code>colV</code></em>とは異なるものでなければなりません。
<em class="replaceable"><code>colD</code></em>を指定しない場合、問い合わせの結果にはちょうど3つの列がなければならず、<em class="replaceable"><code>colV</code></em>でも<em class="replaceable"><code>colH</code></em>でもない列が<em class="replaceable"><code>colD</code></em>となります。
        </p><p>縦方向のヘッダは一番左の列に表示され、<em class="replaceable"><code>colV</code></em>の列にある値が問い合わせ結果と同じ順序で現れますが、重複するものは除かれます。
        </p><p>横方向のヘッダは1行目に表示され、<em class="replaceable"><code>colH</code></em>の列にある値が現れますが、重複するものは除かれます。
デフォルトでは、これらは問い合わせの結果と同じ順序で表示されます。
しかしオプションの<em class="replaceable"><code>sortcolH</code></em>引数が指定された場合は、<em class="replaceable"><code>colH</code></em>の値は対応する<em class="replaceable"><code>sortcolH</code></em>の値に従ってソートされて横方向のヘッダに現れますが、<em class="replaceable"><code>sortcolH</code></em>の列の値は整数値でなければなりません。
        </p><p>クロス表の内側では、<em class="replaceable"><code>colH</code></em>のそれぞれの個別値<code class="literal">x</code>と<em class="replaceable"><code>colV</code></em>のそれぞれの個別値<code class="literal">y</code>に対して、その交点<code class="literal">(x,y)</code>に位置するセルに、問い合わせの結果の<em class="replaceable"><code>colH</code></em>の値が<code class="literal">x</code>で<em class="replaceable"><code>colV</code></em>の値が<code class="literal">y</code>である行の<code class="literal">colD</code>列の値が現れます。
そのような行がなければ、セルは空欄になります。
そのような行が複数あると、エラーが報告されます。
        </p></dd><dt><span class="term"><code class="literal">\d[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p><em class="replaceable"><code>pattern</code></em>にマッチする各リレーション（テーブル、ビュー、マテリアライズドビュー、インデックス、シーケンス、外部テーブル）または複合型について、全ての列、列の型、テーブル空間（デフォルト以外を使用している場合）、<code class="literal">NOT NULL</code>やデフォルトなどの特別な属性を表示します。
関連付けられているインデックス、制約、ルールおよびトリガも表示されます。
外部テーブルでは関連する外部サーバも表示されます。
（<span class="quote">“<span class="quote">パターンのマッチング</span>”</span>については後述の<a class="xref" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン">パターン</a>で定義されています。）
        </p><p>一部の種類のリレーションでは、<code class="literal">\d</code>は各列について追加の情報を表示します。
例えば、シーケンスでは列の値、インデックスではインデックス式、外部テーブルでは外部データラッパのオプションです。
        </p><p><code class="literal">\d+</code>というコマンド形式も同一ですが、より多くの情報を表示します。
こちらでは、テーブルの列に関連付けられたコメントやテーブルにOIDが存在するかどうか、リレーションがビューの場合はビューの定義、デフォルトと異なる<a class="link" href="sql-altertable.html#SQL-CREATETABLE-REPLICA-IDENTITY">replica identity</a>の設定も表示されます。
        </p><p>デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
        </p><div class="note"><h3 class="title">Note</h3><p><code class="command">\d</code>が<em class="replaceable"><code>pattern</code></em>引数なしで使用された場合は、<code class="command">\dtvmsE</code>と同じ意味となり、可視である全てのテーブル、ビュー、マテリアライズドビュー、シーケンス、外部テーブルの一覧が表示されます。
これは純粋に利便性のためです。
        </p></div></dd><dt><span class="term"><code class="literal">\da[S] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>集約関数と、その戻り値のデータ型、演算対象となるデータ型の一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、そのパターンに名前がマッチする集約のみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
        </p></dd><dt><span class="term"><code class="literal">\dA[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>アクセスメソッドの一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合は、そのパターンにマッチする名前のアクセスメソッドのみが表示されます。
コマンド名の後に<code class="literal">+</code>が付加された場合は、各メソッドに関連付けられたハンドラ関数および説明も表示されます。
        </p></dd><dt><span class="term"><code class="literal">\db[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>テーブル空間を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、そのパターンに名前がマッチするテーブル空間のみが表示されます。
コマンド名に<code class="literal">+</code>が付与された場合、各テーブル空間に関連付けされたオプション、ディスク上のサイズ、権限、摘要についても表示します。

        </p></dd><dt><span class="term"><code class="literal">\dc[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>文字セット符号化方式間の変換の一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、そのパターンに名前がマッチする変換のみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
コマンド名に<code class="literal">+</code>を付与すると、各オブジェクトに関連する説明を付けて表示します。
        </p></dd><dt><span class="term"><code class="literal">\dC[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>型キャストの一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、そのパターンに元データ型または変換先データ型がマッチするキャストのみが表示されます。
コマンド名に<code class="literal">+</code>を付与すると、各オブジェクトに関連する説明を付けて表示します。
        </p></dd><dt><span class="term"><code class="literal">\dd[S] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p><code class="literal">constraint</code>、<code class="literal">operator class</code>、<code class="literal">operator family</code>、<code class="literal">rule</code>、<code class="literal">trigger</code>という種類のオブジェクトについての説明を表示します。
他のコメントはすべて、これらのオブジェクト種類用の対応するバックスラッシュコマンドによって表示されます。
        </p><p><code class="literal">\dd</code>は<em class="replaceable"><code>pattern</code></em>にマッチするオブジェクトの説明を表示します。
引数が指定されていない場合は、適切な種類の可視なオブジェクトの説明を表示します。
どちらの場合でも、一覧に表示されるのは説明を持つオブジェクトのみです
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
        </p><p>オブジェクトの説明は<a class="xref" href="sql-comment.html" title="COMMENT"><span class="refentrytitle">COMMENT</span></a> <acronym class="acronym">SQL</acronym>コマンドを使用して作成することができます。
       </p></dd><dt><span class="term"><code class="literal">\dD[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>ドメインの一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、ドメイン名がそのパターンにマッチするもののみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるには、パターンを指定するか、あるいは<code class="literal">S</code>修飾子を付けてください。
コマンド名の後に<code class="literal">+</code>を付けた場合は、各オブジェクトの権限と説明も表示されます。
        </p></dd><dt><span class="term"><code class="literal">\ddp [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>デフォルトのアクセス権限設定を一覧表示します。
組み込みのデフォルトから権限設定が変更されたロール（および適切ならばスキーマも）ごとに1項目示されます。
<em class="replaceable"><code>pattern</code></em>が指定された場合、パターンにマッチするロール名またはスキーマ名の項目のみが表示されます。
        </p><p><a class="xref" href="sql-alterdefaultprivileges.html" title="ALTER DEFAULT PRIVILEGES"><span class="refentrytitle">ALTER DEFAULT PRIVILEGES</span></a>コマンドを使用して、デフォルトのアクセス権限を設定します。
権限表示の意味は<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>で説明します。
        </p></dd><dt><span class="term"><code class="literal">\dE[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code><br /></span><span class="term"><code class="literal">\di[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code><br /></span><span class="term"><code class="literal">\dm[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code><br /></span><span class="term"><code class="literal">\ds[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code><br /></span><span class="term"><code class="literal">\dt[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code><br /></span><span class="term"><code class="literal">\dv[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>このコマンド群において、<code class="literal">E</code>、<code class="literal">i</code>、<code class="literal">m</code>、<code class="literal">s</code>、<code class="literal">t</code>、<code class="literal">v</code>という文字はそれぞれ、外部テーブル、インデックス、マテリアライズドビュー、シーケンス、テーブル、ビューを表します。
これらの種類のオブジェクトの一覧を表示するために、これらの文字の中の任意の文字またはすべてを任意の順番で指定することができます。
例えば、<code class="literal">\dit</code>はインデックスとテーブルを列挙します。
<code class="literal">+</code>がコマンド名に付与された場合、各オブジェクトは、もしあればディスク上の物理容量と関連する説明をつけて表示されます。
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、パターンに名称がマッチする項目のみが表示されます。
デフォルトでは、ユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためにはパターンまたは<code class="literal">S</code>修飾子を付与してください。
        </p></dd><dt><span class="term"><code class="literal">\des[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>外部(foreign)サーバ（つまり<span class="quote">“<span class="quote">external servers</span>”</span>）を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、名前がパターンにマッチするサーバのみが表示されます。
<code class="literal">\des+</code>構文が使用された場合、サーバのACL、型、バージョン、オプション、説明など各サーバの完全な説明が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\det[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>外部(foreign)テーブル（つまり<span class="quote">“<span class="quote">external tables</span>”</span>）を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、パターンにテーブル名またはスキーマ名がマッチするもののみが表示されます。
<code class="literal">\det+</code>が使用された場合、汎用オプションと外部テーブルの説明も表示されます。
        </p></dd><dt><span class="term"><code class="literal">\deu[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>ユーザマップ（つまり<span class="quote">“<span class="quote">external users</span>”</span>）を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、名前がパターンにマッチするユーザのみが表示されます。
<code class="literal">\deu+</code>構文が使用された場合、各マップについて追加情報が表示されます。
        </p><div class="caution"><h3 class="title">Caution</h3><p><code class="literal">\deu+</code>ではリモートユーザのユーザ名とパスワードも表示される可能性があります。
これらを外部に曝さないように注意しなければなりません。
        </p></div></dd><dt><span class="term"><code class="literal">\dew[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>外部データラッパ（つまり<span class="quote">“<span class="quote">external wrappers</span>”</span>）を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定されている場合、名前がパターンにマッチする外部データラッパのみが表示されます。
<code class="literal">\dew+</code>構文が使用された場合、外部データラッパのACL、オプションおよび説明も表示されます。
        </p></dd><dt><span class="term"><code class="literal">\df[antwS+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>関数とその結果のデータ型、引数のデータ型、および、<span class="quote">“<span class="quote">agg</span>”</span> (集約)、<span class="quote">“<span class="quote">normal</span>”</span>、<span class="quote">“<span class="quote">trigger</span>”</span>、<span class="quote">“<span class="quote">window</span>”</span>で分類される関数の種類の一覧を表示します。
特定種類の関数のみを表示させるには、対応する文字<code class="literal">a</code>、<code class="literal">n</code>、<code class="literal">t</code>、<code class="literal">w</code>をコマンドに付けて下さい。
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、そのパターンに名前がマッチする関数のみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
<code class="literal">\df+</code>構文が使われた場合、各関数の、揮発性、並列処理での安全性、所有者、セキュリティ分類、アクセス権限、言語、ソースコードや説明を含む付加的情報も表示されます。
        </p><div class="tip"><h3 class="title">Tip</h3><p>特定のデータ型を引数とする関数や特定のデータ型を返す関数を検索するには、ページャの検索機能を使用して<code class="literal">\df</code>の出力をスクロールしてください。
        </p></div></dd><dt><span class="term"><code class="literal">\dF[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>全文検索設定を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、このパターンにマッチする名前の設定のみが表示されます。
<code class="literal">\dF+</code>形式が使用された場合、使用される全文検索パーサや各パーサトークン型についての辞書リストなど各設定の完全な説明が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dFd[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>全文検索辞書を一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、このパターンにマッチする名前の辞書のみが表示されます。
<code class="literal">\dFd+</code>形式が使用された場合、選択された辞書それぞれについて使用される全文検索テンプレートやオプション値など更なる情報が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dFp[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>全文検索パーサを一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、このパターンにマッチする名前のパーサのみが表示されます。
<code class="literal">\dFp+</code>形式が使用された場合、使用される関数や認知されるトークン型のリストなど各パーサの完全な説明が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dFt[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>テキスト検索テンプレートを一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、このパターンにマッチする名前のテンプレートのみが表示されます。
<code class="literal">\dFt+</code>形式が使用された場合、テンプレートそれぞれについて使用される関数名など更なる情報が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dg[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>データベースロールを一覧表示します。
(<span class="quote">“<span class="quote">ユーザ</span>”</span>と<span class="quote">“<span class="quote">グループ</span>”</span>という概念は<span class="quote">“<span class="quote">ロール</span>”</span>に統合されましたので、このコマンドは<code class="literal">\du</code>と同じものになりました。)
デフォルトでは、ユーザによって作成されたロールのみが表示されます。
システムロールを含めるには<code class="literal">S</code>修飾子を付与してください。
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、そのパターンに名前がマッチするロールのみが表示されます。
<code class="literal">\dg+</code>構文が使用された場合、ロールそれぞれについて更なる情報が表示されます。
現時点では各ロールのコメントが追加されます。
        </p></dd><dt><span class="term"><code class="literal">\dl</code></span></dt><dd><p><code class="command">\lo_list</code>の別名で、ラージオブジェクトの一覧を表示します。
        </p></dd><dt><span class="term"><code class="literal">\dL[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>手続き言語を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチする言語のみが表示されます。
デフォルトではユーザが作成した言語のみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
<code class="literal">+</code>をコマンド名に追加すると、呼び出しハンドラ、有効性検証関数、アクセス権限、システムオブジェクトか否かという情報を付けて各言語が表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dn[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>スキーマ（名前空間）の一覧を表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチするスキーマのみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
パターンまたは<code class="literal">S</code>修飾子を追加すると、システムオブジェクトが表示に追加されます。
コマンド名の後に<code class="literal">+</code>を付加すると、各オブジェクトに関連付けられている権限と説明が（存在すれば）表示されます。
        </p></dd><dt><span class="term"><code class="literal">\do[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>演算子と、その演算項目と結果の型を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチする演算子のみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
コマンド名に<code class="literal">+</code>を付加すると、各演算子についての追加情報が表示されますが、現在はその元になっている関数の名前だけです。
        </p></dd><dt><span class="term"><code class="literal">\dO[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>照合順序を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチする照合順序のみが表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
コマンド名の後に<code class="literal">+</code>を付加すると、各照合順序に関連付けられている説明が（存在すれば）表示されます。
現在のデータベースの符号化方式で使用できる照合順序のみが表示されることに注意してください。
このため同じインストレーションであってもデータベースによって結果が異なる可能性があります。
        </p></dd><dt><span class="term"><code class="literal">\dp [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>テーブル、ビュー、シーケンスを、関連付けられているアクセス権限とともに一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチするテーブル、ビュー、シーケンスのみが表示されます。
        </p><p>アクセス権限の設定には<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>コマンドと<a class="xref" href="sql-revoke.html" title="REVOKE"><span class="refentrytitle">REVOKE</span></a>コマンドが使われます。
権限の表示に関する意味は<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>で説明します。
        </p></dd><dt><span class="term"><code class="literal">\drds [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>role-pattern</code></em></a> [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>database-pattern</code></em></a> ] ]</code></span></dt><dd><p>定義済み設定に関する設定を一覧表示します。
これらの設定はロール固有、データベース固有、またはその両方です。
<code class="literal">role-pattern</code>および<code class="literal">database-pattern</code>はそれぞれ特定のロールやデータベースを選択するために使用します。
パターンが省略された場合、または<code class="literal">*</code>が指定された場合、ロール固有ではない、または、データベース固有ではない設定を含め、すべての設定を表示します。
        </p><p>ロール単位およびデータベース単位の設定を定義するには<a class="xref" href="sql-alterrole.html" title="ALTER ROLE"><span class="refentrytitle">ALTER ROLE</span></a>および<a class="xref" href="sql-alterdatabase.html" title="ALTER DATABASE"><span class="refentrytitle">ALTER DATABASE</span></a>コマンドを使用します。
        </p></dd><dt><span class="term"><code class="literal">\dRp[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>レプリケーションのパブリケーションを一覧表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、名前がそのパターンにマッチするパブリケーションのみが表示されます。
コマンド名の後に<code class="literal">+</code>が付けられた場合、各パブリケーションに関連付けられているテーブルも表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dRs[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>レプリケーションのサブスクリプションを一覧を表示します。
<em class="replaceable"><code>pattern</code></em>が指定された場合、名前がそのパターンにマッチするサブスクリプションのみが表示されます。
コマンド名の後に<code class="literal">+</code>が付けられた場合、サブスクリプションの追加属性も表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dT[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>データ型を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンにマッチする名前を持つ型のみを表示します。
<code class="literal">+</code>をコマンド名に付けると、型ごとに、型の内部名、サイズ、<code class="type">enum</code>型では許される値、関連する権限も表示されます。
デフォルトではユーザが作成したオブジェクトのみが表示されます。
システムオブジェクトを含めるためには、パターンまたは<code class="literal">S</code>修飾子を付与してください。
        </p></dd><dt><span class="term"><code class="literal">\du[S+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>データベースロールを一覧表示します。
(<span class="quote">“<span class="quote">ユーザ</span>”</span>と<span class="quote">“<span class="quote">グループ</span>”</span>という概念は<span class="quote">“<span class="quote">ロール</span>”</span>に統合されましたので、このコマンドは<code class="literal">\dg</code>と同じものになりました。)
<em class="replaceable"><code>pattern</code></em>が指定されている場合は、そのパターンに名前がマッチするロールのみが表示されます。
デフォルトでは、ユーザによって作成されたロールのみが表示されます。
システムロールを含めるには<code class="literal">S</code>修飾子を付与してください。
<code class="literal">\du+</code>構文が使用された場合、ロールそれぞれについて更なる情報が表示されます。
現時点では各ロールのコメントが追加されます。
        </p></dd><dt><span class="term"><code class="literal">\dx[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>インストールされた拡張を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンにマッチする名前の拡張のみを表示します。
<code class="literal">\dx+</code>形式が使用された場合、マッチする拡張それぞれについて拡張に属するすべてのオブジェクトが表示されます。
        </p></dd><dt><span class="term"><code class="literal">\dy[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>イベントトリガを一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンにマッチする名前のイベントトリガのみを表示します。
<code class="literal">+</code>をコマンド名に追記すると、関連する説明を付けて各オブジェクトを表示します。
        </p></dd><dt><span class="term"><code class="literal">\e</code>または<code class="literal">\edit</code> <code class="literal"> [<span class="optional"> <em class="replaceable"><code>filename</code></em> </span>] [<span class="optional"> <em class="replaceable"><code>line_number</code></em> </span>] </code></span></dt><dd><p><em class="replaceable"><code>filename</code></em>が指定された場合、このファイルが編集されます。
エディタを終了した後、ファイルの内容は問い合わせバッファにコピーされます。
<em class="replaceable"><code>filename</code></em>が指定されない場合、現在の問い合わせバッファが一時ファイルにコピーされ、同様に編集されます。
現在の問い合わせバッファが空の場合、最も最近に実行された問い合わせが一時ファイルにコピーされ、同様に編集されます。
        </p><p>次に、問い合わせバッファの新しい内容が、<span class="application">psql</span>の通常の規則に従い、全体を1行として再解析されます。
完全な問い合わせはすべて即座に実行されます。
つまり、問い合わせバッファにセミコロンが含まれるか、セミコロンで終わっている場合、そこまでの部分すべてが実行されます。
それより後の部分はすべて問い合わせバッファ内で入力を待ちます。
送信するにはセミコロンまたは<code class="literal">\g</code>を、問い合わせバッファをクリアしてキャンセルするには<code class="literal">\r</code>を入力してください。
バッファ全体を1行として扱うので、特にメタコマンドに影響があります。
バッファ内でメタコマンドより後にある部分はすべて、それが複数行にまたがっていたとしても、メタコマンドの引数として解釈されます。
（従って、この方法ではメタコマンドを使用するスクリプトを作成できません。
その目的の場合は、<code class="command">\i</code>を使ってください。）
        </p><p>行番号(line_number)が指定された場合、<span class="application">psql</span>はファイルまたは問い合わせバッファ内の指定行にカーソルを位置づけます。
すべてが数字の引数が1つだけ指定された場合、<span class="application">psql</span>はそれをファイル名ではなく行番号であるとみなすことに注意してください。
        </p><div class="tip"><h3 class="title">Tip</h3><p>使用するエディタを設定、カスタマイズする方法については<a class="xref" href="app-psql.html#APP-PSQL-ENVIRONMENT" title="環境">環境</a>を参照してください。
        </p></div></dd><dt><span class="term"><code class="literal">\echo <em class="replaceable"><code>text</code></em> [ ... ]</code></span></dt><dd><p>引数を空白で区切り、標準出力に出力し、改行します。
スクリプトが出力するところどころに情報を記載する場合に有用です。
使用例を次に示します。
</p><pre class="programlisting">=&gt; <strong class="userinput"><code>\echo `date`</code></strong>
Tue Oct 26 21:40:57 CEST 1999</pre><p>
最初の引数が引用符で囲まれていない<code class="literal">-n</code>である場合、最後の改行は出力されません。
        </p><div class="tip"><h3 class="title">Tip</h3><p><code class="command">\o</code>コマンドを使用して問い合わせの出力先を変更した場合、このコマンドではなく、<code class="command">\qecho</code>を使用した方が良いかもしれません。
        </p></div></dd><dt><span class="term"><code class="literal">\ef [<span class="optional"> <em class="replaceable"><code>function_description</code></em> [<span class="optional">  <em class="replaceable"><code>line_number</code></em> </span>] </span>] </code></span></dt><dd><p>このコマンドは指定された関数の定義を<code class="command">CREATE OR REPLACE FUNCTION</code>コマンド構文で取り出し、編集します。
編集は<code class="literal">\edit</code>と同様の方法で行われます。
エディタ終了後、更新されたコマンドは問い合わせバッファ内で待機しています。
セミコロンか<code class="literal">\g</code>を入力して送信するか、<code class="literal">\r</code>を入力して取り消すかしてください。
        </p><p>対象の関数は名前だけ、または、たとえば<code class="literal">foo(integer, text)</code>のように名前と引数で指定することができます。
同じ名前の関数が複数存在する場合、引数の型を指定しなければなりません。
        </p><p>関数が指定されなかった場合、空の<code class="command">CREATE FUNCTION</code>のテンプレートが編集用に表示されます。
        </p><p>行番号が指定された場合、<span class="application">psql</span>は関数本体における指定行にカーソルを移動します。
（関数本体は通常、ファイルの先頭から始まらないことに注意してください。）
        </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\ef</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
        </p><div class="tip"><h3 class="title">Tip</h3><p>使用するエディタを設定、カスタマイズする方法については<a class="xref" href="app-psql.html#APP-PSQL-ENVIRONMENT" title="環境">環境</a>を参照してください。
        </p></div></dd><dt><span class="term"><code class="literal">\encoding [ <em class="replaceable"><code>encoding</code></em> ]</code></span></dt><dd><p>クライアント側の文字セット符号化方式を設定します。
引数を指定しない場合、このコマンドは現在の符号化方式を表示します。
        </p></dd><dt><span class="term"><code class="literal">\errverbose</code></span></dt><dd><p>最も最近のサーバのエラーメッセージを最大の冗長さ、つまり<code class="varname">VERBOSITY</code>が<code class="literal">verbose</code>に、そして<code class="varname">SHOW_CONTEXT</code>が<code class="literal">always</code>に設定されているかのようにして、繰り返します。
        </p></dd><dt><span class="term"><code class="literal">\ev [<span class="optional"> <em class="replaceable"><code>view_name</code></em> [<span class="optional">  <em class="replaceable"><code>line_number</code></em> </span>] </span>] </code></span></dt><dd><p>このコマンドは、指定したビューの定義を<code class="command">CREATE OR REPLACE VIEW</code>コマンドの形式で取得して、編集します。
編集は<code class="literal">\edit</code>の場合と同じ方法で行われます。
エディタを終了した後、更新されたコマンドが問い合わせバッファで待っている状態になります。
送信するにはセミコロンあるいは<code class="literal">\g</code>を、キャンセルするには<code class="literal">\r</code>を入力してください。
        </p><p>ビューを指定しなかった場合は、空の<code class="command">CREATE VIEW</code>テンプレートが編集用に提供されます。
        </p><p>行番号を指定した場合、<span class="application">psql</span>はカーソルをビュー定義の指定した行に位置づけます。
        </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\ev</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
        </p></dd><dt><span class="term"><code class="literal">\f [ <em class="replaceable"><code>string</code></em> ]</code></span></dt><dd><p>位置揃えされていない問い合わせの出力用の、フィールドの区切り文字を設定します。
デフォルトは、縦棒（<span class="quote">“<span class="quote"><code class="literal">|</code></span>”</span>）です。
これは<code class="command">\pset fieldsep</code>と同じです。
        </p></dd><dt><span class="term"><code class="literal">\g [ <em class="replaceable"><code>filename</code></em> ]</code><br /></span><span class="term"><code class="literal">\g [ |<em class="replaceable"><code>command</code></em> ]</code></span></dt><dd><p>現在の問い合わせ入力バッファをサーバに送って実行します。
引数を指定すると、問い合わせ出力を通常通りに表示する代わりに、指定したファイルに書き込んだり、指定のシェルコマンドにパイプで渡します。
問い合わせが成功しゼロ以上のタプルが返る場合にのみファイルまたはコマンドに書き出されます。
問い合わせが失敗する場合やデータを返さないSQLコマンドでは書き出されません。
        </p><p>現在の問い合わせバッファが空の場合、最も最近に送信された問い合わせが再実行されます。
その点を除けば、<code class="literal">\g</code>だけを指定した場合は、セミコロンと実質的に同じです。
<code class="literal">\g</code>に引数を指定した場合は、<code class="literal">\o</code>コマンドの<span class="quote">“<span class="quote">一度限りの</span>”</span>代替手段として使用できます。
        </p><p>引数が<code class="literal">|</code>で始まっている場合、行の残りの部分はすべて実行する<em class="replaceable"><code>command</code></em>であると解釈され、その中では変数の置換も逆引用符の展開も行われません。
行の残り部分は、単にあるがままにシェルに渡されます。
        </p></dd><dt><span class="term"><code class="literal">\gexec</code></span></dt><dd><p>現在の問い合わせバッファをサーバに送信し、問い合わせの出力（あれば）の各行の各列をSQL文として実行します。
例えば、<code class="structname">my_table</code>の各列にインデックスを作成するには次のようにします。
</p><pre class="programlisting">=&gt; <strong class="userinput"><code>SELECT format('create index on my_table(%I)', attname)</code></strong>
-&gt; <strong class="userinput"><code>FROM pg_attribute</code></strong>
-&gt; <strong class="userinput"><code>WHERE attrelid = 'my_table'::regclass AND attnum &gt; 0</code></strong>
-&gt; <strong class="userinput"><code>ORDER BY attnum</code></strong>
-&gt; <strong class="userinput"><code>\gexec</code></strong>
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX</pre><p>
        </p><p>生成された問い合わせは行が返された順番で実行され、また2つ以上の列が返された場合は、各行の中で左から右に実行されます。
NULLのフィールドは無視されます。
生成された問い合わせは、そのままサーバに送信されて処理されるため、<span class="application">psql</span>のメタコマンドとすることはできず、また<span class="application">psql</span>の変数の参照を含むこともできません。
個別の問い合わせで失敗した場合、残りの問い合わせの実行は<code class="varname">ON_ERROR_STOP</code>が設定されているのでなければ継続します。
個々の問い合わせの実行は<code class="varname">ECHO</code>の処理に従います。
（<code class="command">\gexec</code>を使う場合、<code class="varname">ECHO</code>を<code class="literal">all</code>あるいは<code class="literal">queries</code>に設定することが推奨されることが多いでしょう。）
問い合わせのログ出力、シングルステップモード、時間表示(timing)、およびその他の問い合わせ実行に関する機能は、生成された各問い合わせにも適用されます。
        </p><p>現在の問い合わせバッファが空の場合、最も最近に送信された問い合わせが再実行されます。
        </p></dd><dt><span class="term"><code class="literal">\gset [ <em class="replaceable"><code>prefix</code></em> ]</code></span></dt><dd><p>現在の問い合わせバッファをサーバに送信し、問い合わせの出力を<span class="application">psql</span>変数（<a class="xref" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>参照）に格納します。
実行される問い合わせは正確に１行を返さなければなりません。
行の各列は、列と同じ名前を持つ別々の変数に格納されます。
例えば、以下のようになります。
</p><pre class="programlisting">=&gt; <strong class="userinput"><code>SELECT 'hello' AS var1, 10 AS var2</code></strong>
-&gt; <strong class="userinput"><code>\gset</code></strong>
=&gt; <strong class="userinput"><code>\echo :var1 :var2</code></strong>
hello 10</pre><p>
        </p><p><em class="replaceable"><code>prefix</code></em>を指定した場合、使用する変数の名前を作成する時にその文字列が問い合わせの列名の前に付けられ、次のようになります。
</p><pre class="programlisting">=&gt; <strong class="userinput"><code>SELECT 'hello' AS var1, 10 AS var2</code></strong>
-&gt; <strong class="userinput"><code>\gset result_</code></strong>
=&gt; <strong class="userinput"><code>\echo :result_var1 :result_var2</code></strong>
hello 10</pre><p>
        </p><p>列の結果がNULLである場合、対応する変数は設定されず未設定状態となります。
        </p><p>問い合わせが失敗、または１行を返さない場合、変数は変更されません。
        </p><p>現在の問い合わせバッファがからの場合、最も最近に送信された問い合わせが再実行されます。
        </p></dd><dt><span class="term"><code class="literal">\gx [ <em class="replaceable"><code>filename</code></em> ]</code><br /></span><span class="term"><code class="literal">\gx [ |<em class="replaceable"><code>command</code></em> ]</code></span></dt><dd><p><code class="literal">\gx</code>は<code class="literal">\g</code>と同じですが、この問い合わせに対して拡張出力モードを使用します。
<code class="literal">\x</code>を参照してください。
        </p></dd><dt><span class="term"><code class="literal">\h</code>または<code class="literal">\help</code> <code class="literal">[ <em class="replaceable"><code>command</code></em> ]</code></span></dt><dd><p>指定した<acronym class="acronym">SQL</acronym>コマンドの構文に関するヘルプを表示します。
<em class="replaceable"><code>command</code></em>が指定されていない場合は、<span class="application">psql</span>は構文ヘルプが存在する全てのコマンドの一覧を表示します。
<em class="replaceable"><code>command</code></em>をアスタリスク（<code class="literal">*</code>）にすると、全ての<acronym class="acronym">SQL</acronym>コマンドの構文ヘルプが表示されます。
        </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\help</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
        </p><div class="note"><h3 class="title">Note</h3><p>入力を簡単にするため、複数の単語からなるコマンドを引用符で囲む必要はありません。
<strong class="userinput"><code>\help alter table</code></strong>と入力するだけで十分です。
        </p></div></dd><dt><span class="term"><code class="literal">\H</code>または<code class="literal">\html</code></span></dt><dd><p><acronym class="acronym">HTML</acronym>問い合わせ出力形式を有効にします。
<acronym class="acronym">HTML</acronym>形式が有効になっている場合は、デフォルトの位置揃えされたテキスト形式に戻します。
このコマンドは互換性と簡便性のために存在します。
他の出力オプションについては、<code class="command">\pset</code>を参照してください。
        </p></dd><dt><span class="term"><code class="literal">\i</code>または<code class="literal">\include</code> <em class="replaceable"><code>filename</code></em></span></dt><dd><p><em class="replaceable"><code>filename</code></em>ファイルから入力を読み取り、キーボードから入力された場合と同じように実行します。
        </p><p><em class="replaceable"><code>filename</code></em>が<code class="literal">-</code>（ハイフン）の場合、EOFを示すもの、または<code class="command">\q</code>メタコマンドが読まれるまで標準入力から読み込みます。
これは対話的な入力とファイルからの入力を混在させるために使うことができます。
Readlineと同じ挙動は、それが最も外部のレベルで動作している場合にのみ利用されることに注意してください。
        </p><div class="note"><h3 class="title">Note</h3><p>読み取られた行を画面に表示させる場合は、<code class="varname">ECHO</code>変数を<code class="literal">all</code>に設定する必要があります。
        </p></div></dd><dt><span class="term"><code class="literal">\if</code> <em class="replaceable"><code>expression</code></em><br /></span><span class="term"><code class="literal">\elif</code> <em class="replaceable"><code>expression</code></em><br /></span><span class="term"><code class="literal">\else</code><br /></span><span class="term"><code class="literal">\endif</code></span></dt><dd><p>このコマンド群は入れ子にすることができる条件ブロックを実現します。
条件ブロックは<code class="command">\if</code>で始まり、<code class="command">\endif</code>で終わらなければなりません。
その間には<code class="command">\elif</code>句をいくつでも置くことができ、さらにその後に<code class="command">\else</code>句を１つだけ置くことができます。
条件ブロックを構成するコマンドの間には、通常の問い合わせや他の種類のバックスラッシュコマンドを置くことができます（通常は置きます）。
        </p><p><code class="command">\if</code>コマンドおよび<code class="command">\elif</code>コマンドはその引数を読み取り、それを論理式であるとして評価します。
式の結果が<code class="literal">true</code>であれば、通常通りに処理が続きますが、そうでないときは、対応する<code class="command">\elif</code>、<code class="command">\else</code>または<code class="command">\endif</code>に到達するまで行をスキップします。
ひとたび<code class="command">\if</code>または<code class="command">\elif</code>の評価が真になったら、同じブロック内のそれより後にある<code class="command">\elif</code>コマンドの引数は評価されず、偽であるとして扱われます。
<code class="command">\else</code>より後にある行は、それより前の対応する<code class="command">\if</code>と<code class="command">\elif</code>が一つも真にならなかった時にのみ実行されます。
        </p><p><code class="command">\if</code>コマンドおよび<code class="command">\elif</code>コマンドの<em class="replaceable"><code>expression</code></em>引数は、他のバックスラッシュコマンドの引数と同様、変数置換と逆引用符展開の対象となります。
その後で、on/offのオプション変数の値のように評価されます。
従って有効な値は、<code class="literal">true</code>、<code class="literal">false</code>、<code class="literal">1</code>、<code class="literal">0</code>、<code class="literal">on</code>、<code class="literal">off</code>、<code class="literal">yes</code>、<code class="literal">no</code>のいずれかに曖昧性なしに、大文字小文字を区別せずにマッチするものです。
例えば、<code class="literal">t</code>、<code class="literal">T</code>、<code class="literal">tR</code>はすべて<code class="literal">true</code>であるとみなされます。
        </p><p>真にも偽にも適切に評価できない式には警告を発行し、偽として扱います。
        </p><p>スキップされる行も、問い合わせとバックスラッシュコマンドを特定するため、通常通り解析されますが、問い合わせはサーバには送信されず、条件コマンド（<code class="command">\if</code>、<code class="command">\elif</code>、<code class="command">\else</code>、<code class="command">\endif</code>）以外のバックスラッシュコマンドは無視されます。
条件コマンドは入れ子の有効性の確認のためだけに検査されます。
スキップされる行の変数参照は展開されず、逆引用符の展開も実行されません。
        </p><p>条件ブロック内のすべてのバックスラッシュコマンドは同じファイル内になければなりません。
ファイル内のすべての<code class="command">\if</code>ブロックが閉じられるより前に、メインの入力ファイルまたは<code class="command">\include</code>されたファイルの終端に到達した場合、<span class="application">psql</span>はエラーを発生させます。
        </p><p>例を示します。
        </p><pre class="programlisting">-- データベース内に2つのレコードが存在するかどうかを検査し、
-- その結果を2つのpsql変数に格納する。
SELECT
    EXISTS(SELECT 1 FROM customer WHERE customer_id = 123) as is_customer,
    EXISTS(SELECT 1 FROM employee WHERE employee_id = 456) as is_employee
\gset
\if :is_customer
    SELECT * FROM customer WHERE customer_id = 123;
\elif :is_employee
    \echo 'is not a customer but is an employee'
    SELECT * FROM employee WHERE employee_id = 456;
\else
    \if yes
        \echo 'not a customer or employee'
    \else
        \echo 'this will never print'
    \endif
\endif</pre></dd><dt><span class="term"><code class="literal">\ir</code>または<code class="literal">\include_relative</code> <em class="replaceable"><code>filename</code></em></span></dt><dd><p><code class="literal">\ir</code>コマンドは<code class="literal">\i</code>と似ていますが、相対ファイル名の解決方法が異なります。
対話モードで実行している場合は２つのコマンドの動作は同一です。
しかし、スクリプトから呼び出す場合、<code class="literal">\ir</code>は、現在の作業ディレクトリではなく、そのスクリプトの格納ディレクトリから見た相対ファイル名として解釈します。
        </p></dd><dt><span class="term"><code class="literal">\l[+]</code> または <code class="literal">\list[+] [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>サーバ内のデータベースについて、その名前、所有者、文字セット符号化方式、アクセス権限を一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンにマッチする名前を持つデータベースのみを表示します。
コマンド名に<code class="literal">+</code>を付けると、データベースのサイズ、デフォルトのテーブル空間、説明も表示します。
（サイズ情報は現在のユーザが接続可能なデータベースでのみ表示されます。）
        </p></dd><dt><span class="term"><code class="literal">\lo_export <em class="replaceable"><code>loid</code></em> <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>データベースから<acronym class="acronym">OID</acronym>が<em class="replaceable"><code>loid</code></em>であるラージオブジェクトを読み取り、<em class="replaceable"><code>filename</code></em>に書き出します。
これは<code class="function">lo_export</code>サーバ関数とは微妙に異なります。
<code class="function">lo_export</code>関数は、データベースサーバを実行しているユーザ権限で、サーバ上のファイルシステムに対して動作します。
        </p><div class="tip"><h3 class="title">Tip</h3><p>ラージオブジェクトの<acronym class="acronym">OID</acronym>を確認するには、<code class="command">\lo_list</code>を使用してください。
        </p></div></dd><dt><span class="term"><code class="literal">\lo_import <em class="replaceable"><code>filename</code></em> [ <em class="replaceable"><code>comment</code></em> ]</code></span></dt><dd><p>ファイルを<span class="productname">PostgreSQL</span>のラージオブジェクトに保存します。
オプションで、そのオブジェクトに指定したコメントを関連付けることができます。
下記に例を示します。
</p><pre class="programlisting">foo=&gt; <strong class="userinput"><code>\lo_import '/home/peter/pictures/photo.xcf' 'a picture of me'</code></strong>
lo_import 152801</pre><p>
上の応答は、指定したラージオブジェクトがオブジェクトID 152801として受け付けられたことを示します。
今後この新規作成されたラージオブジェクトにアクセスする場合に、この番号が使用できます。
可読性を高めるために、常に全てのオブジェクトに人間がわかるようなコメントを関連付けることが推奨されます。
<code class="command">\lo_list</code>コマンドではOIDとコメントの両方が表示されます。
        </p><p>このコマンドは、ローカルなユーザによってローカルなファイルシステムに対して動作します。一方、サーバ側の<code class="function">lo_import</code>は、サーバのユーザによってサーバ上のファイルシステムに対して動作します。
このコマンドとサーバ側の<code class="function">lo_import</code>は、この点で微妙に異なっています。
        </p></dd><dt><span class="term"><code class="literal">\lo_list</code></span></dt><dd><p>現在データベースに保存されている全ての<span class="productname">PostgreSQL</span>ラージオブジェクトの一覧を、そのオブジェクトに付けられたコメントと一緒に表示します。
        </p></dd><dt><span class="term"><code class="literal">\lo_unlink <em class="replaceable"><code>loid</code></em></code></span></dt><dd><p><acronym class="acronym">OID</acronym>が<em class="replaceable"><code>loid</code></em>であるラージオブジェクトをデータベースから削除します。
        </p><div class="tip"><h3 class="title">Tip</h3><p>ラージオブジェクトの<acronym class="acronym">OID</acronym>を確認するには、<code class="command">\lo_list</code>を使用してください。
        </p></div></dd><dt><span class="term"><code class="literal">\o</code>または<code class="literal">\out [ <em class="replaceable"><code>filename</code></em> ]</code><br /></span><span class="term"><code class="literal">\o</code>または<code class="literal">\out [ |<em class="replaceable"><code>command</code></em> ]</code></span></dt><dd><p>以降の問い合わせの結果を、<em class="replaceable"><code>filename</code></em>で指定されたファイルに保存するか、またはシェルコマンド<em class="replaceable"><code>command</code></em>にパイプで渡すようにします。
引数がない場合、問い合わせの出力はリセットされて標準出力になります。
        </p><p>引数が<code class="literal">|</code>で始まっている場合、行の残りの部分はすべて実行する<em class="replaceable"><code>command</code></em>であると解釈され、その中では変数の置換も逆引用符の展開も行われません。
行の残り部分は、単にあるがままにシェルに渡されます。
        </p><p><span class="quote">“<span class="quote">問い合わせの結果</span>”</span>には、全てのテーブル、コマンドの応答、データベースサーバからの注意メッセージだけでなく、データベースに問い合わせを行う（<code class="command">\d</code>のような）各種バックスラッシュコマンドの出力が含まれます。ただし、エラーメッセージは含まれません。
        </p><div class="tip"><h3 class="title">Tip</h3><p>問い合わせの結果の間にテキストを挿入するには、<code class="command">\qecho</code>を使用してください。
        </p></div></dd><dt><span class="term"><code class="literal">\p</code>または<code class="literal">\print</code></span></dt><dd><p>現在の問い合わせバッファを標準出力に書き出します。
現在の問い合わせバッファが空の場合、最も最近に実行された問い合わせが書き出されます。
        </p></dd><dt><span class="term"><code class="literal">\password [ <em class="replaceable"><code>username</code></em> ]</code></span></dt><dd><p>指定したユーザ（デフォルトは現在のユーザ）のパスワードを変更します。
このコマンドは、新しいパスワードを促し、暗号化して、それを<code class="command">ALTER ROLE</code>コマンドとしてサーバに送信します。
これによりコマンド履歴やサーバログなどどこにも新しいパスワードが平文では残りません。
        </p></dd><dt><span class="term"><code class="literal">\prompt [ <em class="replaceable"><code>text</code></em> ] <em class="replaceable"><code>name</code></em></code></span></dt><dd><p>変数<em class="replaceable"><code>name</code></em>に代入するテキストを入力するようにユーザを促します。
プロンプト<em class="replaceable"><code>text</code></em>をオプションで指定することができます。
（複数の単語をプロンプトで使用する場合はそのテキストを単一引用符でくくってください。）
        </p><p>デフォルトでは<code class="literal">\prompt</code>は入出力に端末を使用します。
しかし、<code class="option">-f</code>コマンドラインスイッチが使用されている場合、<code class="literal">\prompt</code>は標準入力、標準出力を使用します。
        </p></dd><dt><span class="term"><code class="literal">\pset [ <em class="replaceable"><code>option</code></em> [ <em class="replaceable"><code>value</code></em> ] ]</code></span></dt><dd><p>このコマンドは問い合わせ結果のテーブル出力に影響するオプションを設定します。
<em class="replaceable"><code>option</code></em>には、どのオプションを設定するのかを記述します。
<em class="replaceable"><code>value</code></em>の意味は選択したオプションにより変わります。
以下のオプション別の説明の通り、オプションの中には<em class="replaceable"><code>value</code></em>を省略することでトグルや設定解除を行うものがあります。
こうした動作の記載がなければ、<em class="replaceable"><code>value</code></em>を省略すると、単に現在の設定値が表示されることになります。
        </p><p>何も引数をつけずに<code class="command">\pset</code>を実行すると、すべての表示オプションの現在の状態を表示します。
        </p><p>以下は、表示の調整に関するオプションです。
        </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">border</code></span></dt><dd><p><em class="replaceable"><code>value</code></em>は数値でなければなりません。
基本的には、この数字が大きくなればなるほど、表示するテーブルが持つ境界線は増えますが、詳細はそれぞれの出力形式に依存しています。
<acronym class="acronym">HTML</acronym>書式では、この値は直接<code class="literal">border=...</code>属性に反映されます。
他のほとんどの書式の場合は、0（境界線なし）、1（内側の境界線）、2（テーブル枠）という3つの数値のみ意味を持ち、2より大きな値は<code class="literal">border = 2</code>と同じとして扱われます。
<code class="literal">latex</code>および<code class="literal">latex-longtable</code>書式では、さらにデータ行の間に境界線を付ける、3という値をとることができます。
          </p></dd><dt><span class="term"><code class="literal">columns</code></span></dt><dd><p><code class="literal">wrapped</code>書式の対象幅を設定し、そして、ページャを必要とする、拡張自動モードにおける縦表示への切替えに十分な幅で出力するかどうかを決定する幅制限を設定します。
ゼロ（デフォルト）では、環境変数<code class="envar">COLUMNS</code>、もし<code class="envar">COLUMNS</code>が設定されていなければ、検出したスクリーンの幅、により対象幅が制御されます。
さらに<code class="literal">columns</code>がゼロの場合、<code class="literal">wrapped</code>書式はスクリーン出力にのみ影響を与えることになります。
<code class="literal">columns</code>が非ゼロの場合は、ファイルやパイプへの出力も同様に折り返されます。
          </p></dd><dt><span class="term"><code class="literal">expanded</code> (または<code class="literal">x</code>)</span></dt><dd><p><em class="replaceable"><code>value</code></em>を指定する場合は、拡張(expanded)モードを有効または無効にする<code class="literal">on</code>または<code class="literal">off</code>、あるいは<code class="literal">auto</code>のいずれかでなければなりません。
<em class="replaceable"><code>value</code></em>を省略した場合、このコマンドは通常モードと拡張モードの設定をトグルします。
拡張モードを有効にした場合、問い合わせ結果は左に列名、右にデータという2つの列で出力されます。
このモードは、データが通常の<span class="quote">“<span class="quote">水平(horizontal)</span>”</span>モードによる画面表示に適していない場合に有用です。
自動(auto)設定の場合、問い合わせの出力が2列以上でかつ画面幅より広ければ拡張モードが使用され、そうでなければ通常モードが使用されます。
自動設定は位置揃え書式または折り返し書式でのみ有効です。
この他の書式では、常に拡張モードが無効の場合と同様に動作します。
          </p></dd><dt><span class="term"><code class="literal">fieldsep</code></span></dt><dd><p>位置揃えなしの出力書式で使用されるフィールド区切り文字を指定します。
これにより、例えばタブ区切り、カンマ区切りといった他プログラムに要求される形式を作成することができます。
タブをフィールド区切り文字として使用するには、<code class="literal">\pset fieldsep '\t'</code>と入力します。
デフォルトのフィールド区切り文字は<code class="literal">'|'</code>（縦棒）です。
          </p></dd><dt><span class="term"><code class="literal">fieldsep_zero</code></span></dt><dd><p>位置揃えなしの出力書式で使用されるフィールド区切り文字をゼロバイトに指定します。
          </p></dd><dt><span class="term"><code class="literal">footer</code></span></dt><dd><p><em class="replaceable"><code>value</code></em>を指定する場合、それぞれテーブルフッタの表示(<code class="literal">(<em class="replaceable"><code>n</code></em> rows)</code>数)を有効にする<code class="literal">on</code>または無効にする<code class="literal">off</code>のいずれかでなければなりません。
<em class="replaceable"><code>value</code></em>を省略した場合、このコマンドはフッタの表示、非表示をトグルします。
          </p></dd><dt><span class="term"><code class="literal">format</code></span></dt><dd><p>出力形式を<code class="literal">unaligned</code>、<code class="literal">aligned</code>、<code class="literal">wrapped</code>、<code class="literal">html</code>、<code class="literal">asciidoc</code>、<code class="literal">latex</code> (<code class="literal">tabular</code>を使用)、<code class="literal">latex-longtable</code>または<code class="literal">troff-ms</code>.のいずれかに設定します。
一意に判別できる範囲で省略が可能です
（つまり、1文字でも十分であるということです）。
          </p><p><code class="literal">unaligned</code>書式は、表示行の1行に1つの行の全列を、現在有効なフィールド区切り文字で区切って書き出します。
これは他のプログラムに読み込ませることを目的とした出力(例えばタブ区切りやカンマ区切り書式)を生成する場合に有用です。
          </p><p><code class="literal">aligned</code>書式は、標準的で人間が読みやすいように、美しく整形されたテキスト出力です。
これがデフォルトです。
          </p><p><code class="literal">wrapped</code>書式は<code class="literal">aligned</code>と似ていますが、幅の広いデータ値を複数行に折り返して対象の列幅に合うように出力します。
対象の幅は<code class="literal">columns</code>オプションの項に記述されているように決定されます。
<span class="application">psql</span>は列ヘッダタイトルを折り返さないことに注意して下さい。
このため<code class="literal">wrapped</code>書式は列ヘッダに必要とする幅全体が対象より長い場合、<code class="literal">aligned</code>と動作が同じになります。
          </p><p><code class="literal">html</code>、<code class="literal">asciidoc</code>、<code class="literal">latex</code>、<code class="literal">latex-longtable</code>および<code class="literal">troff-ms</code>書式は対応するマークアップ言語を使用する文書内に含めることを目的とした表を出力します。
出力自体は完全な文書ではありません。
<acronym class="acronym">HTML</acronym>では必要性がないかもしれませんが、<span class="application">LaTeX</span>では完全な文書ラッパを持たせなければなりません。
<code class="literal">latex-longtable</code>では<span class="application">LaTeX</span>の<code class="literal">longtable</code>および<code class="literal">booktabs</code>パッケージも必要です。
          </p></dd><dt><span class="term"><code class="literal">linestyle</code></span></dt><dd><p>境界線の表示形式を<code class="literal">ascii</code>、<code class="literal">old-ascii</code>または<code class="literal">unicode</code>のいずれかに設定します。
一意になれば省略形が許されます。（つまり一文字で十分であることを意味します。）
デフォルトの設定は<code class="literal">ascii</code>です。
このオプションは<code class="literal">aligned</code>および<code class="literal">wrapped</code>出力書式のみで有効です。
          </p><p><code class="literal">ascii</code>形式は通常の<acronym class="acronym">ASCII</acronym>を使用します。
データ内の改行は右側余白に<code class="literal">+</code>を使用して表します。
<code class="literal">wrapped</code>書式で、改行文字のない行が2行にまたがるときは、先頭行の右側余白にドット(.)を表示し、次の行の左側余白にもドットを表示します。
          </p><p><code class="literal">old-ascii</code>形式は通常の<acronym class="acronym">ASCII</acronym>文字を使用して、<span class="productname">PostgreSQL</span> 8.4以前で使用されていた方法で整形します。
データ内の改行は列区切りの左側に<code class="literal">:</code>記号を使用して表します。
データを改行文字なしに折り返す際には、列区切りの左側に<code class="literal">;</code>記号を使用して表します。
          </p><p><code class="literal">unicode</code>形式はUnicode矩形描画文字を使用します。
データ内の改行は右側の余白に復帰記号を使用して表します。
データを改行文字なしに折り返す際には、省略記号を先頭行の右側余白に表示し、次の行の左側余白にも表示します。
          </p><p><code class="literal">border</code>設定がゼロより大きい場合、<code class="literal">linestyle</code>オプションはまた、境界線を描画する文字も決定します。
通常の<acronym class="acronym">ASCII</acronym>文字はどのような場合でも動作しますが、Unicode文字が表示できる環境では、その方が見た目が良くなります。
          </p></dd><dt><span class="term"><code class="literal">null</code></span></dt><dd><p>null値の代わりに表示する文字列を設定します。
デフォルトでは何も表示しません。
そのため、よく空の文字列と間違うことがあります。
例えば<code class="literal">\pset null '(null)'</code>とする人もいます。
          </p></dd><dt><span class="term"><code class="literal">numericlocale</code></span></dt><dd><p><em class="replaceable"><code>value</code></em>を指定する場合、それぞれ10進数マーカの左に桁のくくりを分離するロケール固有の文字を表示する<code class="literal">on</code>または表示しない<code class="literal">off</code>のいずれかでなければなりません。
<em class="replaceable"><code>value</code></em>を省略した場合、このコマンドは通常出力かロケール固有の数値出力かをトグルします。
          </p></dd><dt><span class="term"><code class="literal">pager</code></span></dt><dd><p>問い合わせおよび<span class="application">psql</span>のヘルプを出力する際の、ページャプログラムの使用を制御します。
環境変数<code class="envar">PAGER</code>が設定されている場合、出力は指定したプログラムにパイプで渡されます。
<code class="envar">PAGER</code>が設定されていない場合は、プラットフォーム依存のデフォルト（<code class="filename">more</code>など）が使用されます。
          </p><p><code class="literal">pager</code>オプションが<code class="literal">off</code>の場合、ページャプログラムは使用されません。
<code class="literal">pager</code>オプションが<code class="literal">on</code>の場合、ページャは適切な場合、つまり出力先が端末であり、その画面に収まらない場合に使用されます。
また<code class="literal">pager</code>オプションは<code class="literal">always</code>に設定することもできます。
こうすると画面に収まるかどうかに関わらずすべての端末出力でページャが使用されます。
<em class="replaceable"><code>value</code></em>を指定しない<code class="literal">\pset pager</code>はページャの使用をトグルします。
          </p></dd><dt><span class="term"><code class="literal">pager_min_lines</code></span></dt><dd><p><code class="literal">pager_min_lines</code>がページ高より大きな数に設定されている場合、少なくともこれに設定されている行数の出力がなければ、ページャプログラムを呼び出しません。
デフォルトの設定は0です。
          </p></dd><dt><span class="term"><code class="literal">recordsep</code></span></dt><dd><p>位置揃えなしの出力書式で使用されるレコード（行）の区切り文字を指定します。
デフォルトは改行文字です。
          </p></dd><dt><span class="term"><code class="literal">recordsep_zero</code></span></dt><dd><p>位置揃えなしの出力書式で使用されるレコードの区切り文字をゼロバイトに指定します。
          </p></dd><dt><span class="term"><code class="literal">tableattr</code> (または <code class="literal">T</code>)</span></dt><dd><p><code class="literal">html</code>出力書式では、これは<code class="sgmltag-element">table</code>タグ内に記述する属性を指定します。
これを使用して、例えば、<code class="literal">cellpadding</code>や<code class="literal">bgcolor</code>を指定することができます。
<code class="literal">border</code>属性は既に<code class="literal">\pset border</code>によって処理されているので、このコマンドで<code class="literal">border</code>を指定する必要はないでしょう。
<em class="replaceable"><code>value</code></em>の指定がない場合、テーブル属性の設定は解除されます。
          </p><p><code class="literal">latex-longtable</code>書式では、これは
左揃えされたデータ型を含む各列の幅の比率を制御します。
空白文字で区切られた値のリスト、例えば<code class="literal">'0.2 0.2 0.6'</code>として指定します。
指定がない出力列は最後に指定された値を使用します。
          </p></dd><dt><span class="term"><code class="literal">title</code> (または <code class="literal">C</code>)</span></dt><dd><p>今後表示される全てのテーブル用にテーブルタイトルを設定します。
これは出力に説明のためのタグを付けたい場合に有用です。
<em class="replaceable"><code>value</code></em>がない場合、タイトルの設定が解除されます。
          </p></dd><dt><span class="term"><code class="literal">tuples_only</code> (または <code class="literal">t</code>)</span></dt><dd><p><em class="replaceable"><code>value</code></em>を指定する場合、それぞれタプルのみの表示を有効にする、<code class="literal">on</code>または無効にする<code class="literal">off</code>のいずれかでなければなりません。
<em class="replaceable"><code>value</code></em>を省略した場合、このコマンドはタプルのみの表示と通常表示をトグルします。
通常表示では列のヘッダ、タイトル、各種フッタなどのその他の情報が追加されます。
タプルのみのモードでは、テーブルの実データのみが表示されます。
          </p></dd><dt><span class="term"><code class="literal">unicode_border_linestyle</code></span></dt><dd><p><code class="literal">unicode</code>の線の形式の境界の形式を<code class="literal">single</code>または<code class="literal">double</code>のどちらかに設定します。
          </p></dd><dt><span class="term"><code class="literal">unicode_column_linestyle</code></span></dt><dd><p><code class="literal">unicode</code>の線の形式の列の形式を<code class="literal">single</code>または<code class="literal">double</code>のどちらかに設定します。
          </p></dd><dt><span class="term"><code class="literal">unicode_header_linestyle</code></span></dt><dd><p><code class="literal">unicode</code>の線の形式のヘッダの形式を<code class="literal">single</code>または<code class="literal">double</code>のどちらかに設定します。
          </p></dd></dl></div><p>
        </p><p><a class="xref" href="app-psql.html#APP-PSQL-EXAMPLES" title="例">例</a>節に、これらの書式がどのように見えるかを示した図があります。
        </p><div class="tip"><h3 class="title">Tip</h3><p><code class="command">\pset</code>には各種のショートカットコマンドがあります。
<code class="command">\a</code>、<code class="command">\C</code>、<code class="command">\f</code>、<code class="command">\H</code>、<code class="command">\t</code>、<code class="command">\T</code>、<code class="command">\x</code>を参照してください。
        </p></div></dd><dt><span class="term"><code class="literal">\q</code>または<code class="literal">\quit</code></span></dt><dd><p><span class="application">psql</span>プログラムを終了します。
スクリプトファイルでは、そのスクリプトの実行のみが終了します。
        </p></dd><dt><span class="term"><code class="literal">\qecho <em class="replaceable"><code>text</code></em> [ ... ] </code></span></dt><dd><p>このコマンドは、<code class="command">\echo</code>と同じです。
ただし、出力が<code class="command">\o</code>により設定された問い合わせ出力チャネルに書き出される点が異なります。
        </p></dd><dt><span class="term"><code class="literal">\r</code>または<code class="literal">\reset</code></span></dt><dd><p>問い合わせバッファをリセット（クリア）します。
        </p></dd><dt><span class="term"><code class="literal">\s [ <em class="replaceable"><code>filename</code></em> ]</code></span></dt><dd><p><span class="application">psql</span>のコマンドラインの履歴を<em class="replaceable"><code>filename</code></em>に出力します。
<em class="replaceable"><code>filename</code></em>が省略された場合、履歴は標準出力に書き出されます(適切であればページャを使います)。
このコマンドは、<span class="application">psql</span>が<span class="application">Readline</span>サポートなしの状態でビルドされた場合は利用できません。
        </p></dd><dt><span class="term"><code class="literal">\set [ <em class="replaceable"><code>name</code></em> [ <em class="replaceable"><code>value</code></em> [ ... ] ] ]</code></span></dt><dd><p><span class="application">psql</span>の変数<em class="replaceable"><code>name</code></em>を<em class="replaceable"><code>value</code></em>、または複数のvalueが与えられた場合はそれらを連結したものに設定します。
第一引数しか指定されない場合は、変数に空文字列の値が設定されます。
変数を未設定とするには、<code class="command">\unset</code>コマンドを使用してください。
        </p><p>引数をまったく取らない<code class="command">\set</code>は、現在設定されている<span class="application">psql</span>変数すべての名前と値を表示します。
        </p><p>変数名には、文字、数字、アンダースコアを使用することができます。
詳細は、後述の<a class="xref" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>を参照してください。
変数名は大文字小文字を区別します。
        </p><p><span class="application">psql</span>の動作を制御する、あるいは接続状態を表す値に自動的に設定される、という点で特別な変数がいくつかあります。
これらの変数については、以下の<a class="xref" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>に記載されています。
        </p><div class="note"><h3 class="title">Note</h3><p>このコマンドは<acronym class="acronym">SQL</acronym>の<a class="xref" href="sql-set.html" title="SET"><span class="refentrytitle">SET</span></a>コマンドとは関係ありません。
        </p></div></dd><dt><span class="term"><code class="literal">\setenv <em class="replaceable"><code>name</code></em> [ <em class="replaceable"><code>value</code></em> ]</code></span></dt><dd><p>環境変数<em class="replaceable"><code>name</code></em>を<em class="replaceable"><code>value</code></em>に設定します。
<em class="replaceable"><code>value</code></em>が与えられない場合は、その環境変数を未設定状態にします。
以下に例を示します。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\setenv PAGER less</code></strong>
testdb=&gt; <strong class="userinput"><code>\setenv LESS -imx4F</code></strong></pre></dd><dt><span class="term"><code class="literal">\sf[+] <em class="replaceable"><code>function_description</code></em> </code></span></dt><dd><p>このコマンドは、<code class="command">CREATE OR REPLACE FUNCTION</code>コマンドの形式で、指定された関数の定義を抽出し表示します。
この定義は、<code class="command">\o</code>で設定された現在の問い合わせ出力チャネルに出力されます。
        </p><p>対象の関数は、名前だけまたは、例えば<code class="literal">foo(integer, text)</code>のように名前と引数で指定することができます。
同じ名前の関数が複数存在する場合は、引数の型を指定しなければなりません。
        </p><p>コマンド名に<code class="literal">+</code>を付けると、出力行に関数本体の先頭行を1行目と数える行番号が付けられます。
        </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\sf</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
        </p></dd><dt><span class="term"><code class="literal">\sv[+] <em class="replaceable"><code>view_name</code></em> </code></span></dt><dd><p>このコマンドは、指定したビューの定義を<code class="command">CREATE OR REPLACE VIEW</code>コマンドの形式で取得して表示します。
定義は現在の問い合わせの出力チャネルに表示されます。
これは<code class="command">\o</code>で設定できます。
         </p><p>コマンド名の後に<code class="literal">+</code>が付加された場合は、出力行に1から番号が付けられます。
         </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\sv</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
        </p></dd><dt><span class="term"><code class="literal">\t</code></span></dt><dd><p>出力列名ヘッダと行数フッタの表示を切り替えます。
このコマンドは<code class="literal">\pset tuples_only</code>と同じで、簡便性のために用意されています。
        </p></dd><dt><span class="term"><code class="literal">\T <em class="replaceable"><code>table_options</code></em></code></span></dt><dd><p><acronym class="acronym">HTML</acronym>出力書式における<code class="sgmltag-element">table</code>タグ内部に記述する属性を指定します。
このコマンドは<code class="literal">\pset tableattr <em class="replaceable"><code>table_options</code></em></code>と同じ効力を持ちます。
        </p></dd><dt><span class="term"><code class="literal">\timing [ <em class="replaceable"><code>on</code></em> | <em class="replaceable"><code>off</code></em> ]</code></span></dt><dd><p>パラメータがある場合、各SQL文にかかる時間の表示の有無をonまたはoffに設定します。
パラメータがない場合、表示をonとoffの間で切り替えます。
表示はミリセカンド単位です。
1秒より長い時間は 分:秒 の形式で表示され、必要なら時間と日のフィールドが追加されます。
        </p></dd><dt><span class="term"><code class="literal">\unset <em class="replaceable"><code>name</code></em></code></span></dt><dd><p><span class="application">psql</span>変数<em class="replaceable"><code>name</code></em>を未設定状態にします（削除します）。
        </p><p><span class="application">psql</span>の動作を制御するほとんどの変数は未設定にすることができず、<code class="literal">\unset</code>はそれをデフォルト値に設定するものとして解釈されます。
以下の<a class="xref" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>を参照してください。
        </p></dd><dt><span class="term"><code class="literal">\w</code>または<code class="literal">\write</code> <em class="replaceable"><code>filename</code></em><br /></span><span class="term"><code class="literal">\w</code>または<code class="literal">\write</code> <code class="literal">|</code><em class="replaceable"><code>command</code></em></span></dt><dd><p>現在の問い合わせバッファを、<em class="replaceable"><code>filename</code></em>ファイルに書き出すか、もしくは、シェルコマンド<em class="replaceable"><code>command</code></em>にパイプで渡します。
現在の問い合わせバッファが空の場合、最も最近に実行された問い合わせを書き出します。
        </p><p>引数が<code class="literal">|</code>で始まっている場合、行の残りの部分はすべて実行する<em class="replaceable"><code>command</code></em>であると解釈され、その中では変数の置換も逆引用符の展開も行われません。
行の残り部分は、単にあるがままにシェルに渡されます。
        </p></dd><dt><span class="term"><code class="literal">\watch [ <em class="replaceable"><code>seconds</code></em> ]</code></span></dt><dd><p>中断するか問い合わせが失敗するまで、現在の問い合わせバッファを繰り返し（<code class="literal">\g</code>と同じように）実行します。
実行の間に指定秒数(デフォルトは2)の休止が入ります。
各問い合わせの結果には、<code class="literal">\pset title</code>の文字列（あれば）、問い合わせ開始時の時刻、および遅延間隔を含むヘッダとともに表示されます。
        </p><p>現在の問い合わせバッファが空の場合、最も最近に送信された問い合わせが再実行されます。
        </p></dd><dt><span class="term"><code class="literal">\x [ <em class="replaceable"><code>on</code></em> | <em class="replaceable"><code>off</code></em> | <em class="replaceable"><code>auto</code></em> ]</code></span></dt><dd><p>拡張テーブル形式モードを設定またはトグルします。
従って、このコマンドは<code class="literal">\pset expanded</code>と同じ効力を持ちます。
       </p></dd><dt><span class="term"><code class="literal">\z [ <a class="link" href="app-psql.html#APP-PSQL-PATTERNS" title="パターン"><em class="replaceable"><code>pattern</code></em></a> ]</code></span></dt><dd><p>テーブル、ビュー、シーケンスを、関連付けられているアクセス権限とともに一覧表示します。
<em class="replaceable"><code>pattern</code></em>を指定すると、パターンに名前がマッチするテーブル、ビュー、シーケンスのみが表示されます。
        </p><p>これは<code class="command">\dp</code>（<span class="quote">“<span class="quote">権限の表示（display privileges）</span>”</span>）の別名です。
        </p></dd><dt><span class="term"><code class="literal">\! [ <em class="replaceable"><code>command</code></em> ]</code></span></dt><dd><p>引数がないときはサブシェルに制御を渡し、サブシェルが終了したら<span class="application">psql</span>が再開されます。
引数があるときは、シェルコマンド<em class="replaceable"><code>command</code></em>を実行します。
        </p><p>他のほとんどのメタコマンドと異なり、行の残り部分はすべて<code class="command">\sv</code>の引数であると常に解釈され、引数内の変数の置換も逆引用符の展開も行われません。
行の残りの部分は単にあるがままにシェルに渡されます。
        </p></dd><dt><span class="term"><code class="literal">\? [ <em class="replaceable"><code>topic</code></em> ]</code></span></dt><dd><p>ヘルプ情報を表示します。
オプションの<em class="replaceable"><code>topic</code></em>パラメータ（デフォルトは<code class="literal">commands</code>）は<span class="application">psql</span>のどの部分を説明するかを選択します。
<code class="literal">commands</code>は<span class="application">psql</span>のバックスラッシュコマンドについて、<code class="literal">options</code>は<span class="application">psql</span>に渡すことができるコマンド行オプションについて、<code class="literal">variables</code>は<span class="application">psql</span>の設定変数についてのヘルプを表示します。
        </p></dd></dl></div><p>
  </p><div class="refsect3" id="APP-PSQL-PATTERNS"><h4>パターン</h4><a id="id-1.9.4.18.8.4.11.2" class="indexterm"></a><p>各種<code class="literal">\d</code>コマンドでは、<em class="replaceable"><code>pattern</code></em>パラメータを渡して、表示するオブジェクト名を指定することができます。
最も単純な場合では、パターンが正確にオブジェクト名に一致します。
パターン内の文字は、SQLの名前と同様、通常小文字に変換されます。
例えば<code class="literal">\dt FOO</code>は<code class="literal">foo</code>という名前のテーブルを表示します。
SQLの名前と同様、パターンを二重引用符で括ることで小文字への変換が取り止められます。
二重引用符自体をパターン内に含めなければならない場合、二重引用符で括った文字列の中で二重引用符を二重に記載してください。
これもSQLの引用符付き識別子の規則に従ったものです。
例えば、<code class="literal">\dt "FOO""BAR"</code>は<code class="literal">FOO"BAR</code>という名前のテーブルを表示します（<code class="literal">foo"bar</code>ではありません）。
SQLの名前と異なり、パターンの一部を二重引用符で括ることができます。
例えば、<code class="literal">\dt FOO"FOO"BAR</code>は<code class="literal">fooFOObar</code>という名前のテーブルを表示します。
  </p><p><em class="replaceable"><code>pattern</code></em>パラメータが完全に省略されている場合、<code class="literal">\d</code>コマンドは現在のスキーマ検索パス内で可視のオブジェクトを全て表示します。
これは<code class="literal">*</code>というパターンを使用することと同じです。
(オブジェクトを含むスキーマが検索パス上にあり、同じ種類かつ同じ名前のオブジェクトが検索パス上それより前に存在しない場合、そのオブジェクトは<em class="firstterm">可視</em>であるといいます。
これは明示的なスキーマ修飾がない名前でオブジェクトを参照できるということと同じです。)
可視か否かに関わらずデータベース内の全てのオブジェクトを表示するには、<code class="literal">*.*</code>というパターンを使用します。
  </p><p>パターン内部では、<code class="literal">*</code>は（0文字を含む）任意の文字の並びにマッチし、<code class="literal">?</code>は任意の1文字にマッチします。
（この記法はUnixシェルのファイル名パターンと似ています。）
例えば、<code class="literal">\dt int*</code>は、<code class="literal">int</code>から始まる名前を持つテーブルを表示します。
しかし、二重引用符の中では、<code class="literal">*</code>と<code class="literal">?</code>はその特別な意味を失い、文字そのものにマッチします。
  </p><p>ドット(<code class="literal">.</code>)を含むパターンは、スキーマ名にオブジェクト名が続くパターンとして解釈されます。
例えば、<code class="literal">\dt foo*.*bar*</code>は、スキーマ名が<code class="literal">foo</code>で始まるスキーマ内のテーブル名が<code class="literal">bar</code>を含むテーブルを全て表示します。
ドットがない場合、パターンは現行のスキーマ検索パス内で可視的なオブジェクトのみにマッチします。
ここでも、二重引用符で括られた文字列内のドットは特別な意味を失い、文字そのものにマッチすることになります。
  </p><p>上級者は文字クラス(例えば任意の数にマッチする<code class="literal">[0-9]</code>)などの正規表現を使用することができます。
ほぼすべての正規表現の特殊文字は<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">Section 9.7.3</a>の規定通りに動作しますが、上述のように<code class="literal">.</code>が区切り文字となる点、<code class="literal">*</code>は正規表現の<code class="literal">.*</code>になる点、<code class="literal">?</code>が<code class="literal">.</code>になる点、<code class="literal">$</code>がそのまま扱われる点は例外です。
<code class="literal">.</code>の代わりに<code class="literal">?</code>と、<code class="literal"><em class="replaceable"><code>R</code></em>*</code>の代わりに<code class="literal">(<em class="replaceable"><code>R</code></em>+|)</code>と、<code class="literal"><em class="replaceable"><code>R</code></em>?</code>の代わりに<code class="literal">(<em class="replaceable"><code>R</code></em>|)</code>と記述することで、これらのパターン文字を模擬することができます。
通常の正規表現の解釈と異なり、パターンは常に名前全体にマッチするため、<code class="literal">$</code>を正規表現文字として扱う必要はありません。
（言い替えると、<code class="literal">$</code>は自動的にパターンに追加されます。）
パターンの適用位置を決められない場合は、<code class="literal">*</code>を先頭や末尾に記載してください。
二重引用符の内側では、正規表現の特殊文字はその意味を失い、文字そのものにマッチすることになる点に注意してください。
また、正規表現の特殊文字は、演算子名のパターン（つまり<code class="literal">\do</code>の引数）では文字そのものにマッチします。
  </p></div></div><div class="refsect2" id="id-1.9.4.18.8.5"><h3>高度な機能</h3><div class="refsect3" id="APP-PSQL-VARIABLES"><h4>変数</h4><p><span class="application">psql</span>は一般的なUnixコマンドシェルに似た変数の置換機能を提供します。
変数とは名前と値の組み合わせです。
値として任意の長さの任意の文字列を使用できます。
名前は文字(非ラテン文字を含む)、数字、アンダースコアから構成されなければなりません。
    </p><p>変数を設定するには、<span class="application">psql</span>の<code class="command">\set</code>メタコマンドを以下のように使用します。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\set foo bar</code></strong></pre><p>
この例では、変数<code class="literal">foo</code>を<code class="literal">bar</code>という値に設定しています。
変数の内容を取り出すには、以下のように変数名の前にコロンを付けます。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\echo :foo</code></strong>
bar</pre><p>
これは通常のSQLコマンド内とメタコマンド内の両方で動作します。
後述の<a class="xref" href="app-psql.html#APP-PSQL-INTERPOLATION" title="SQL差し替え"><acronym class="acronym">SQL</acronym>差し替え</a>で詳しく説明します。
    </p><p>第二引数なしで<code class="command">\set</code>を呼び出すと、その変数には空文字列の値が設定されます。
変数を未設定状態にする(つまり削除する)ためには、<code class="command">\unset</code>コマンドを使用してください。
すべての変数の値を表示するためには、引数なしで<code class="command">\set</code>を呼び出してください。
    </p><div class="note"><h3 class="title">Note</h3><p><code class="command">\set</code>の引数は他のコマンドと同じ置換規則に従います。
このため、<code class="literal">\set :foo 'something'</code>のような参照を作成して、<span class="productname">Perl</span>における<span class="quote">“<span class="quote">ソフトリンク</span>”</span>や<span class="productname"><acronym class="acronym">PHP</acronym></span>における<span class="quote">“<span class="quote">可変変数</span>”</span>に当たるものを得られます。
しかし、残念ながら（あるいは幸運にも）、このような構成をうまく使用する方法はありません。
一方、<code class="literal">\set bar :foo</code>のようにして変数をコピーするのは、完全に有効な方法です。
    </p></div><p>これらの変数の多くは、<span class="application">psql</span>に特別扱いされています。
これらは、変数の値を変更することにより、実行時に変更可能なオプションの設定を表現します。
また<span class="application">psql</span>の変更可能な状態を表現しているものもあります。
慣習上、特別視される変数の名前はすべてASCII大文字（と数字とアンダースコア）からなります。
将来的な互換性を最大限考慮するために、自分で作成した変数にはこのような変数名を使用しないでください。
   </p><p><span class="application">psql</span>の動作を制御する変数は、一般に未設定にしたり、無効な値に設定したりすることができません。
<code class="literal">\unset</code>コマンドの実行は許されますが、変数をデフォルト値に設定するものとして解釈されます。
第2引数なしの<code class="literal">\set</code>コマンドは、<code class="literal">on</code>の値を受け付ける制御変数では変数を<code class="literal">on</code>に設定するものとして解釈され、それ以外の場合は拒絶されます。
また、 <code class="literal">on</code>と<code class="literal">off</code>の値を受け付ける制御変数では、<code class="literal">true</code>や<code class="literal">false</code>などそれ以外の論理値の共通で使われる綴りも受け付けます。
   </p><p>特別に扱われる変数を以下に示します。
   </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">       <code class="varname">AUTOCOMMIT</code>
       <a id="id-1.9.4.18.8.5.2.9.1.1.2" class="indexterm"></a>
      </span></dt><dd><p>この変数の値が<code class="literal">on</code>の場合（これがデフォルトです）、各SQLコマンドの実行が成功すると、自動的にコミットされます。
コミットを延期するには、<code class="command">BEGIN</code>もしくはSQLの<code class="command">START TRANSACTION</code>コマンドを入力する必要があります。
値が<code class="literal">off</code>もしくは未設定の場合、明示的に<code class="command">COMMIT</code>もしくは<code class="command">END</code>を発行するまで、SQLコマンドはコミットされません。
自動コミット無効モードでは、トランザクションブロック以外でコマンドが発行されると、そのコマンドを実行する前に、自動的に<code class="command">BEGIN</code>コマンドが発行されます（ただし、そのコマンド自体が<code class="command">BEGIN</code>コマンドやその他のトランザクション制御コマンドである場合、トランザクションブロック内で実行することができないコマンド（<code class="command">VACUUM</code>など）である場合は除きます）
        </p><div class="note"><h3 class="title">Note</h3><p>自動コミット無効モードでは、<code class="command">ABORT</code>や<code class="command">ROLLBACK</code>を発行して、明示的に失敗したトランザクションを放棄しなければなりません。
また、コミットせずにセッションを終了した場合は、作業が失われてしまうので注意してください。
        </p></div><div class="note"><h3 class="title">Note</h3><p><span class="productname">PostgreSQL</span>は、伝統的に自動コミット有効モードで動作していましたが、自動コミット無効モードの方がよりSQLの仕様に近いものです。
自動コミット無効モードは、システム全体に対する<code class="filename">psqlrc</code>ファイル、もしくは、個人用の<code class="filename">.psqlrc</code>ファイルで設定すれば実現できます。
        </p></div></dd><dt><span class="term"><code class="varname">COMP_KEYWORD_CASE</code></span></dt><dd><p>SQLキーワードを補完する時に大文字小文字のどちらを使用するかを決定します。
<code class="literal">lower</code>または<code class="literal">upper</code>が設定された場合、補完された単語はそれぞれ小文字または大文字になります。
<code class="literal">preserve-lower</code>または<code class="literal">preserve-upper</code>（デフォルト）が設定された場合、
補完された単語は入力済みの文字の大文字小文字を引き継ぎますが、何も入力されていない場合はそれぞれ小文字または大文字に補完されます。
        </p></dd><dt><span class="term"><code class="varname">DBNAME</code></span></dt><dd><p>現在接続しているデータベース名です。
この変数は（プログラム起動時も含め）データベースに接続する度に設定されますが、変更したり、未設定にすることもできます。
        </p></dd><dt><span class="term"><code class="varname">ECHO</code></span></dt><dd><p><code class="literal">all</code>に設定された場合、空でない全ての入力行は、標準出力に書き出されます。
(これは対話式に読み込まれる行には適用されません。)
この動作をプログラム起動時に設定するには、<code class="option">-a</code>スイッチを使用してください。
<code class="literal">queries</code>に設定された場合、<span class="application">psql</span>は各問い合わせがサーバに送信されるときに表示します。
この動作を選択するオプションは<code class="option">-e</code>です。
<code class="literal">errors</code>に設定された場合、失敗した問い合わせのみが標準エラー出力に出力されます。
この動作に対応するオプションは<code class="option">-b</code>です。
<code class="literal">none</code>（デフォルトです）に設定された場合、どの問い合わせも表示されません。
        </p></dd><dt><span class="term"><code class="varname">ECHO_HIDDEN</code></span></dt><dd><p>この変数が<code class="literal">on</code>に設定されている場合、バックスラッシュコマンドがデータベースに問い合わせを行う時、最初にその問い合わせが表示されます。
この機能は、<span class="productname">PostgreSQL</span>内部動作について調べたり、自作プログラム内で同様の関数機能を用意したりするのに役立つでしょう。
（この動作をプログラム起動時に選択するには<code class="option">-E</code>スイッチを使用してください）。
この変数を<code class="literal">noexec</code>という値に設定した場合、問い合わせは実際にサーバに送信、実行されずに、単に表示されるだけになります。
デフォルト値は<code class="literal">off</code>です。
        </p></dd><dt><span class="term"><code class="varname">ENCODING</code></span></dt><dd><p>現在のクライアント側の文字セット符号化方式です。
これは（プログラムの起動時を含め）データベースに接続する度に、また符号化方式を<code class="literal">\encoding</code>で変更した時に設定されますが、変更したり、未設定にすることができます。
        </p></dd><dt><span class="term"><code class="varname">FETCH_COUNT</code></span></dt><dd><p>この変数が0より大きな整数値に設定されている場合、<code class="command">SELECT</code>問い合わせの結果は、指定した行数の集合として取り出され、表示されます。
デフォルトの動作では、表示する前にすべての結果が取り出されます。
したがって、結果セットの大きさに関係なくメモリの使用量が限定されます。
この機能を有効とする場合に100から1000までの値がよく使用されます。
この機能を使用する際には、既に一部の行が表示されている場合、問い合わせが失敗する可能性があることに注意してください。
        </p><div class="tip"><h3 class="title">Tip</h3><p>任意の出力書式でこの機能を使用することができますが、デフォルトの<code class="literal">aligned</code>書式は適していません。
<code class="varname">FETCH_COUNT</code>行のグループそれぞれが別々に整形されてしまい、行のグループによって列幅が異なることになるためです。
他の出力書式は適切に動作します。
        </p></div></dd><dt><span class="term"><code class="varname">HISTCONTROL</code></span></dt><dd><p>この変数を<code class="literal">ignorespace</code>に設定した場合、空白文字から始まる行は履歴リストには入りません。
<code class="literal">ignoredups</code>に設定した場合、直前の履歴と同じ行は履歴リストに入りません。
<code class="literal">ignoreboth</code>に設定した場合は、上記の2つを組み合わせたものになります。
<code class="literal">none</code>（デフォルトです）に設定した場合は、対話モードで読まれる全ての行が履歴リストに保存されます。
        </p><div class="note"><h3 class="title">Note</h3><p>この機能は<span class="application">Bash</span>の機能を真似たものです。
        </p></div></dd><dt><span class="term"><code class="varname">HISTFILE</code></span></dt><dd><p>履歴を格納するために使用されるファイルの名前です。
未設定にすると、ファイル名は環境変数<code class="envar">PSQL_HISTORY</code>から取得されます。
それも設定されていない場合、デフォルトは<code class="filename">~/.psql_history</code>、またはWindowsでは<code class="filename">%APPDATA%\postgresql\psql_history</code>です。
例えば、<code class="filename">~/.psqlrc</code>で以下を記述すると、<span class="application">psql</span>はデータベース毎に分けて履歴を管理します。
</p><pre class="programlisting">\set HISTFILE ~/.psql_history- :DBNAME</pre><p>
        </p><div class="note"><h3 class="title">Note</h3><p>この機能は<span class="application">Bash</span>の機能を真似たものです。
        </p></div></dd><dt><span class="term"><code class="varname">HISTSIZE</code></span></dt><dd><p>コマンド履歴に保存するコマンドの最大数（デフォルトは500）です。
負の値に設定すると、制限がなくなります。
        </p><div class="note"><h3 class="title">Note</h3><p>この機能は<span class="application">Bash</span>の機能を真似たものです。
        </p></div></dd><dt><span class="term"><code class="varname">HOST</code></span></dt><dd><p>接続中のデータベースサーバホストです。
この変数は（プログラム起動時も含め）データベースに接続する度に設定されますが、変更したり、未設定にすることもできます。
        </p></dd><dt><span class="term"><code class="varname">IGNOREEOF</code></span></dt><dd><p>この変数を1以下に設定すると、対話式セッションに<acronym class="acronym">EOF</acronym>文字（通常<span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>D</strong></span>）が送信された時、<span class="application">psql</span>が終了します。
1より大きな数値を設定すると、対話的セッションを終了するには、指定された数だけ、続けて<acronym class="acronym">EOF</acronym>文字を送信しなければなりません。
数値以外を設定した場合は、10と解釈されます。
デフォルトは0です。
        </p><div class="note"><h3 class="title">Note</h3><p>この機能は<span class="application">Bash</span>の機能を真似たものです。
        </p></div></dd><dt><span class="term"><code class="varname">LASTOID</code></span></dt><dd><p><code class="command">INSERT</code>や<code class="command">\lo_insert</code>コマンドによって返された、最後に影響を受けたOIDの値です。
この変数は、次の<acronym class="acronym">SQL</acronym>コマンドの結果が表示されるまでの間のみ保証されています。
        </p></dd><dt><span class="term">       <code class="varname">ON_ERROR_ROLLBACK</code>
       <a id="id-1.9.4.18.8.5.2.9.14.1.2" class="indexterm"></a>
      </span></dt><dd><p><code class="literal">on</code>に設定されている場合、トランザクションブロック内である文がエラーとなった時に、そのエラーは無視され、トランザクションは継続します。
<code class="literal">interactive</code>に設定されている場合、対話式セッション内の場合にのみエラーは無視されます。スクリプトファイルを読み込んでいる場合は無視されません。
<code class="literal">off</code>（デフォルトです）に設定されている場合、トランザクションブロック内の文がエラーになると、トランザクション全体をアボートします。
エラーロールバックのモードは、トランザクションブロック内で各コマンドの実行直前に暗黙的な<code class="command">SAVEPOINT</code>を行い、コマンドが失敗した時にこのセーブポイントにロールバックすることで実現されています。
        </p></dd><dt><span class="term"><code class="varname">ON_ERROR_STOP</code></span></dt><dd><p>デフォルトではエラーの後もコマンド処理は続行されます。
この変数が<code class="literal">on</code>に設定されていると、代わりに即座に停止します。
対話モードでは<span class="application">psql</span>はコマンドプロンプトに戻ります。
これ以外では<span class="application">psql</span>は終了し、エラーコード1を返す致命的エラー条件と区別できるように、エラーコード3を返します。
どちらの場合でも、現在実行中のスクリプト（トップレベルのスクリプト、もしあれば関連性を持つ他のスクリプトすべて）は即座に終了します。
トップレベルのコマンド文字列が複数のSQLコマンドを含む場合、その時点のコマンドで処理は終了します。
        </p></dd><dt><span class="term"><code class="varname">PORT</code></span></dt><dd><p>接続中のデータベースサーバのポートです。
この変数は（プログラム起動時も含め）データベースに接続する度に設定されますが、変更することも未設定にすることもできます。
        </p></dd><dt><span class="term"><code class="varname">PROMPT1</code><br /></span><span class="term"><code class="varname">PROMPT2</code><br /></span><span class="term"><code class="varname">PROMPT3</code></span></dt><dd><p>これらの変数は、<span class="application">psql</span>が発行するプロンプトの見た目を指定します。
後述の<a class="xref" href="app-psql.html#APP-PSQL-PROMPTING" title="プロンプト">プロンプト</a>を参照してください。
        </p></dd><dt><span class="term"><code class="varname">QUIET</code></span></dt><dd><p>この変数を<code class="literal">on</code>に設定することはコマンドラインオプション<code class="option">-q</code>と同じ効力を持ちます。
対話式モードではあまり役立ちません。
        </p></dd><dt><span class="term"><code class="varname">SERVER_VERSION_NAME</code><br /></span><span class="term"><code class="varname">SERVER_VERSION_NUM</code></span></dt><dd><p>文字列としてのサーバーのバージョン番号、例えば<code class="literal">9.6.2</code>、<code class="literal">10.1</code>、<code class="literal">11beta1</code>など、および数値形式でのバージョン番号、例えば<code class="literal">90602</code>、<code class="literal">100001</code>などです。
これらは（プログラムの起動時を含め）データベースに接続する度に設定されますが、変更することも未設定にすることもできます。
        </p></dd><dt><span class="term"><code class="varname">SHOW_CONTEXT</code></span></dt><dd><p>この変数は値<code class="literal">never</code>、<code class="literal">errors</code>、あるいは<code class="literal">always</code>に設定することができ、<code class="literal">CONTEXT</code>フィールドがサーバからのメッセージに表示されるかどうかを制御します。
デフォルトは<code class="literal">errors</code>です（CONTEXTはエラーメッセージ内では表示されますが、注意や警告メッセージでは表示されません）。
この設定は<code class="varname">VERBOSITY</code>が<code class="literal">terse</code>に設定されている場合は効果がありません。
（<code class="command">\errverbose</code>も参照してください。こちらは受け取ったばかりのエラーについて、冗長なメッセージが必要なときに使えます。）
        </p></dd><dt><span class="term"><code class="varname">SINGLELINE</code></span></dt><dd><p>この変数を<code class="literal">on</code>に設定することはコマンドラインオプション<code class="option">-S</code>と同じ効力を持ちます。
        </p></dd><dt><span class="term"><code class="varname">SINGLESTEP</code></span></dt><dd><p>この変数を<code class="literal">on</code>に設定することはコマンドラインオプション<code class="option">-s</code>と同じ効力を持ちます。
        </p></dd><dt><span class="term"><code class="varname">USER</code></span></dt><dd><p>接続中のデータベースユーザです。
この変数は（プログラム起動時も含め）データベースに接続する度に設定されますが、変更することも未設定にすることもできます。
        </p></dd><dt><span class="term"><code class="varname">VERBOSITY</code></span></dt><dd><p>この変数を<code class="literal">default</code>、<code class="literal">verbose</code>、<code class="literal">terse</code>のいずれかに設定することで、エラー報告の冗長性を制御できます。
（<code class="command">\errverbose</code>も参照してください。こちらは受け取ったばかりのエラーについて、冗長なメッセージが必要なときに使えます。）
        </p></dd><dt><span class="term"><code class="varname">VERSION</code><br /></span><span class="term"><code class="varname">VERSION_NAME</code><br /></span><span class="term"><code class="varname">VERSION_NUM</code></span></dt><dd><p>これらの変数はプログラムの起動時に<span class="application">psql</span>のバージョンを表すために設定され、それぞれ冗長な文字列、短い文字列（例：<code class="literal">9.6.2</code>、<code class="literal">10.1</code>、<code class="literal">11beta1</code>）、数字（例：<code class="literal">90602</code>、<code class="literal">100001</code>）です。
これらは変更することも未設定にすることもできます。
        </p></dd></dl></div></div><div class="refsect3" id="APP-PSQL-INTERPOLATION"><h4><acronym class="acronym">SQL</acronym>差し替え</h4><p><span class="application">psql</span>の変数には、通常の<acronym class="acronym">SQL</acronym>文やメタコマンドの引数の中で使用（<span class="quote">“<span class="quote">差し替え：interpolate</span>”</span>）できるという重要な機能があります。
さらに<span class="application">psql</span>は、
SQLリテラルと識別子として使用される変数の値が適切に引用符付けされていることを保証する機能を提供します。
引用符付けをまったく行わずに差し替えるための構文は、変数名の前にコロン(<code class="literal">:</code>)を付けることです。
以下に例を示します。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\set foo 'my_table'</code></strong>
testdb=&gt; <strong class="userinput"><code>SELECT * FROM :foo;</code></strong></pre><p>
この例では、問い合わせは<code class="literal">my_table</code>テーブルに対して行われます。
これが安全ではない場合があることに注意して下さい。
変数の値はそのままコピーされるので、対応のとれていない引用符やバックスラッシュコマンドさえも含めることができます。
挿入した場所で変数が展開された時に、確実に正しい意味になるようにしなければなりません。
    </p><p>値がSQLリテラルや識別子内で使用される場合、それが引用符付けされるように調整することがもっとも安全です。
SQLリテラルとして変数値を引用符付けするためには、コロンの後に変数名を単一引用符で括って記述してください。
SQL識別子として値を引用符付けするためには、コロン後に変数名を二重引用符で括って記述してください。
これらの式は正しく引用符と変数値内に埋め込まれた特殊文字を扱います。
前の例は以下のように記述することでより安全になります。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\set foo 'my_table'</code></strong>
testdb=&gt; <strong class="userinput"><code>SELECT * FROM :"foo";</code></strong></pre><p>
    </p><p>変数差し替えは、引用符付けされた<acronym class="acronym">SQL</acronym>リテラルと識別子の中では行われません。
したがって<code class="literal">':foo'</code>などの式は、変数の値から引用符付けしたリテラルを生成するようには動作しません。
(値の中に埋め込まれた引用符を正しく取り扱えませんので、もし動作したとしたら安全ではありません。)
    </p><p>この機能の有効な利用方法の例は、ファイルの内容をテーブル列にコピーする場合も利用することができます。
その際は、ファイルをまず変数に読み込み、引用符付けした文字列として変数名を差し替えます。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\set content `cat my_file.txt`</code></strong>
testdb=&gt; <strong class="userinput"><code>INSERT INTO my_table VALUES (:'content');</code></strong></pre><p>
(<code class="filename">my_file.txt</code>にNULバイトが含まれている場合、これはうまく動作しないことに注意してください。
<span class="application">psql</span>は変数値内に埋め込まれたNULバイトをサポートしません。)
    </p><p>コロン（:）もSQLコマンド内で正規に使用できますので、
指定した変数が現在設定されていない場合、差し替え時の見かけの置換(<code class="literal">:name</code>、<code class="literal">:'name'</code>、<code class="literal">:"name"</code>)は行われません。
コロンをバックスラッシュでエスケープすれば、常に差し替えから保護することができます。
    </p><p>変数用のコロン構文は、<span class="application">ECPG</span>のような組み込みの問い合わせ言語用の標準<acronym class="acronym">SQL</acronym>として規定されています。
配列の一部の切り出し、および型キャスト用のコロン構文は<span class="productname">PostgreSQL</span>の拡張であり、標準での使用方法と競合することがあります。
SQLリテラルまたは識別子として変数の値をエスケープさせる引用符付きコロン構文は<span class="application">psql</span>の拡張です。
    </p></div><div class="refsect3" id="APP-PSQL-PROMPTING"><h4>プロンプト</h4><p><span class="application">psql</span>が発行するプロンプトは好みに応じてカスタマイズできます。
<code class="varname">PROMPT1</code>、<code class="varname">PROMPT2</code>、<code class="varname">PROMPT3</code>という3つの変数はプロンプトの表示内容を示す文字列や特別なエスケープシーケンスを持ちます。
プロンプト1は<span class="application">psql</span>が新しいコマンドを受け付ける際に発行される通常のプロンプトです。
プロンプト2は、例えばコマンドがセミコロンで終わっていない、または、引用符が閉じていないなど、コマンドの入力中にさらなる入力が期待される際に発行されます。
プロンプト3は<acronym class="acronym">SQL</acronym>の<code class="command">COPY FROM STDIN</code>コマンドを実行中で、端末上で行の値の入力が必要な際に発行されます。
    </p><p>選択されたプロンプト変数の値はそのまま文字として表示されます。
ただし、パーセント（<code class="literal">%</code>）が含まれる場合は例外です。
この場合は、次の文字に従って、特定のテキストに置換されます。
置換対象として定義されているのは次のものです。

    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">%M</code></span></dt><dd><p>データベースサーバの（ドメイン名付きの）完全なホスト名です。その接続がUnixドメインソケットの場合は<code class="literal">[local]</code>となります。
ただし、Unixドメインソケットがコンパイル時に設定したデフォルトの場所に存在しない場合は、<code class="literal">[local:<em class="replaceable"><code>/dir/name</code></em>]</code>となります。
        </p></dd><dt><span class="term"><code class="literal">%m</code></span></dt><dd><p>最初のドット以降を省略したデータベースサーバのホスト名です。その接続がUnixドメインソケットの場合は<code class="literal">[local]</code>となります。
         </p></dd><dt><span class="term"><code class="literal">%&gt;</code></span></dt><dd><p>データベースサーバが監視するポート番号です。</p></dd><dt><span class="term"><code class="literal">%n</code></span></dt><dd><p>データベースセッションユーザの名前です
（この値の展開結果は、<code class="command">SET SESSION AUTHORIZATION</code>コマンドの実行によってデータベースセッション中に変わることがあります）。
         </p></dd><dt><span class="term"><code class="literal">%/</code></span></dt><dd><p>接続中のデータベース名です。</p></dd><dt><span class="term"><code class="literal">%~</code></span></dt><dd><p>デフォルトデータベースの場合に<code class="literal">~</code>（チルダ）が出力される点を除いて、<code class="literal">%/</code>と同じです。</p></dd><dt><span class="term"><code class="literal">%#</code></span></dt><dd><p>セッションユーザがデータベーススーパーユーザである場合は<code class="literal">#</code>、それ以外の場合は<code class="literal">&gt;</code>となります
（この値の展開結果は、<code class="command">SET SESSION AUTHORIZATION</code>コマンドの実行によってデータベースセッション中に変わることがあります）。
         </p></dd><dt><span class="term"><code class="literal">%p</code></span></dt><dd><p>現在接続しているバックエンドのプロセスIDです。</p></dd><dt><span class="term"><code class="literal">%R</code></span></dt><dd><p>プロンプト1の場合、通常は<code class="literal">=</code>ですが、条件ブロックの使われない部分では<code class="literal">@</code>、シングル行モードでは<code class="literal">^</code>、また、データベースとの接続が切れたセッションでは<code class="literal">!</code>になります（<code class="command">\connect</code>が失敗した場合に発生します）。
プロンプト2の場合、<code class="literal">%R</code>は、なぜ<span class="application">psql</span>がさらなる入力を要求しているかによって決まる文字に置き換えられます。
これは、単にコマンドがまだ終了していない場合は<code class="literal">-</code>ですが、<code class="literal">/* ... */</code>のコメントがまだ終了していない場合は<code class="literal">*</code>、引用符付きの文字列が終了していない場合は単一引用符、引用符付きの識別子が終了していない場合は二重引用符、ドル引用文字列が終了していない場合はドル記号、そして閉じられていない左括弧がある場合は<code class="literal">(</code>となります。
プロンプト3の場合、<code class="literal">%R</code>に対しては何も表示されません。
        </p></dd><dt><span class="term"><code class="literal">%x</code></span></dt><dd><p>トランザクションの状態です。
トランザクションブロックの外にいる場合は空文字列に、トランザクションブロックの中にいる場合は<code class="literal">*</code>に、失敗したトランザクションブロックの中にいる場合は<code class="literal">!</code>に、（接続されていないなど）トランザクションの状態が不定の場合は<code class="literal">?</code>になります。
        </p></dd><dt><span class="term"><code class="literal">%l</code></span></dt><dd><p>現在の文の内部での行番号で、<code class="literal">1</code>から始まります。
         </p></dd><dt><span class="term"><code class="literal">%</code><em class="replaceable"><code>digits</code></em></span></dt><dd><p>指定された8進の数値コードの文字に置換されます。
        </p></dd><dt><span class="term"><code class="literal">%:</code><em class="replaceable"><code>name</code></em><code class="literal">:</code></span></dt><dd><p><span class="application">psql</span>の変数<em class="replaceable"><code>name</code></em>の値です。
詳細は<a class="xref" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>を参照してください。
        </p></dd><dt><span class="term"><code class="literal">%`</code><em class="replaceable"><code>command</code></em><code class="literal">`</code></span></dt><dd><p>通常の<span class="quote">“<span class="quote">逆引用符</span>”</span>による置き換えと同様で、<em class="replaceable"><code>command</code></em>の出力です。
        </p></dd><dt><span class="term"><code class="literal">%[</code> ... <code class="literal">%]</code></span></dt><dd><p>プロンプトには端末制御文字を含めることができます。
具体的には、色、背景、プロンプトテキストの様式の変更、端末ウィンドウのタイトルの変更などが指定できます。
<span class="application">Readline</span>の行編集機能を適切に動作させるためには、印字されない制御文字を<code class="literal">%[</code>と<code class="literal">%]</code>で囲んで、不可視であることを明示しなければなりません。
この記号の組み合わせはプロンプト内に複数記述することができます。
以下に例を示します。
</p><pre class="programlisting">testdb=&gt; \set PROMPT1 '%[%033[1;33;40m%]%n@%/%R%[%033[0m%]%# '</pre><p>
これにより、VT100互換のカラー端末では、太字フォントで（<code class="literal">1;</code>）、黒地に黄色の（<code class="literal">33;40</code>）プロンプトが表示されます。
        </p></dd></dl></div><p>

プロンプトにパーセント記号を入れる場合は、<code class="literal">%%</code>と記述してください。
デフォルトのプロンプトは、プロンプト1と2が<code class="literal">'%/%R%# '</code>、プロンプト3が<code class="literal">'&gt;&gt; '</code>です。
    </p><div class="note"><h3 class="title">Note</h3><p>この機能は<span class="application">tcsh</span>の機能を真似たものです。
    </p></div></div><div class="refsect3" id="id-1.9.4.18.8.5.5"><h4>コマンドライン編集</h4><p><span class="application">psql</span>は行内編集や繰り返し入力が簡便になるように<span class="application">Readline</span>ライブラリをサポートしています。
コマンド履歴は、<span class="application">psql</span>の終了時に自動的に保存され、<span class="application">psql</span>の起動時に再読み込みされます。
タブによる補完もサポートされていますが、<acronym class="acronym">SQL</acronym>のパーサとしてコマンドを解釈して判断してくれるわけではありません。
タブによる補完によって生成される問い合わせは他のSQLコマンド、例えば<code class="literal">SET TRANSACTION ISOLATION LEVEL</code>と干渉することもあります。
タブによる補完を何らかの事情により使用したくなければ、ホームディレクトリ内の<code class="filename">.inputrc</code>というファイルに以下のように書き込むことで無効にできます。
</p><pre class="programlisting">$if psql
set disable-completion on
$endif</pre><p>
（これは<span class="application">psql</span>の機能ではなく、<span class="application">Readline</span>の機能です。
詳細については<span class="application">Readline</span>のドキュメントを参照してください）。
    </p></div></div></div><div class="refsect1" id="APP-PSQL-ENVIRONMENT"><h2>環境</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="envar">COLUMNS</code></span></dt><dd><p><code class="literal">\pset columns</code>がゼロの場合、<code class="literal">wrapped</code>書式の幅、および、幅の広い出力がページャを必要とするかどうかを決める幅を制御します。
また自動拡張モードでは縦書式に切り替えるべきかどうかを制御します。
     </p></dd><dt><span class="term"><code class="envar">PAGER</code></span></dt><dd><p>問い合わせ結果が画面に入り切らない場合、このコマンドによって結果をパイプします。
一般的に指定される値は、<code class="literal">more</code>、または<code class="literal">less</code>です。
デフォルトはプラットフォームによって異なります。
ページャの使用を無効にするには<code class="envar">PAGER</code>を空にするか、<code class="command">\pset</code>コマンドのページャ関連のオプションを使用します。
     </p></dd><dt><span class="term"><code class="envar">PGDATABASE</code><br /></span><span class="term"><code class="envar">PGHOST</code><br /></span><span class="term"><code class="envar">PGPORT</code><br /></span><span class="term"><code class="envar">PGUSER</code></span></dt><dd><p>デフォルトの接続パラメータです（<a class="xref" href="libpq-envars.html" title="33.14. 環境変数">Section 33.14</a>を参照）。
     </p></dd><dt><span class="term"><code class="envar">PSQL_EDITOR</code><br /></span><span class="term"><code class="envar">EDITOR</code><br /></span><span class="term"><code class="envar">VISUAL</code></span></dt><dd><p><code class="command">\e</code>コマンド、<code class="command">\ef</code>コマンド、<code class="command">\ev</code>コマンドで使用されるエディタです。
変数はこの順に検索され、設定された最初のものが使用されます。
     </p><p>組み込みのデフォルトエディタは、Unixシステムでは<code class="filename">vi</code>、Windowsシステムでは<code class="filename">notepad.exe</code>です。
     </p></dd><dt><span class="term"><code class="envar">PSQL_EDITOR_LINENUMBER_ARG</code></span></dt><dd><p><code class="command">\e</code>、<code class="command">\ef</code>または<code class="command">\ev</code>が行番号引数を付けて使用された場合、この変数は、ユーザのエディタに開始行番号を渡すために使用されるコマンドライン引数を指定します。
<span class="productname">Emacs</span>または<span class="productname">vi</span>のようなエディタでは、これはプラス(+)記号です。
オプション名と行番号の間に空白文字が必要な場合は、変数の値の最後に空白文字を含めてください。
以下に例を示します。
</p><pre class="programlisting">PSQL_EDITOR_LINENUMBER_ARG='+'
PSQL_EDITOR_LINENUMBER_ARG='--line '</pre><p>
     </p><p>Unixシステム上のデフォルトは<code class="literal">+</code>です。
（デフォルトのエディタ<code class="filename">vi</code>に対応するものですが、他のよく使われる多くのエディタでも役に立ちます。）
一方Windowsシステムではデフォルトはありません。
     </p></dd><dt><span class="term"><code class="envar">PSQL_HISTORY</code></span></dt><dd><p>コマンド履歴ファイルの場所を指定します。
チルダ（<code class="literal">~</code>）展開が行われます。
     </p></dd><dt><span class="term"><code class="envar">PSQLRC</code></span></dt><dd><p>ユーザの<code class="filename">.psqlrc</code>ファイルの場所を指定します。
チルダ（<code class="literal">~</code>）展開が行われます。
     </p></dd><dt><span class="term"><code class="envar">SHELL</code></span></dt><dd><p><code class="command">\!</code>コマンドが実行するコマンドです。
     </p></dd><dt><span class="term"><code class="envar">TMPDIR</code></span></dt><dd><p>一時ファイルを格納するディレクトリです。
デフォルトは<code class="filename">/tmp</code>です。
     </p></dd></dl></div><p>このユーティリティは、他のほとんどの<span class="productname">PostgreSQL</span>ユーティリティと同様、<span class="application">libpq</span>でサポートされる環境変数を使用します（<a class="xref" href="libpq-envars.html" title="33.14. 環境変数">Section 33.14</a>を参照してください）。
  </p></div><div class="refsect1" id="id-1.9.4.18.10"><h2>ファイル</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">psqlrc</code> and <code class="filename">~/.psqlrc</code></span></dt><dd><p><code class="option">-X</code>オプションが渡されない場合、<span class="application">psql</span>は、データベースに接続した後、通常のコマンドを受け付け始める前に、システム全体用の開始ファイル(<code class="filename">psqlrc</code>)のコマンドを、続いてユーザ用の開始ファイル(<code class="filename">~/.psqlrc</code>)のコマンドを読み込み、実行しようとします。
これらのファイルは、<code class="command">\set</code>や<code class="command">SET</code>コマンドを使用して、好みに応じたクライアントやサーバを設定するために使用することができます。
    </p><p>システム全体の開始ファイルは<code class="filename">psqlrc</code>という名前で、インストレーションの<span class="quote">“<span class="quote">システム設定</span>”</span>ディレクトリの中で探されます。
このディレクトリを特定するには<code class="literal">pg_config --sysconfdir</code>を実行するのが最も確実です。
デフォルトでは、<span class="productname">PostgreSQL</span>の実行ファイルを含むディレクトリからの相対パスで<code class="filename">../etc/</code>になります。
このディレクトリの名前は環境変数<code class="envar">PGSYSCONFDIR</code>を使って明示的に設定することができます。
    </p><p>ユーザ用の開始ファイルは<code class="filename">.psqlrc</code>という名前で、実行しているユーザのホームディレクトリの中で探されます。
Windowsではそのような概念がないので、個人用の開始ファイルは<code class="filename">%APPDATA%\postgresql\psqlrc.conf</code>という名前になります。
ユーザ用の開始ファイルは環境変数<code class="envar">PSQLRC</code>で明示的に設定することができます。
    </p><p>システム全体用の開始ファイルとユーザ用の開始ファイルに、例えば、<code class="filename">~/.psqlrc-9.2</code>や<code class="filename">~/.psqlrc-9.2.5</code>のように、ハイフン記号と<span class="productname">PostgreSQL</span>のメジャーリリース番号またはマイナーリリース番号をファイル名に付加することで、特定バージョンの<span class="application">psql</span>向けのファイルとすることができます。
マッチするバージョンのファイルはバージョン指定のないファイルよりも優先して読み込まれます。
    </p></dd><dt><span class="term"><code class="filename">.psql_history</code></span></dt><dd><p>コマンドライン履歴はファイル<code class="filename">~/.psql_history</code>、Windowsの場合は<code class="filename">%APPDATA%\postgresql\psql_history</code>に格納されます。
    </p><p>履歴ファイルの場所は<span class="application">psql</span>変数の<code class="varname">HISTFILE</code>または環境変数<code class="envar">PSQL_HISTORY</code>を介して明示的に設定することができます。
    </p></dd></dl></div></div><div class="refsect1" id="id-1.9.4.18.11"><h2>注釈</h2><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">psql</span>は、同じまたはより古いメジャーバージョンのサーバと稼働させることが最善です。
特にバックスラッシュコマンドは、サーバが<span class="application">psql</span>自身のバージョンより新しいと失敗しやすくなります。
<code class="literal">\d</code>系列のバックスラッシュコマンドは7.4までさかのぼるバージョンのサーバで動作するはずですが、<span class="application">psql</span>自身よりもサーバが新しい場合は、必ずしもそうではありません。
SQLコマンドの実行ならびに問い合わせ結果の表示といった一般的な機能はより新しいメジャーバージョンのサーバとでも動作するはずですが、すべての場合において保証することはできません。
      </p><p>メジャーバージョンが異なる複数のサーバとの接続のために<span class="application">psql</span>を使用したいのであれば、<span class="application">psql</span>の最新版を使用することを勧めます。
他の方法として、各メジャーバージョンの<span class="application">psql</span>のコピーを保持し、確実にそれぞれのサーバに対応するバージョンを使用することができます。
しかし実際には、この複雑さを追加することは必要ではないはずです。
      </p></li><li class="listitem"><p><span class="productname">PostgreSQL</span>の9.6より前では、<code class="option">-c</code>オプションが<code class="option">-X</code> (<code class="option">--no-psqlrc</code>)を暗示しましたが、現在ではそうなっていません。
      </p></li><li class="listitem"><p><span class="productname">PostgreSQL</span>の8.4より前では、<span class="application">psql</span>で1文字のバックスラッシュコマンドの最初の引数をコマンドの直後に空白文字を挟むことなく記述できました。
現在では何らかの空白が必要になっています。
      </p></li></ul></div></div><div class="refsect1" id="id-1.9.4.18.12"><h2>Windowsユーザ向けの注意</h2><p><span class="application">psql</span>は<span class="quote">“<span class="quote">コンソールアプリケーション</span>”</span>としてコンパイルされます。
Windowsのコンソールウィンドウは、システムの他の部分とは異なる符号化方式を使用しているので、<span class="application">psql</span>で8ビット文字を使用する時には特別な配慮が必要です。
<span class="application">psql</span>は、コンソール用コードページとして問題があることを検出すると、起動時に警告を発します。
コンソール用コードページを変更するためには、以下の2つが必要です。

   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><strong class="userinput"><code>cmd.exe /c chcp 1252</code></strong>と入力して、コードページを設定します
（1252はドイツ圏における適切なコードページです。システムに合わせて変更してください）。
Cygwinを使用しているのであれば、このコマンドを<code class="filename">/etc/profile</code>に追加してください。
     </p></li><li class="listitem"><p>コンソール用フォントを<code class="literal">Lucida Console</code>に設定してください。
ラスタフォントは、ANSIコードページでは正しく動作しないためです。
     </p></li></ul></div></div><div class="refsect1" id="APP-PSQL-EXAMPLES"><h2>例</h2><p>最初に、複数行にわたるコマンドの入力例を示します。
プロンプトの変化に注意してください。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>CREATE TABLE my_table (</code></strong>
testdb(&gt; <strong class="userinput"><code> first integer not null default 0,</code></strong>
testdb(&gt; <strong class="userinput"><code> second text)</code></strong>
testdb-&gt; <strong class="userinput"><code>;</code></strong>
CREATE TABLE</pre><p>
さて、ここでテーブル定義を再度確認してみます。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\d my_table</code></strong>
              Table "public.my_table"
 Column |  Type   | Collation | Nullable | Default
--------+---------+-----------+----------+---------
 first  | integer |           | not null | 0
 second | text    |           |          | </pre><p>
次に、プロンプトをもっと面白いものに変更してみます。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>\set PROMPT1 '%n@%m %~%R%# '</code></strong>
peter@localhost testdb=&gt;</pre><p>
テーブルにデータを入力したものと考えてください。データを見る場合は次のようにします。
</p><pre class="programlisting">peter@localhost testdb=&gt; SELECT * FROM my_table;
 first | second
-------+--------
     1 | one
     2 | two
     3 | three
     4 | four
(4 rows)
</pre><p>
<code class="command">\pset</code>コマンドを使って、このテーブルの表示を違うタイプに変更することができます。
</p><pre class="programlisting">peter@localhost testdb=&gt; <strong class="userinput"><code>\pset border 2</code></strong>
Border style is 2.
peter@localhost testdb=&gt; <strong class="userinput"><code>SELECT * FROM my_table;</code></strong>
+-------+--------+
| first | second |
+-------+--------+
|     1 | one    |
|     2 | two    |
|     3 | three  |
|     4 | four   |
+-------+--------+
(4 rows)

peter@localhost testdb=&gt; <strong class="userinput"><code>\pset border 0</code></strong>
Border style is 0.
peter@localhost testdb=&gt; <strong class="userinput"><code>SELECT * FROM my_table;</code></strong>
first second
----- ------
    1 one
    2 two
    3 three
    4 four
(4 rows)

peter@localhost testdb=&gt; <strong class="userinput"><code>\pset border 1</code></strong>
Border style is 1.
peter@localhost testdb=&gt; <strong class="userinput"><code>\pset format unaligned</code></strong>
Output format is unaligned.
peter@localhost testdb=&gt; <strong class="userinput"><code>\pset fieldsep ","</code></strong>
Field separator is ",".
peter@localhost testdb=&gt; <strong class="userinput"><code>\pset tuples_only</code></strong>
Showing only tuples.
peter@localhost testdb=&gt; <strong class="userinput"><code>SELECT second, first FROM my_table;</code></strong>
one,1
two,2
three,3
four,4</pre><p>
その他の方法として、短縮されたコマンドを使用してみます。
</p><pre class="programlisting">peter@localhost testdb=&gt; <strong class="userinput"><code>\a \t \x</code></strong>
Output format is aligned.
Tuples only is off.
Expanded display is on.
peter@localhost testdb=&gt; <strong class="userinput"><code>SELECT * FROM my_table;</code></strong>
-[ RECORD 1 ]-
first  | 1
second | one
-[ RECORD 2 ]-
first  | 2
second | two
-[ RECORD 3 ]-
first  | 3
second | three
-[ RECORD 4 ]-
first  | 4
second | four</pre><p>問い合わせの結果が適していれば、以下のように<code class="command">\crosstabview</code>コマンドを使用してクロス表形式で表示することができます。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>SELECT first, second, first &gt; 2 AS gt2 FROM my_table;</code></strong>
 first | second | gt2 
-------+--------+-----
     1 | one    | f
     2 | two    | f
     3 | three  | t
     4 | four   | t
(4 rows)

testdb=&gt; <strong class="userinput"><code>\crosstabview first second</code></strong>
 first | one | two | three | four 
-------+-----+-----+-------+------
     1 | f   |     |       | 
     2 |     | f   |       | 
     3 |     |     | t     | 
     4 |     |     |       | t
(4 rows)</pre><p>

この2つ目の例では、掛け算の表を、行は逆順にソートし、列はそれとは別に昇順に示しています。
</p><pre class="programlisting">testdb=&gt; <strong class="userinput"><code>SELECT t1.first as "A", t2.first+100 AS "B", t1.first*(t2.first+100) as "AxB",</code></strong>
testdb(&gt; <strong class="userinput"><code>row_number() over(order by t2.first) AS ord</code></strong>
testdb(&gt; <strong class="userinput"><code>FROM my_table t1 CROSS JOIN my_table t2 ORDER BY 1 DESC</code></strong>
testdb(&gt; <strong class="userinput"><code>\crosstabview "A" "B" "AxB" ord</code></strong>
 A | 101 | 102 | 103 | 104 
---+-----+-----+-----+-----
 4 | 404 | 408 | 412 | 416
 3 | 303 | 306 | 309 | 312
 2 | 202 | 204 | 206 | 208
 1 | 101 | 102 | 103 | 104
(4 rows)</pre><p>
</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="app-pgrestore.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="reference-client.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="app-reindexdb.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">pg_restore </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="application">reindexdb</span></td></tr></table></div></body></html>