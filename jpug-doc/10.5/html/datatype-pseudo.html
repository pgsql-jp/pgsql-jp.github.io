<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.20. 疑似データ型</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="datatype-pg-lsn.html" title="8.19. pg_lsn 型" /><link rel="next" href="functions.html" title="Chapter 9. 関数と演算子" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">8.20. 疑似データ型</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="datatype-pg-lsn.html" title="8.19. pg_lsn 型">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="datatype.html" title="Chapter 8. データ型">Up</a></td><th width="60%" align="center">Chapter 8. データ型</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="functions.html" title="Chapter 9. 関数と演算子">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DATATYPE-PSEUDO"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.20. 疑似データ型</h2></div></div></div><a id="id-1.5.7.28.2" class="indexterm"></a><a id="id-1.5.7.28.3" class="indexterm"></a><a id="id-1.5.7.28.4" class="indexterm"></a><a id="id-1.5.7.28.5" class="indexterm"></a><a id="id-1.5.7.28.6" class="indexterm"></a><a id="id-1.5.7.28.7" class="indexterm"></a><a id="id-1.5.7.28.8" class="indexterm"></a><a id="id-1.5.7.28.9" class="indexterm"></a><a id="id-1.5.7.28.10" class="indexterm"></a><a id="id-1.5.7.28.11" class="indexterm"></a><a id="id-1.5.7.28.12" class="indexterm"></a><a id="id-1.5.7.28.13" class="indexterm"></a><a id="id-1.5.7.28.14" class="indexterm"></a><a id="id-1.5.7.28.15" class="indexterm"></a><a id="id-1.5.7.28.16" class="indexterm"></a><a id="id-1.5.7.28.17" class="indexterm"></a><a id="id-1.5.7.28.18" class="indexterm"></a><a id="id-1.5.7.28.19" class="indexterm"></a><a id="id-1.5.7.28.20" class="indexterm"></a><p><span class="productname">PostgreSQL</span>型システムには、<em class="firstterm">疑似データ型</em>と総称される特殊用途のエントリが多数含まれます。
疑似データ型は列データ型としては使用できませんが、関数の引数や結果データ型を宣言するために使用できます。
これらの使用可能な疑似データ型は、ある関数の振舞いが、特定の<acronym class="acronym">SQL</acronym>データ型の値を単に取得したり返したりする操作に対応していない場合に便利です。
<a class="xref" href="datatype-pseudo.html#DATATYPE-PSEUDOTYPES-TABLE" title="Table 8.25. 疑似データ型">Table 8.25</a>に既存の疑似データ型を列挙します。
   </p><div class="table" id="DATATYPE-PSEUDOTYPES-TABLE"><p class="title"><strong>Table 8.25. 疑似データ型</strong></p><div class="table-contents"><table class="table" summary="疑似データ型" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>型名</th><th>説明</th></tr></thead><tbody><tr><td><code class="type">any</code></td><td>関数がどのような入力データ型でも受け入れることを示します。</td></tr><tr><td><code class="type">anyelement</code></td><td>関数がどのような入力データ型でも受け入れることを示します(<a class="xref" href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" title="37.2.5. 多様型">Section 37.2.5</a>を参照)。</td></tr><tr><td><code class="type">anyarray</code></td><td>関数がどのような配列データ型でも受け入れることを示します（<a class="xref" href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" title="37.2.5. 多様型">Section 37.2.5</a>を参照してください）。</td></tr><tr><td><code class="type">anynonarray</code></td><td>関数がどのような非配列データ型でも受け入れることを示します（<a class="xref" href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" title="37.2.5. 多様型">Section 37.2.5</a>を参照してください）。</td></tr><tr><td><code class="type">anyenum</code></td><td>関数が何らかの列挙データ型を受け付けることを示します（<a class="xref" href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" title="37.2.5. 多様型">Section 37.2.5</a>および<a class="xref" href="datatype-enum.html" title="8.7. 列挙型">Section 8.7</a>を参照してください）。</td></tr><tr><td><code class="type">anyrange</code></td><td>関数が範囲データ型を受け付けることを示します(<a class="xref" href="extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" title="37.2.5. 多様型">Section 37.2.5</a> と <a class="xref" href="rangetypes.html" title="8.17. 範囲型">Section 8.17</a>を参照してください)。</td></tr><tr><td><code class="type">cstring</code></td><td>関数がヌル終端のC文字列を受け入れる、もしくは返すことを示します。</td></tr><tr><td><code class="type">internal</code></td><td>関数がサーバ内部用データ型を受け入れる、もしくは返すことを示します。
        </td></tr><tr><td><code class="type">language_handler</code></td><td>手続き言語呼び出しハンドラは<code class="type">language_handler</code>を返すものとして宣言されます。
        </td></tr><tr><td><code class="type">fdw_handler</code></td><td>外部データラッパハンドラは<code class="type">fdw_handler</code>を返すものとして宣言されます。
       </td></tr><tr><td><code class="type">index_am_handler</code></td><td>インデックスアクセスメソッドのハンドラは <code class="type">index_am_handler</code>を返すものとして宣言されます。</td></tr><tr><td><code class="type">tsm_handler</code></td><td>テーブルサンプリング方式のハンドラは<code class="type">tsm_handler</code>を返すものとして宣言されます。</td></tr><tr><td><code class="type">record</code></td><td>未指定の行型の引数を取る、あるいは返す関数を指定します。</td></tr><tr><td><code class="type">trigger</code></td><td>トリガ関数は<code class="type">trigger</code>を返すものとして宣言されます。
        </td></tr><tr><td><code class="type">event_trigger</code></td><td>イベントトリガ関数は<code class="type">event_trigger</code>を返すものとして宣言されます。</td></tr><tr><td><code class="type">pg_ddl_command</code></td><td>イベントトリガが使用できるDDLコマンドの表現を指定します。</td></tr><tr><td><code class="type">void</code></td><td>関数が値を返さないことを示します。
        </td></tr><tr><td><code class="type">unknown</code></td><td>未解決の型を特定します。例えば、修飾されていない文字列リテラルのような型です。</td></tr><tr><td><code class="type">opaque</code></td><td>過去に上記の目的の多数を果たしていた使われなくなったデータ型の名前です。
        </td></tr></tbody></table></div></div><br class="table-break" /><p>C言語で作成された関数（それが組み込みか動的にロードされるかに関係なく）は、これらの疑似データ型のどれでも受け入れたり返したりするように宣言することができます。
引数型として疑似データ型が使用されても関数が安全に機能するように、関数の作成時に気を付ける必要があります。
   </p><p>手続き型言語で作成された関数では、実装する言語によって許可された疑似データ型のみを使用できます。
現在、ほとんどの手続き型言語では疑似データ型を引数型として使用することが原則として禁止されており、結果型としての<code class="type">void</code>と<code class="type">record</code>（および関数がトリガまたはイベントトリガとして使用される場合の<code class="type">trigger</code>または<code class="type">event_trigger</code>）のみが許可されています。
また、<code class="type">anyelement</code>、<code class="type">anyarray</code>、<code class="type">anynonarray</code>、<code class="type">anyenum</code>および<code class="type">anyrange</code>型を使用する多様性関数をサポートするものもあります。
   </p><p><code class="type">internal</code>疑似データ型は、データベースシステムによって内部的にのみ呼び出される関数を宣言する場合に使用され、<acronym class="acronym">SQL</acronym>問い合わせでの直接呼び出しには使用できません。
関数に少なくとも1つの<code class="type">internal</code>型の引数があると、これを<acronym class="acronym">SQL</acronym>から呼び出すことはできません。
この制限の影響からデータ型の安全性を保持するためには、次のコーディング規則に従うことが重要です。
<code class="type">internal</code>引数が少なくとも1つある場合を除き、<code class="type">internal</code>を返すと宣言される関数を作成すべきではありません。
   </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="datatype-pg-lsn.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="datatype.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="functions.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.19. <acronym class="acronym">pg_lsn 型</acronym> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 9. 関数と演算子</td></tr></table></div></body></html>