<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.6. 権限</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="ddl-alter.html" title="5.5. テーブルの変更" /><link rel="next" href="ddl-rowsecurity.html" title="5.7. 行セキュリティポリシー" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">5.6. 権限</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ddl-alter.html" title="5.5. テーブルの変更">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="ddl.html" title="Chapter 5. データ定義">Up</a></td><th width="60%" align="center">Chapter 5. データ定義</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="ddl-rowsecurity.html" title="5.7. 行セキュリティポリシー">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DDL-PRIV"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.6. 権限</h2></div></div></div><a id="id-1.5.4.8.2" class="indexterm"></a><a id="id-1.5.4.8.3" class="indexterm"></a><a id="id-1.5.4.8.4" class="indexterm"></a><a id="id-1.5.4.8.5" class="indexterm"></a><a id="id-1.5.4.8.6" class="indexterm"></a><p>オブジェクトが作成されると、所有者が割り当てられます。通常、所有者は作成する文を実行したロールです。ほとんどの種類のオブジェクトについて、初期状態では所有者(またはスーパーユーザ)だけがそのオブジェクトを使用できます。
他のユーザがこのオブジェクトを使用するには、<em class="firstterm">権限</em>が付与されていなければなりません。
  </p><p>権限にはいくつかの種類があります。
すなわち<code class="literal">SELECT</code>、 <code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">TRUNCATE</code>、<code class="literal">REFERENCES</code>、<code class="literal">TRIGGER</code>、<code class="literal">CREATE</code>、<code class="literal">CONNECT</code>、<code class="literal">TEMPORARY</code>、 <code class="literal">EXECUTE</code>、<code class="literal">USAGE</code>です。
特定のオブジェクトに適用可能な権限は、オブジェクトの型（テーブル、関数など）により変わります。
<span class="productname">PostgreSQL</span>がサポートする様々な権限の詳細については<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>リファレンスページを参照してください。
以降の節および章でもこれらの権限の使用方法についての説明があります。
  </p><p>オブジェクトの変更や削除の権限は常に所有者のみに与えられるものです。
  </p><p><a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>のような適切な種類の<code class="command">ALTER</code>コマンドにより、あるオブジェクトに新しい所有者を割り当てることができます。スーパーユーザはいつでも所有者を変更できます。通常のロールは、対象オブジェクトの現在の所有者(または所有者ロールのメンバー)であり、かつ新しい所有者ロールのメンバーである場合に限り、所有者を変更できます。
  </p><p>権限を割り当てるには、<code class="command">GRANT</code>コマンドを使用します。
例えば、<code class="literal">joe</code>という既存のロールと<code class="literal">accounts</code>という既存のテーブルがある場合、このテーブルを更新する権限を付与するには以下のようにします。
</p><pre class="programlisting">GRANT UPDATE ON accounts TO joe;</pre><p>
特定の権限名を指定する代わりに<code class="literal">ALL</code>を指定すると、その種類のオブジェクトに関連する全ての権限が付与されます。
  </p><p>システム内の全てのロールに権限を付与するには、特別な<span class="quote">“<span class="quote">ロール</span>”</span>名である<code class="literal">PUBLIC</code>を使用することができます。
また、<span class="quote">“<span class="quote">グループ</span>”</span>ロールを使用すれば、データベース内に多くのユーザが存在する場合に権限の管理が簡単になります。
詳細は<a class="xref" href="user-manag.html" title="Chapter 21. データベースロール">Chapter 21</a>を参照してください。
  </p><p>権限を取り消す(revoke)には、それに相応しい名前の<code class="command">REVOKE</code>コマンドを使用します。
</p><pre class="programlisting">REVOKE ALL ON accounts FROM PUBLIC;</pre><p>
オブジェクト所有者の特別の権限（<code class="command">DROP</code>、<code class="command">GRANT</code>、<code class="command">REVOKE</code>を行う権限など）は、所有者であることを前提とした権限なので、付与したり取り消したりすることはできません。
しかしオブジェクト所有者は、テーブルを他のユーザ同様に自分自身に対しても読み取り専用にしたい時などに、自分の通常の権限を取り消すことができます。
  </p><p>普通はオブジェクトの所有者（またはスーパーユーザ）だけが、オブジェクトにおける権限の付与や剥奪ができます。
しかし<span class="quote">“<span class="quote">with grant option</span>”</span>を付けることで、権限を与えられたユーザが、所有者と同様に他のユーザに権限を付与することが可能になります。
もし後になってグラントオプションが剥奪されると、剥奪されたユーザから（直接もしくは権限付与の連鎖により）権限を与えられていたユーザはすべて、その権限が剥奪されます。
詳細は、<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>と<a class="xref" href="sql-revoke.html" title="REVOKE"><span class="refentrytitle">REVOKE</span></a>を参照してください。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ddl-alter.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ddl.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ddl-rowsecurity.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.5. テーブルの変更 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5.7. 行セキュリティポリシー</td></tr></table></div></body></html>