<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>51.85. pg_settings</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="view-pg-sequences.html" title="51.84. pg_sequences" /><link rel="next" href="view-pg-shadow.html" title="51.86. pg_shadow" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">51.85. <code xmlns="http://www.w3.org/1999/xhtml" class="structname">pg_settings</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-sequences.html" title="51.84. pg_sequences">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="Chapter 51. システムカタログ">Up</a></td><th width="60%" align="center">Chapter 51. システムカタログ</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="view-pg-shadow.html" title="51.86. pg_shadow">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="VIEW-PG-SETTINGS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">51.85. <code class="structname">pg_settings</code></h2></div></div></div><a id="id-1.10.4.87.2" class="indexterm"></a><p><code class="structname">pg_settings</code>ビューはサーバの実行時パラメータへのアクセスを提供します。
基本的に<a class="xref" href="sql-show.html" title="SHOW"><span class="refentrytitle">SHOW</span></a>と<a class="xref" href="sql-set.html" title="SET"><span class="refentrytitle">SET</span></a>コマンドの代わりとなるインタフェースです。
同時に最大・最小値などのように<code class="command">SHOW</code>コマンドでは直接入手できないそれぞれのパラメータのいくつかの実状にアクセスする機能を提供します。
  </p><div class="table" id="id-1.10.4.87.4"><p class="title"><strong>Table 51.86. <code class="structname">pg_settings</code>の列</strong></p><div class="table-contents"><table class="table" summary="pg_settingsの列" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>型</th><th>説明</th></tr></thead><tbody><tr><td><code class="structfield">name</code></td><td><code class="type">text</code></td><td>実行時設定パラメータ名</td></tr><tr><td><code class="structfield">setting</code></td><td><code class="type">text</code></td><td>パラメータの現在値</td></tr><tr><td><code class="structfield">unit</code></td><td><code class="type">text</code></td><td>暗黙的なパラメータの単位</td></tr><tr><td><code class="structfield">category</code></td><td><code class="type">text</code></td><td>パラメータの論理グループ</td></tr><tr><td><code class="structfield">short_desc</code></td><td><code class="type">text</code></td><td>パラメータの簡潔な説明</td></tr><tr><td><code class="structfield">extra_desc</code></td><td><code class="type">text</code></td><td>追加で、より詳細なパラメータについての説明</td></tr><tr><td><code class="structfield">context</code></td><td><code class="type">text</code></td><td>パラメータ値を設定するために必要な文脈（後述）</td></tr><tr><td><code class="structfield">vartype</code></td><td><code class="type">text</code></td><td>パラメータの型（<code class="literal">bool</code>、<code class="literal">enum</code>、<code class="literal">integer</code>、<code class="literal">real</code>もしくは<code class="literal">string</code>）
      </td></tr><tr><td><code class="structfield">source</code></td><td><code class="type">text</code></td><td>現在のパラメータ値のソース</td></tr><tr><td><code class="structfield">min_val</code></td><td><code class="type">text</code></td><td>容認されている最小のパラメータ値（数値でない場合はNULL）</td></tr><tr><td><code class="structfield">max_val</code></td><td><code class="type">text</code></td><td>容認されている最大のパラメータ値（数値でない場合はNULL）</td></tr><tr><td><code class="structfield">enumvals</code></td><td><code class="type">text[]</code></td><td>許可された列挙パラメータの値(列挙型ではない場合はNULL)</td></tr><tr><td><code class="structfield">boot_val</code></td><td><code class="type">text</code></td><td>パラメータが設定されていなかったとした場合に仮定されるサーバ起動時のパラメータ値</td></tr><tr><td><code class="structfield">reset_val</code></td><td><code class="type">text</code></td><td>現状のセッションにおいて<code class="command">RESET</code>によって戻されるパラメータの値</td></tr><tr><td><code class="structfield">sourcefile</code></td><td><code class="type">text</code></td><td>現状の値が設定されている設定ファイル(設定ファイル以外のソースから設定された値の場合、スーパーユーザでも<code class="literal">pg_read_all_settings</code>のメンバーでもないユーザから検査された時はNULLです)。
設定ファイル内で<code class="literal">include</code>指示子を使用する時に役に立ちます。</td></tr><tr><td><code class="structfield">sourceline</code></td><td><code class="type">integer</code></td><td>現状の値が設定されている設定ファイル内の行番号(設定ファイル以外のソースから設定された値の場合、スーパーユーザでも<code class="literal">pg_read_all_settings</code>のメンバーでもないユーザから検査された時はNULLです。)
      </td></tr><tr><td><code class="structfield">pending_restart</code></td><td><code class="type">boolean</code></td><td>値が設定ファイル内で変更されたが再起動が必要という場合は<code class="literal">true</code>、それ以外の場合は<code class="literal">false</code>。
      </td></tr></tbody></table></div></div><br class="table-break" /><p><code class="structfield">context</code>が取り得る値は複数あります。
この設定の変更の困難さを軽くするために、以下に示します。
  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">internal</code></span></dt><dd><p>これらの設定は直接変更できません。
これらは内部で決定された値を反映するものです。
一部は異なる設定オプションでサーバを再構築する、または、<code class="command">initdb</code>に与えるオプションを変更することで調整することができます。
     </p></dd><dt><span class="term"><code class="literal">postmaster</code></span></dt><dd><p>これらの設定はサーバ起動時にのみ適用することができます。
このため何かを変更するためにはサーバを再起動しなければなりません。
これらの設定用の値は通常<code class="filename">postgresql.conf</code>ファイル内に格納されている、あるいは、サーバを起動する際のコマンドラインから渡されます。
当然ながら、より低い種類の<code class="structfield">context</code>を持つ設定もサーバ起動時に設定することができます。
     </p></dd><dt><span class="term"><code class="literal">sighup</code></span></dt><dd><p>これらの設定は、サーバを再起動することなく<code class="filename">postgresql.conf</code>内を変更することで行うことができます。
<code class="filename">postgresql.conf</code>を再度読み込み、変更を適用させるためには、postmasterに<span class="systemitem">SIGHUP</span>シグナルを送信してください。
すべての子プロセスが新しい値を選択するように、postmasterは同時に子プロセスに<span class="systemitem">SIGHUP</span>シグナルを転送します。
     </p></dd><dt><span class="term"><code class="literal">superuser-backend</code></span></dt><dd><p>これらの設定は、サーバを再起動することなく<code class="filename">postgresql.conf</code>内を変更することで行うことができます。
また、接続要求パケットの中で特定のセッション向けに設定することもできます（例えば<span class="application">libpq</span>の<code class="literal">PGOPTIONS</code>環境変数）が、これは接続ユーザがスーパーユーザの場合に限られます。
しかし、これらの設定はセッションが開始してから、そのセッションの中で変更することはできません。
<code class="filename">postgresql.conf</code>内でそれらを変更した場合は、<code class="filename">postgresql.conf</code>を再度読み込ませるために、postmasterに<span class="systemitem">SIGHUP</span>シグナルを送信してください。
新しい値はその後で始まったセッションにのみ影響を与えます。
     </p></dd><dt><span class="term"><code class="literal">backend</code></span></dt><dd><p>これらの設定は、サーバを再起動することなく<code class="filename">postgresql.conf</code>内を変更することで行うことができます。
また、接続要求パケットの中で特定のセッション向けに設定することもできます（例えば<span class="application">libpq</span>の<code class="literal">PGOPTIONS</code>環境変数）。
どのユーザでも、自分のセッション向けにそのような変更をすることができます。
しかし、これらの設定はセッションが開始してから、そのセッションの中で変更することはできません。
<code class="filename">postgresql.conf</code>内でそれらを変更した場合は、<code class="filename">postgresql.conf</code>を再度読み込ませるために、postmasterに<span class="systemitem">SIGHUP</span>シグナルを送信してください。
新しい値はその後で始まったセッションにのみ影響を与えます。
     </p></dd><dt><span class="term"><code class="literal">superuser</code></span></dt><dd><p>これらの設定は<code class="filename">postgresql.conf</code>、または、セッションの中で<code class="command">SET</code>コマンドを使用することで設定することができます。
しかし<code class="command">SET</code>経由で変更できるのはスーパーユーザのみです。
<code class="filename">postgresql.conf</code>内の変更は、セッション独自の値が<code class="command">SET</code>で設定されていない場合にのみ、既存のセッションに影響を与えます。
     </p></dd><dt><span class="term"><code class="literal">user</code></span></dt><dd><p>これらの設定は<code class="filename">postgresql.conf</code>、または、セッションの中で<code class="command">SET</code>コマンドを使用することで設定することができます。
任意のユーザが自身のセッション独自の値を変更することが許されています。
<code class="filename">postgresql.conf</code>内の変更は、セッション独自の値が<code class="command">SET</code>で設定されていない場合にのみ、既存のセッションに影響を与えます。
     </p></dd></dl></div><p>これらのパラメータを変更する各種方法に関する情報については<a class="xref" href="config-setting.html" title="19.1. パラメータの設定">Section 19.1</a>を参照してください。
  </p><p><code class="structname">pg_settings</code>ビューには挿入も削除もできませんが、更新することは可能です。
<code class="structname">pg_settings</code>行に適用される<code class="command">UPDATE</code>は名前付きのパラメータに対して<a class="xref" href="sql-set.html" title="SET"><span class="refentrytitle">SET</span></a>コマンドを実行することと同値です。
変更は現在のセッションで使用されている値にのみ有効です。
もしも後に中止されるトランザクション内で<code class="command">UPDATE</code>が発行されると、トランザクションがロールバックされた時点で<code class="command">UPDATE</code>コマンドは効力を失います。
排他制御中のトランザクションがひとたびコミットされると、その効果は他の<code class="command">UPDATE</code>もしくは<code class="command">SET</code>コマンドで上書きされない限りセッションの完了まで保たれます。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-sequences.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-shadow.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">51.84. <code class="structname">pg_sequences</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 51.86. <code class="structname">pg_shadow</code></td></tr></table></div></body></html>