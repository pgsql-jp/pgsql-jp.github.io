<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.151. リリース9.0</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-0-1.html" title="E.150. リリース9.0.1" /><link rel="next" href="release-8-4-22.html" title="E.152. リリース8.4.22" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.151. リリース9.0</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-0-1.html" title="E.150. リリース9.0.1">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix E. リリースノート">Up</a></td><th width="60%" align="center">Appendix E. リリースノート</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-4-22.html" title="E.152. リリース8.4.22">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-9-0"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.151. リリース9.0</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-9-0.html#id-1.11.6.155.3">E.151.1. 概要</a></span></dt><dt><span class="sect2"><a href="release-9-0.html#id-1.11.6.155.4">E.151.2. バージョン9.0への移行</a></span></dt><dt><span class="sect2"><a href="release-9-0.html#id-1.11.6.155.5">E.151.3. 変更点</a></span></dt></dl></div><p><strong>リリース日: </strong>2010-09-20</p><div class="sect2" id="id-1.11.6.155.3"><div class="titlepage"><div><div><h3 class="title">E.151.1. 概要</h3></div></div></div><p>このリリースの<span class="productname">PostgreSQL</span>で数年に渡り要望があった、簡単に利用できるレプリケーション、一括権限管理機能、匿名ブロックといった機能を追加しました。
これまでのメジャーリリースではその範囲は保守的なものでしたが、このリリースでは、これまで<span class="productname">PostgreSQL</span>を使用してきたユーザや新しく使い始めるユーザが喜ぶ機能を提供できることに大胆かつ新しい期待を持っています。
これはすべて非互換性がほぼないようになされました。
主な改良点を以下に示します。
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>組み込みのログシッピングによるレプリケーション。
この進歩は次の2つの機能から構成されます。
ストリーミングレプリケーションにより、継続的なアーカイブ(<acronym class="acronym">WAL</acronym>)ファイルをスタンバイサーバに対してネットワーク上にストリーミングさせることができます。
ホットスタンバイにより、継続的アーカイブを行うスタンバイデータベースサーバは読み取り専用の問い合わせを受け付けることができます。
これらを合わせた結果、シングルマスタと複数の読み取り専用のスレーブサーバをサポートします。
     </p></li><li class="listitem"><p>より簡単なデータベースオブジェクトの権限管理。
<a class="link" href="sql-grant.html" title="GRANT"><code class="command">GRANT</code>/<code class="command">REVOKE IN SCHEMA</code></a>は既存のオブジェクトに対するは一括権限変更をサポートし、そして、<a class="link" href="sql-alterdefaultprivileges.html" title="ALTER DEFAULT PRIVILEGES"><code class="command">ALTER DEFAULT PRIVILEGES</code></a>は将来作成されるオブジェクトの権限を制御します。
ラージオブジェクト（BLOB）も同様に権限管理をサポートするようになりました。
     </p></li><li class="listitem"><p>ストアドプロシージャサポートの大きな改良。
<a class="link" href="sql-do.html" title="DO"><code class="command">DO</code></a>文により、その場限り、または、<span class="quote">“<span class="quote">匿名</span>”</span>のコードブロックをサポートします。
関数は名前付きパラメータを使用して呼び出すことができるようになりました。
<a class="link" href="plpgsql.html" title="Chapter 42. PL/pgSQL - SQL手続き言語">PL/pgSQL</a>はデフォルトでインストールされるようになり、また、<a class="link" href="plperl.html" title="Chapter 44. PL/Perl - Perl手続き言語">PL/Perl</a>および<a class="link" href="plpython.html" title="Chapter 45. PL/Python - Python手続き言語">PL/Python</a>は、Python3のサポートを含む多くの点で改良されました。
     </p></li><li class="listitem"><p><a class="link" href="install-windows.html" title="Chapter 17. Windowsにおけるソースコードからのインストール">64ビット<span class="productname">Windows</span></a>を完全にサポートします。
     </p></li><li class="listitem"><p>追加されたウィンドウ処理オプション（<code class="literal">PRECEDING</code>と<code class="literal">FOLLOWING</code>）と集約関数に渡される値の順序を制御する機能による、より先端的な報告問い合わせ。
     </p></li><li class="listitem"><p>SQL互換の<a class="link" href="sql-createtrigger.html" title="CREATE TRIGGER">列単位のトリガ</a>と条件付きのトリガ実行など、新しいトリガ機能。
     </p></li><li class="listitem"><p><a class="link" href="sql-createtable.html#SQL-CREATETABLE-COMPATIBILITY" title="互換性">遅延可能な一意性制約</a>。工夫することなく一意キーの大量更新ができるようになります。
     </p></li><li class="listitem"><p><a class="link" href="ddl-constraints.html#DDL-CONSTRAINTS-EXCLUSION" title="5.3.6. 排他制約">排他制約</a>。
これらは、複雑な条件を強制させることができる、汎用的な一意性制約を提供します。
     </p></li><li class="listitem"><p>新しく高度なセキュリティ機能。
RADIUS認証、LDAP認証の改良、パスワード強度を検査する新しい<a class="link" href="passwordcheck.html" title="F.24. passwordcheck"><code class="filename">passwordcheck</code></a>オプションモジュールなどがあります。
     </p></li><li class="listitem"><p>新しい高性能な<a class="link" href="sql-listen.html" title="LISTEN"><code class="command">LISTEN</code></a>/<a class="link" href="sql-notify.html" title="NOTIFY"><code class="command">NOTIFY</code></a>機能の実装。
待ち状態のイベントがテーブルではなく、メモリベースのキューに格納されるようになりました。
また、以前のようにイベント名だけを送信するのではなく、<span class="quote">“<span class="quote">ペイロード</span>”</span>文字列を各イベントといっしょに送信できるようになりました。
     </p></li><li class="listitem"><p>新しい<a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM FULL</code></a>の実装。
このコマンドは、容量を抑えるために行を一行一行移動するのではなく、テーブルおよびインデックス全体を書き換えるようになりました。
ほとんどの状況でかなり高速になり、また、インデックスが膨張することがなくなりました。
     </p></li><li class="listitem"><p>8.3または8.4から9.0へのその場での更新をサポートする<a class="link" href="pgupgrade.html" title="pg_upgrade"><code class="filename">pg_upgrade</code></a>を追加しました。
     </p></li><li class="listitem"><p>不要な結合を除去するなど、特定の種類の問い合わせに対する複数の性能向上。
オブジェクト/リレーションマッパ(ORM)で生成されるなどの自動生成される問い合わせの一部を最適化する際に役に立ちます。
     </p></li><li class="listitem"><p><a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN</code></a>の改良。
この出力がJSON、XML、YAML形式で利用可能になりました。
これまでは利用できなかったバッファ使用状況などその他のデータが含まれるようになりました。
     </p></li><li class="listitem"><p>新しい関数やより多くのデータ能力など、<a class="link" href="hstore.html" title="F.17. hstore"><code class="filename">hstore</code></a>の改良。
     </p></li></ul></div><p>上述の項目については、以下でより詳しく説明します。
   </p></div><div class="sect2" id="id-1.11.6.155.4"><div class="titlepage"><div><div><h3 class="title">E.151.2. バージョン9.0への移行</h3></div></div></div><p>全ての以前のリリースからデータの移行を行うためには、<span class="application">pg_dump</span>を使用したダンプ/リストア、または、<span class="application">pg_upgrade</span>の使用が必要です。
  </p><p>バージョン9.0には、新機能のサポートおよびコード品質の向上のために、後方互換性を一部壊してしまう多くの変更が含まれます。
具体的にはPL/pgSQL、ポイントインタイムリカバリ（PITR）およびウォームスタンバイを多く使用しているユーザは、これらにユーザに影響する変更が多くありますので、自身のアプリケーションを試験しなければなりません。
以下の非互換性に注意してください。
  </p><div class="sect3" id="id-1.11.6.155.4.4"><div class="titlepage"><div><div><h4 class="title">E.151.2.1. サーバの設定</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">add_missing_from</code>サーバパラメータがなくなりました。
これは長い間デフォルトで無効でした。(Tom Lane)
     </p></li><li class="listitem"><p><code class="varname">regex_flavor</code>サーバパラメータがなくなりました。
これは長い間デフォルトで<a class="link" href="functions-matching.html#POSIX-SYNTAX-DETAILS" title="9.7.3.1. 正規表現の詳細"><code class="literal">advanced</code></a>でした。(Tom Lane)
     </p></li><li class="listitem"><p><a class="link" href="runtime-config-wal.html#GUC-ARCHIVE-MODE"><code class="varname">archive_mode</code></a>は<a class="link" href="runtime-config-wal.html#GUC-ARCHIVE-COMMAND"><code class="varname">archive_command</code></a>のみに影響するようになりました。
新しい<a class="link" href="runtime-config-wal.html#GUC-WAL-LEVEL"><code class="varname">wal_level</code></a>設定は先行書き込みログの内容に影響を与えます。
     </p></li><li class="listitem"><p><a class="link" href="runtime-config-logging.html#GUC-LOG-TEMP-FILES"><code class="varname">log_temp_files</code></a>がデフォルトのファイルサイズの単位としてキロバイトを使用するようになりました。(Robert Haas)
     </p></li></ul></div></div><div class="sect3" id="id-1.11.6.155.4.5"><div class="titlepage"><div><div><h4 class="title">E.151.2.2. 問い合わせ</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="ddl-inherit.html" title="5.9. 継承">親テーブル</a>を問い合わせる場合、問い合わせの一部としてスキャンされる子テーブルに対する異なる権限検査がまったく行われません。(Peter Eisentraut)
    </p><p>標準SQLではこの挙動を規定しています。
また、実際の所、親と同様に子それぞれに権限を検査するという以前の振舞いよりも非常に便利です。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.155.4.6"><div class="titlepage"><div><div><h4 class="title">E.151.2.3. データ型</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="datatype-binary.html" title="8.4. バイナリ列データ型"><code class="type">bytea</code></a>の出力はデフォルトで16進数書式になりました。(Peter Eisentraut)
     </p><p>互換性が必要ならば<a class="link" href="runtime-config-client.html#GUC-BYTEA-OUTPUT"><code class="varname">bytea_output</code></a>サーバパラメータを使用して伝統的な出力書式を選択することができます。
     </p></li><li class="listitem"><p>配列入力において通常のASCII空白文字のみを無視可能なものとみなすようになりました。
一部のロケールに従うと空白文字になるものであっても、ASCII文字以外を無視することはありません。
     </p><p>これは、配列の値がサーバのロケール設定に依存して異なった解釈をされる場合の一部の境界問題を防止します。
     </p></li><li class="listitem"><p><a class="link" href="functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP" title="9.7.2. SIMILAR TO正規表現"><code class="literal">SIMILAR TO</code></a>パターンとSQL形式の<code class="function">substring()</code>パターンの標準互換性を高めました。(Tom Lane)
    </p><p>これには、パターンのメタ文字としての<code class="literal">?</code>および<code class="literal">{...}</code>の扱いが含まれます。
これらの文字は以前は単なるリテラル文字でしたが、SQL:2008で追加された新しい機能に対応しました。
また<code class="literal">^</code>および<code class="literal">$</code>は単なるリテラル文字として扱われるようになりました。
これまでは、パターンがSQL規則ではなくPOSIXに従うかのようにメタ文字として扱われていました。
また、標準SQLの<code class="function">substring()</code>では入れ子のための括弧が部分文字列の取得に影響を与えることがなくなりました。
同時に大括弧式(文字クラス)の処理の標準に対する互換性が高まりました。
    </p></li><li class="listitem"><p>標準SQLに従い、<a class="link" href="functions-string.html#FUNCTIONS-STRING-SQL" title="Table 9.8. SQL文字列関数と演算子"><code class="function">substring()</code></a>の第3パラメータでは負の長さ値を拒絶します。(Tom Lane)
    </p></li><li class="listitem"><p><code class="function">date_trunc</code>を秒の端数に対する精度を減らす時に四捨五入するのではなく切り捨てるようにしました。(Tom Lane)
    </p><p>整数を基にした日付時刻では常にこのようにこのコードは動作していました。
浮動小数点を基にした日付時刻も同様に動作するようになりました。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.155.4.7"><div class="titlepage"><div><div><h4 class="title">E.151.2.4. オブジェクトの改名</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>子テーブルが複数の関連がない親から同じ列を継承する場合、<code class="command">RENAME</code>中の列名の一貫性をより厳しく強制します。(KaiGai Kohei)
     </p></li><li class="listitem"><p>背後にあるテーブル列が改名された場合にインデックス名とインデックス列名は自動的に改名されなくなりました。(Tom Lane)
     </p><p>管理者はまだこうしたインデックスや列を手作業で改名することができます。
この変更は、改名後も一意性インデックスが正しく認識されるように、JDBCドライバとおそらく他のドライバの更新を要求します。
     </p></li><li class="listitem"><p><code class="command">CREATE OR REPLACE FUNCTION</code>で宣言された関数パラメータの名前を変更できなくなりました。(Pavel Stehule)
     </p><p> 
名前付きパラメータ呼び出しにおけるあいまい性を防ぐために、既存関数の宣言における入力変数に対する別名を変更できないようになりました。
（しかし過去に名前を付けていないパラメータには名前を割り当てることができます。）
これを行うためには関数を<code class="command">DROP</code>し再作成しなければなりません。
     </p></li></ul></div></div><div class="sect3" id="id-1.11.6.155.4.8"><div class="titlepage"><div><div><h4 class="title">E.151.2.5. PL/pgSQL</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>変数名が問い合わせで使用される列名と競合する場合にPL/pgSQLはエラーを発生するようになりました。(Tom Lane)
     </p><p>これまでの動作は問い合わせの列名より優先してあいまいな名前をPL/pgSQL変数にバインドすることでした。
これはよく驚くほどの誤動作をもたらしていました。
エラーを発生させることにより、曖昧な状況を簡単に検知できるようになります。
こうしたエラーを発生させる関数を修正し、競合を解消させることを推奨しますが、<a class="link" href="plpgsql-implementation.html#PLPGSQL-VAR-SUBST" title="42.10.1. 変数置換"><code class="varname">plpgsql.variable_conflict</code></a>サーバ変数または関数毎の<code class="literal">#variable_conflict</code>オプションにより従来の動作に戻すことができます。
     </p></li><li class="listitem"><p>PL/pgSQLは特定のSQL予約語と一致する変数名を許さなくなりました。(Tom Lane)
     </p><p>これはPL/pgSQLのパーサをよりコアのSQLパーサに近づけるように調整した結果です。
必要ならば、変数名を二重引用符でくくることでこの制限を回避することができます。
     </p></li><li class="listitem"><p>PL/pgSQLは、基本型と同様に想定する型修飾子と一致する複合型結果の列を必要とするようになりました。(Pavel Stehule、Tom Lane)
     </p><p>例えば、結果の列の型が<code class="literal">NUMERIC(30,2)</code>と宣言されていた場合、その列に多少異なる精度の<code class="literal">NUMERIC</code>を返すことを受け付けなくなりました。
これまでのバージョンでは修飾子の検査は省略され、その結果、実際には宣言された制限に従わない結果行が許されていました。
     </p></li><li class="listitem"><p>PL/pgSQLが複合型のフィールドへの選択をより一貫性を持って扱うようになりました。(Tom Lane)
     </p><p>これまでは、<code class="literal">SELECT ... INTO <em class="replaceable"><code>rec</code></em>.<em class="replaceable"><code>fld</code></em> FROM ...</code>のような文は<em class="replaceable"><code>fld</code></em>レコードフィールドが複合型であったとしてもスカラの代入として扱われました。
これが、<code class="literal">INTO</code>の対象が通常の複合型の変数であった場合と同様に、レコードの代入として扱われるようになりました。
このため、このフィールドのサブフィールドに代入される値は、これまでのバージョンにおける<code class="literal">ROW(...)</code>式ではなく、<code class="command">SELECT</code>リストの別々の列として記述されなければなりません。
     </p><p>9.0と過去のリリースの両方で動作する方法で行う必要があれば、<code class="literal"><em class="replaceable"><code>rec</code></em>.<em class="replaceable"><code>fld</code></em> := ROW(...) FROM ...</code>のように記述することができます。
     </p></li><li class="listitem"><p>PL/pgSQLの<code class="literal">RENAME</code>宣言を削除しました。(Tom Lane)
     </p><p><code class="literal">RENAME</code>の代わりに<a class="link" href="plpgsql-declarations.html#PLPGSQL-DECLARATION-ALIAS" title="42.3.2. ALIAS"><code class="literal">ALIAS</code></a>を使用してください。
これは、以前のような（例えば<code class="literal">$1</code>のような）ドル記号付きの変数だけではなく任意の変数に別名を作成することができるようになります。
     </p></li></ul></div></div><div class="sect3" id="id-1.11.6.155.4.9"><div class="titlepage"><div><div><h4 class="title">E.151.2.6. その他の非互換性</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>演算子名としての<code class="literal">=&gt;</code>を使用を廃止する予定です。(Robert Haas)
     </p><p>名前付きパラメータに関する標準SQL記法をサポートするために、将来のバージョンの<span class="productname">PostgreSQL</span>ではおそらくこの演算子名を完全に拒絶します。
現時点ではまだ許されますが、このような演算子が定義された場合に警告が現れます。
     </p></li><li class="listitem"><p>64ビット整数データ型が動作しないプラットフォームのサポートを取りやめました。(Tom Lane)
     </p><p>まだサポートされているプラットフォームはすべて64ビット整数データ型が動作するはずです。
     </p></li></ul></div></div></div><div class="sect2" id="id-1.11.6.155.5"><div class="titlepage"><div><div><h3 class="title">E.151.3. 変更点</h3></div></div></div><p>バージョン9.0には予期しないほど多くの主要機能が追加され、また、増強、改良、新しいコマンド、新しい関数、その他の変更が200以上あります。
   </p><div class="sect3" id="id-1.11.6.155.5.3"><div class="titlepage"><div><div><h4 class="title">E.151.3.1. サーバ</h4></div></div></div><div class="sect4" id="id-1.11.6.155.5.3.2"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.1. 継続的アーカイブ処理とストリーミングレプリケーション</h5></div></div></div><p>PostgreSQLに存在するスタンバイサーバ機能は、スタンバイサーバにおいて読み取り専用の問い合わせをサポートすること、および、マスタサーバとスタンバイサーバとの間の遅延を大きく削減することができるように拡張されました。
多くのユーザにとって、これは有用かつ、高可用性、スケールアウト性を目的としたレプリケーションを構成する管理作業を低減します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>スタンバイサーバで読み取り専用の問い合わせを受け付けることができます。(Simon Riggs、Heikki Linnakangas)
      </p><p>この機能はホットスタンバイと呼ばれます。
この機能を制御するための新しい設定が<code class="filename">postgresql.conf</code>と<code class="filename">recovery.conf</code>にあります。
さらに広大な<a class="link" href="hot-standby.html" title="26.5. ホットスタンバイ">文書</a>も存在します。
      </p></li><li class="listitem"><p>先行書き込みログ(<acronym class="acronym">WAL</acronym>)データをスタンバイサーバに流し込むことができます。(Fujii Masao、Heikki Linnakangas)
      </p><p>これはストリーミングレプリケーションと呼ばれます。
これまで<acronym class="acronym">WAL</acronym>データは<acronym class="acronym">WAL</acronym>ファイル全体（通常それぞれ16メガバイト）を単位としてのみスタンバイサーバに送付することができました。
ストリーミングレプリケーションはこの非効率性を減らし、マスタの変更をほとんど遅延なくスタンバイサーバに伝播できるようになります。
この機能を制御するための新しい設定が<code class="filename">postgresql.conf</code>と<code class="filename">recovery.conf</code>にあります。
さらに広範囲の<a class="link" href="warm-standby.html#STREAMING-REPLICATION" title="26.2.5. ストリーミングレプリケーション">文書</a>も存在します。
      </p></li><li class="listitem"><p>スタンバイサーバの<acronym class="acronym">WAL</acronym>状況の監視に使用することができる、<a class="link" href="functions-admin.html#FUNCTIONS-RECOVERY-INFO-TABLE" title="Table 9.80. リカバリ情報関数"><code class="function">pg_last_xlog_receive_location()</code></a>および<code class="function">pg_last_xlog_replay_location()</code>を追加しました。(Simon Riggs, Fujii Masao, Heikki Linnakangas)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.2. 性能</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-altertablespace.html" title="ALTER TABLESPACE"><code class="command">ALTER TABLESPACE ... SET/RESET</code></a>を使用して、テーブル空間単位の値をシーケンシャルおよびランダムページコスト推定（<code class="varname">seq_page_cost</code>/<code class="varname">random_page_cost</code>）に設定できます。(Robert Haas)
      </p></li><li class="listitem"><p>結合問い合わせにおけるEvalPlanQual再検査の性能と信頼性を改善しました。(Tom Lane)
      </p><p>最近更新された行に対する、結合を含む<code class="command">UPDATE</code>、<code class="command">DELETE</code>および<code class="command">SELECT FOR UPDATE/SHARE</code>問い合わせが非常によく動作するようになりました。
      </p></li><li class="listitem"><p>同じトランザクションにおいてテーブル生成またはテーブルデータの消去が以前に行われていた場合の、<a class="link" href="sql-truncate.html" title="TRUNCATE"><code class="command">TRUNCATE</code></a>の性能を改良しました。(Tom Lane)
      </p></li><li class="listitem"><p>継承された子テーブルの検索性能を改良しました。(Tom Lane)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.3. オプティマイザ</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>不要な<a class="link" href="queries-table-expressions.html#QUERIES-JOIN" title="7.2.1.1. 結合テーブル">外部結合</a>を除きました。(Robert Haas)
      </p><p>内側が一意かつ結合の上位で参照されない場合の外部結合は不要ですので、削除されるようになりました。
これは、オブジェクト/リレーションマッパ（ORM）で作成される問い合わせなど、多くの自動生成される問い合わせを高速化します。
      </p></li><li class="listitem"><p><code class="literal">IS NOT NULL</code>制限でインデックスを使用できます。(Tom Lane)
      </p><p>これは特に、インデックス内に多くのNULL値を含む場合の<code class="function">MAX()</code>/<code class="function">MIN()</code>値の検索に有用です。
      </p></li><li class="listitem"><p>いつマテリアライズされたノードを使用するか、および、<code class="literal">DISTINCT</code>についてソート処理を使用するかハッシュ処理を使用するか、に関するオプティマイザの選択を改良しました。(Tom Lane)
      </p></li><li class="listitem"><p><code class="type">boolean</code> <code class="literal">&lt;&gt;</code>演算子を含む式におけるオプティマイザの等価検知を改良しました。(Tom Lane)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.4. <a class="link" href="geqo.html" title="Chapter 59. 遺伝的問い合わせ最適化">GEQO</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>GEQOが問い合わせ計画を作成する時毎回、同じランダムシードを使用します。(Andres Freund)
      </p><p>遺伝的問い合わせオプティマイザ(GEQO)は無作為な計画を選択し続けますが、同一の問い合わせに対して同じ無作為な計画を選択するようになりました。
これにより一貫した性能が得られます。
他の計画を試すために<a class="link" href="runtime-config-query.html#GUC-GEQO-SEED"><code class="varname">geqo_seed</code></a>を変更することができます。
      </p></li><li class="listitem"><p>GEQOの計画選択を改良しました。(Tom Lane)
      </p><p>まれに発生する<span class="quote">“<span class="quote">failed to make a valid plan</span>”</span>エラーを防止します。
また計画作成速度も改良されたはずです。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.6"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.5. オプティマイザの統計情報</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>継承ツリー統計情報をサポートする<a class="link" href="sql-analyze.html" title="ANALYZE"><code class="command">ANALYZE</code></a>を改良しました。(Tom Lane)
      </p><p>具体的にはこれはパーティション分けされたテーブルで有用です。
しかし子テーブルが変更された時に、自動バキュームはまだ自動的に親テーブルを再解析しません。
      </p></li><li class="listitem"><p>再解析が必要か否かに関する<a class="link" href="routine-vacuuming.html" title="24.1. 定常的なバキューム作業">autovacuum</a>の判定を改良しました。(Tom Lane)
      </p></li><li class="listitem"><p>より大きい/より小さいの比較についてオプティマイザの推定を改良しました。(Tom Lane)
      </p><p>より大きい/より小さいの比較についての統計情報を検索する時、比較用の値がヒストグラムバケットの先頭または末尾にあれば、現在の列の最小と最大を得るために（利用可能であれば）インデックスを使用します。
これは
データ範囲の終端に近い比較値に対する推定精度を、特に新しいデータの追加によりデータ範囲が定常的に変更する場合に、大きく改善します。
      </p></li><li class="listitem"><p><a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE</code></a>を使用することで、個別値の個数に関する統計情報の設定が可能です。(Robert Haas)
      </p><p>これにより、列の個別値の数もしくは割合をユーザが上書きすることができます。
この統計情報は通常<code class="command">ANALYZE</code>で計算されますが、特に非常に多くの行があるテーブルでは推定値が悪化することがあり得ます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.7"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.6. 認証</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="auth-methods.html#AUTH-RADIUS" title="20.3.8. RADIUS認証"><acronym class="acronym">RADIUS</acronym></a> (リモート認証ダイヤルインユーザサービス)認証サポートを追加しました。(Magnus Hagander)
      </p></li><li class="listitem"><p><a class="link" href="auth-methods.html#AUTH-LDAP" title="20.3.7. LDAP認証"><acronym class="acronym">LDAP</acronym></a>(軽量ディレクトリアクセスプロトコル)認証において<span class="quote">“<span class="quote">search/bind</span>”</span>モードで操作できます。(Robert Fleming、Magnus Hagander)
      </p><p>これにより、まずユーザを検索し、その後にそのユーザ用に返される<acronym class="acronym">DN</acronym>(識別名)をシステムが使用することができるようになります。
      </p></li><li class="listitem"><p><a class="link" href="auth-pg-hba-conf.html" title="20.1. pg_hba.confファイル"><code class="literal">samehost</code></a>および<code class="literal">samenet</code>指定を<code class="filename">pg_hba.conf</code>に追加しました。(Stef Walter)
      </p><p>これらはそれぞれサーバの<acronym class="acronym">IP</acronym>およびサブネットアドレスに一致します。
      </p></li><li class="listitem"><p>クライアントが適切なクライアント証明書を返すことができるように、クライアントに信頼できるSSLルート証明書の名前を渡します。(Craig Ringer)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.8"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.7. 監視</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>クライアントが<code class="structname">pg_stat_activity</code>で表示される、<a class="link" href="libpq-connect.html#LIBPQ-CONNECT-APPLICATION-NAME">アプリケーション名</a>を設定できる機能を追加しました。(Dave Page)
      </p><p>これにより管理者は元となるアプリケーションによってデータベースの流量を特徴付けし、また、問題への対応を行うことができます。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-logging.html#GUC-LOG-LINE-PREFIX"><code class="varname">log_line_prefix</code></a>にSQLSTATEオプション(<code class="literal">%e</code>)を追加しました。(Guillaume Smet)
      </p><p>これによりユーザはエラーコード番号によりエラーとメッセージに関する統計情報を収集することができます。
      </p></li><li class="listitem"><p><acronym class="acronym">UTF16</acronym>符号化方式でWindowsのイベントログに書き出します。(Itagaki Takahiro)
      </p><p>これでWindowsのPostgreSQLのログメッセージに対する多言語サポートが実現しました。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.9"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.8. 統計情報カウンタ</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>クラスタ全体で共有するバックグラウンドライタの統計情報をリセットするための<a class="link" href="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE" title="Table 28.19. その他の統計情報関数"><code class="function">pg_stat_reset_shared('bgwriter')</code></a>を追加しました。(Greg Smith)
      </p></li><li class="listitem"><p>個々のテーブルおよび関数用の統計情報カウンタのリセットを可能とする<a class="link" href="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE" title="Table 28.19. その他の統計情報関数"><code class="function">pg_stat_reset_single_table_counters()</code></a>および<code class="function">pg_stat_reset_single_function_counters()</code>を追加しました。(Magnus Hagander)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.3.10"><div class="titlepage"><div><div><h5 class="title">E.151.3.1.9. サーバ設定</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-alterrole.html" title="ALTER ROLE">データベースまたはロールの組み合わせ</a>に基づく設定パラメータを設定することができます。(Alvaro Herrera)
      </p><p>これまではデータベース単位およびロール単位の設定のみが可能で、組み合わせることができませんでした。
すべてのロールおよびデータベースの設定が新しい<code class="structname">pg_db_role_setting</code>システムカタログに格納されるようになりました。
新しい<span class="application">psql</span>の<code class="literal">\drds</code>コマンドはこれらの設定を表示します。
古い<code class="structname">pg_roles</code>、<code class="structname">pg_shadow</code>および<code class="structname">pg_user</code>システムビューでは組み合わせた情報を表示しません。
このためこれらはユーザまたはデータベース用の設定を完全に表さなくなりました。
      </p></li><li class="listitem"><p><a class="link" href="runtime-config-connection.html#GUC-BONJOUR"><code class="varname">bonjour</code></a>サーバパラメータを追加しました。
これはBonjourが有効なサーバが自身を<span class="productname">Bonjour</span>経由で広告するかどうかを制御します。(Tom Lane)
      </p><p>デフォルトは無効で、広告を行わないことを意味します。
これによりパッケージ作成者は個々のユーザがこの機能を欲しないかどうか気にすることなく、Bonjourを有効として構築したものを配布することができます。
      </p></li><li class="listitem"><p>オプティマイザ内でノードマテリアライゼーションの使用を制御する、<a class="link" href="runtime-config-query.html#GUC-ENABLE-MATERIAL"><code class="varname">enable_material</code></a>サーバパラメータを追加しました。(Robert Haas)
      </p><p>デフォルトは有効です。
無効の場合、オプティマイザは純粋に性能上の理由のためにマテリアライズされたノードを追加しません。
ですが正確性のために必要な場合は使用されます。
      </p></li><li class="listitem"><p>デフォルトのファイルサイズの単位としてキロバイトを使用するように<a class="link" href="runtime-config-logging.html#GUC-LOG-TEMP-FILES"><code class="varname">log_temp_files</code></a>サーバパラメータを変更しました。(Robert Haas)
      </p><p>これまでは単位指定がない場合、この設定はバイト単位として解釈されました。
      </p></li><li class="listitem"><p><code class="filename">postgresql.conf</code>が再読み込みされた場合、パラメータ値の変更記録が残ります。(Peter Eisentraut)
      </p><p>これにより管理者およびセキュリティ担当者はデータベースが変更された時点を監査することができるようになります。
また<code class="filename">postgresql.conf</code>の変更が反映されたかどうか検査することもでき、非常に便利です。
      </p></li><li class="listitem"><p>独自のサーバパラメータに対して、適切にスーパーユーザ権限を強制します。(Tom Lane)
      </p><p>スーパーユーザ以外のユーザが、その時にサーバが認識していないパラメータに対する<code class="command">ALTER ROLE</code>/<code class="command">DATABASE SET</code>を発行することができなくなりました。
これによりサーバは、スーパーユーザのみのパラメータがスーパーユーザのみにより設定されることを正しく検査することができます。
これまではセッション開始時に<code class="literal">SET</code>は受け付けられますが、無視されていました。
このためスーパーユーザのみの独自パラメータが本来の有用性を持っていませんでした。
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.4"><div class="titlepage"><div><div><h4 class="title">E.151.3.2. 問い合わせ</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>返される行数を常に予測できるように、<code class="literal">LIMIT</code>の適用後に<a class="link" href="sql-select.html#SQL-FOR-UPDATE-SHARE" title="ロック処理句"><code class="command">SELECT FOR UPDATE</code>/<code class="literal">SHARE</code></a>処理を行います。(Tom Lane)
     </p><p>これまでは、同時実行のトランザクションによりなされた変更により、<code class="command">SELECT FOR UPDATE</code>がその<code class="literal">LIMIT</code>で指定した行より少ない行が返ってしまうことが発生しました。
<code class="literal">ORDER BY</code>を付けた<code class="literal">FOR UPDATE</code>は今でも予想外の結果を生成することがあり得ますが、これは副問い合わせで<code class="literal">FOR UPDATE</code>を使用することで正しくすることができます。
     </p></li><li class="listitem"><p><a class="link" href="sql-select.html#SQL-LIMIT" title="LIMIT句"><code class="literal">LIMIT</code>/<code class="literal">OFFSET</code></a>構文に関して、伝統的な方法と標準SQLの方法を混在できるようにしました。(Tom Lane)
     </p></li><li class="listitem"><p><a class="link" href="sql-select.html#SQL-WINDOW" title="WINDOW句">ウィンドウ関数</a>でサポートされるフレームオプションを拡張しました。(Hitoshi Harada)
     </p><p>フレームは<code class="literal">CURRENT ROW</code>から始められるようになり、また、<code class="literal">ROWS n PRECEDING</code>/<code class="literal">FOLLOWING</code>オプションがサポートされるようになりました。
     </p></li><li class="listitem"><p><code class="command">SELECT INTO</code>および<code class="command">CREATE TABLE AS</code>はそのコマンドタグ内でクライアントに行数を返します。(Boszormenyi Zoltan)
     </p><p>これにより、追加の<code class="command">COUNT</code>問い合わせを行うことなく結果数やページ数を計算することができますので、クライアントとの往復作業を完全になくすことができます。
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.4.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.2.1. Unicode文字列</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Unicodeサロゲートペア(二重の16ビット表現)を<a class="link" href="sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-UESCAPE" title="4.1.2.3. Unicodeエスケープがある文字列定数"><code class="literal">U&amp;</code></a>文字列および識別子でサポートします。(Peter Eisentraut)
      </p></li><li class="listitem"><p><a class="link" href="sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-ESCAPE" title="4.1.2.2. C形式エスケープでの文字列定数"><code class="literal">E'...'</code></a>文字列内のUnicodeエスケープをサポートします。(Marko Kreen)
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.5"><div class="titlepage"><div><div><h4 class="title">E.151.3.3. オブジェクトの操作</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ディスクへの吐き出しを遅延させることにより<a class="link" href="sql-createdatabase.html" title="CREATE DATABASE"><code class="command">CREATE DATABASE</code></a>を高速化しました。(Andres Freund、Greg Stark)
     </p></li><li class="listitem"><p>テーブル、ビュー、複合型の列に対してのみに<a class="link" href="sql-comment.html" title="COMMENT">コメント</a>を許します。
インデックスや<acronym class="acronym">TOAST</acronym>テーブルのような他の種類のリレーションでは許されません。(Tom Lane)
     </p></li><li class="listitem"><p>値を持たない<a class="link" href="sql-createtype.html#SQL-CREATETYPE-ENUM" title="列挙型">列挙型</a>の作成が可能です。(Bruce Momjian)
     </p></li><li class="listitem"><p>行をページに合わせることができない場合を除き、<code class="literal">MAIN</code>格納型を持つ列の値を主ヒープページに保持させます。(Kevin Grittner)
     </p><p>これまでは、<code class="literal">MAIN</code>値は行の容量がページ容量の1/4になるまで、強制的に<acronym class="acronym">TOAST</acronym>テーブルとなりました。

     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.5.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.3.1. <code class="command">ALTER TABLE</code></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">DROP COLUMN</code>および<code class="literal">DROP CONSTRAINT </code>に<code class="literal">IF EXISTS</code>を実装しました。(Andres Freund)
      </p></li><li class="listitem"><p>テーブルを書き換える<code class="command">ALTER TABLE</code>コマンドで<acronym class="acronym">WAL</acronym>ロギングを飛ばすことができます。(Itagaki Takahiro)
      </p><p>こうした操作は新しいテーブルのコピーが作成されるかロールバックされるかのいずれかです。
このため継続的アーカイブモードで実行している場合を除き、<acronym class="acronym">WAL</acronym>アーカイブ処理を飛ばすことができます。
これによりI/Oオーバーヘッドが減少し、性能が向上します。
      </p></li><li class="listitem"><p>テーブル所有者以外により実行された時の<code class="literal">ALTER TABLE <em class="replaceable"><code>table</code></em> ADD COLUMN <em class="replaceable"><code>col</code></em> serial</code>の失敗を修正しました。(Tom Lane)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.5.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.3.2. <a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="command">CREATE TABLE</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="command">CREATE TABLE ... LIKE</code>コマンドにおいて、<code class="literal">COMMENTS</code>および<code class="literal">STORAGE</code>設定の複製サポートを追加しました。(Itagaki Takahiro)
      </p></li><li class="listitem"><p><code class="command">CREATE TABLE ... LIKE</code>コマンドに全属性コピーの省略形を追加しました。(Itagaki Takahiro)
      </p></li><li class="listitem"><p>標準SQLの<code class="literal">CREATE TABLE ... OF type</code>コマンドを追加しました。(Peter Eisentraut)
      </p><p>これにより、既存の複合型に一致するテーブルを作成することができます。
コマンド内で制約やデフォルトを追加で指定することができます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.5.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.3.3. 制約</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-createtable.html#SQL-CREATETABLE-COMPATIBILITY" title="互換性">遅延可能な一意性制約</a>を追加しました。(Dean Rasheed)
      </p><p>これにより、列が一意性インデックスを持つ場合でも主キーと印付けされている場合でも<code class="literal">UPDATE tab SET col = col + 1</code>などの大量更新が確実に動作できるようになります。
制約が<code class="literal">DEFERRABLE</code>であると指定されている場合、各行が更新された後ではなく、文の最後で検査されるようになります。
また制約検査を現在のトランザクションの最後まで遅延させ、複数のSQLコマンドをまたがって更新を行うこともできます。
      </p></li><li class="listitem"><p><a class="link" href="ddl-constraints.html#DDL-CONSTRAINTS-EXCLUSION" title="5.3.6. 排他制約">排他制約</a>を追加しました。(Jeff Davis)
      </p><p>排他制約は等価だけではなく任意の比較演算を許すことにより、一意性制約を汎用化します。
これは<a class="link" href="sql-createtable.html#SQL-CREATETABLE-EXCLUDE"><code class="command">CREATE TABLE CONSTRAINT ... EXCLUDE</code></a>句により作成されます。
排他制約のもっともよくある使用方法は、単に一致しないではなく、重複を許さない列項目を指定することです。
時間間隔やその他配列などの範囲に対して有用です。
この機能は、多くの予定帳、時間管理、科学アプリケーションにおけるデータ整合性検査を改良します。
      </p></li><li class="listitem"><p>失敗の原因となる値を報告する、一意性制約違反エラーメッセージを改良しました。(Itagaki Takahiro)
      </p><p>例えば、一意性制約違反では<code class="literal">Key (x)=(2) already exists</code>(キー(x)=(2)はすでに存在します)のように報告されます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.5.6"><div class="titlepage"><div><div><h5 class="title">E.151.3.3.4. オブジェクトの権限</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>新しい<a class="link" href="sql-grant.html" title="GRANT"><code class="command">GRANT</code>/<code class="command">REVOKE IN SCHEMA</code></a>句を使用してスキーマ全体にまたがった大量な権限変更を行う機能を追加しました。(Petr Jelinek)
      </p><p>オブジェクト権限管理を簡略化すると共に、アプリケーションのデータセキュリティのためにデータベースロールを使用することをより簡単にします。
      </p></li><li class="listitem"><p>今後作成されるオブジェクトの権限を制御するための<a class="link" href="sql-alterdefaultprivileges.html" title="ALTER DEFAULT PRIVILEGES"><code class="command">ALTER DEFAULT PRIVILEGES</code></a>を追加しました。(Petr Jelinek)
      </p><p>これは複雑なデータベースアプリケーションにおけるオブジェクト権限の割り当てを大きく簡略化します。
テーブル、ビュー、シーケンス、関数に対してデフォルトの権限を設定することができます。
デフォルトはスキーマ単位またはデータベース全体に対して割り当てることができます。

      </p></li><li class="listitem"><p><code class="command">GRANT</code>/<code class="command">REVOKE</code>によりラージオブジェクト（BLOB）の権限を制御する機能を追加しました。(KaiGai Kohei)
      </p><p>これまでは、すべてのデータベースユーザは任意のラージオブジェクトを読み取り、変更することができました。
読み取り権限、書き込み権限をラージオブジェクト毎に付与したり取り上げたりできるようになりました。
また、ラージオブジェクトの所有権も追跡されます。
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.6"><div class="titlepage"><div><div><h4 class="title">E.151.3.4. ユーティリティ操作</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-listen.html" title="LISTEN"><code class="command">LISTEN</code></a>/<a class="link" href="sql-notify.html" title="NOTIFY"><code class="command">NOTIFY</code></a>をシステムテーブルではなく、メモリキュー内に待ちイベントを格納するようにしました。(Joachim Wieland)
     </p><p>既存のトランザクションのサポートと配送保証機能を保ちつつ、これは性能を大きく改良しました。
     </p></li><li class="listitem"><p><a class="link" href="sql-notify.html" title="NOTIFY"><code class="command">NOTIFY</code></a>はリスナに省略可能な<span class="quote">“<span class="quote">ペイロード</span>”</span>文字列を渡すことができます。(Joachim Wieland)
     </p><p>これにより汎用目的のイベントキューシステムとしての<code class="command">LISTEN</code>/<code class="command">NOTIFY</code>の有用性を大きく改良します。
     </p></li><li class="listitem"><p>すべてのデータベース単位のシステムカタログに<a class="link" href="sql-cluster.html" title="CLUSTER"><code class="command">CLUSTER</code></a>を行うことができます。(Tom Lane)
     </p><p>共有カタログはまだクラスタ化できません。
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.6.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.4.1. <a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">COPY ... CSV FORCE QUOTE *</code>を受け付けます。(Itagaki Takahiro)
      </p><p><code class="literal">FORCE QUOTE</code>句において<code class="literal">*</code>が<span class="quote">“<span class="quote">すべての列</span>”</span>を表す省略形として使用できるようになりました。
      </p></li><li class="listitem"><p>オプションを括弧内で指定する新しい<code class="command">COPY</code>構文を追加しました。(Robert Haas、Emmanuel Cecchet)
      </p><p>これにより今後の<code class="command">COPY</code>オプションの柔軟性が改良されます。
過去に存在したオプションのためだけに、古い構文もまだサポートされます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.6.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.4.2. <a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="command">EXPLAIN</code>が<acronym class="acronym">XML</acronym>、<acronym class="acronym">JSON</acronym>、<acronym class="acronym">YAML</acronym>形式で出力することができます。(Robert Haas、Greg Sabino Mullane)
      </p><p>新しい出力形式はマシンによる可読性が簡単になり、<code class="command">EXPLAIN</code>出力の解析用の新しいツールの開発を補助します。
      </p></li><li class="listitem"><p><code class="command">EXPLAIN ANALYZE</code>時に問い合わせバッファの活動を報告する、新しい<code class="literal">BUFFERS</code>オプションを追加しました。(Itagaki Takahiro)
      </p><p>これにより個々の問い合わせに対してより良い問い合わせプロファイリングを行うことができます。
<a class="link" href="runtime-config-statistics.html#RUNTIME-CONFIG-STATISTICS-MONITOR" title="19.9.2. 統計情報の監視">log_statement_stats</a>と関連する設定の出力では、バッファ使用量は報告されなくなりました。
      </p></li><li class="listitem"><p><code class="command">EXPLAIN</code>の出力にハッシュ使用状況に関する情報を追加しました。(Robert Haas)
      </p></li><li class="listitem"><p>括弧内でオプションの指定を行うことができる、新しい<code class="command">EXPLAIN</code>構文を追加しました。(Robert Haas)
      </p><p>これにより将来の<code class="command">EXPLAIN</code>オプションに対する柔軟性が大きく高まりました。
過去に存在したオプションのためだけに、古い構文もまだサポートされます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.6.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.4.3. <a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>容量を抑えるために行を一行一行移動するのではなく、テーブル全体を書き換え、インデックスを再構築するように<code class="command">VACUUM FULL</code>を変更しました。(Itagaki Takahiro、Tom Lane)
      </p><p>これまでの方式では通常低速であり、インデックスの膨張を引き起こしました。
新しい方式では<code class="command">VACUUM FULL</code>実行時に一時的により多くのディスク領域を使用することに注意してください。
通常テーブルとインデックスにより占められる領域の２倍程度使用する可能性があります。
      </p></li><li class="listitem"><p>オプションを括弧内に指定することができる、新しい<code class="command">VACUUM</code>構文を追加しました。(Itagaki Takahiro)
      </p><p>これにより将来の<code class="command">VACUUM</code>オプションに対する柔軟性が大きく高まりました。
過去に存在したオプションのためだけに、古い構文もまだサポートされます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.6.6"><div class="titlepage"><div><div><h5 class="title">E.151.3.4.4. インデックス</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>においてインデックス名を省略した場合、インデックス名が自動的に付与できるようにしました。(Tom Lane)
      </p></li><li class="listitem"><p>デフォルトで、複数列に対するインデックスが対象列すべてにちなんだ名前が付けられるようになり、また、式インデックス列はその式にちなんだ名前が付けられるようになりました。
      </p></li><li class="listitem"><p>共有システムカタログのインデックス再作成が完全にトランザクションを守るようになり、かつ、クラッシュに対して安全になりました。(Tom Lane)
      </p><p>これまでは共有インデックスに対するインデックス再作成はスタンドアローンモードでのみ許されていました。
またこの操作中のクラッシュによりインデックスは操作前よりも悪化した状態になり得ました。
      </p></li><li class="listitem"><p><acronym class="acronym">GiST</acronym>に<code class="literal">point_ops</code>演算子クラスを追加しました。(Teodor Sigaev)
      </p><p>この機能により<code class="type">point</code>列に対する<acronym class="acronym">GiST</acronym>インデックス付けが可能です。
このインデックスは<em class="replaceable"><code>point</code></em> <code class="literal">&lt;@</code> <em class="replaceable"><code>polygon</code></em>（多角形内の点）などのいろいろな種類の問い合わせに使用することができます。
これにより多くの<span class="productname">PostGIS</span>問い合わせが高速になるはずです。
      </p></li><li class="listitem"><p><acronym class="acronym">GIN</acronym>インデックス生成において赤黒バイナリツリーを使用します。 (Teodor Sigaev)
      </p><p>赤黒ツリーは自身でバランスを保ちます。
これは入力順序がランダムではない場合に起こる低速化を防ぎます。
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.7"><div class="titlepage"><div><div><h4 class="title">E.151.3.5. データ型</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="datatype-binary.html" title="8.4. バイナリ列データ型"><code class="type">bytea</code></a>値を16進数記法で記述できます。(Peter Eisentraut)
     </p><p><a class="link" href="runtime-config-client.html#GUC-BYTEA-OUTPUT"><code class="varname">bytea_output</code></a>サーバパラメータは<code class="type">bytea</code>出力において16進数か伝統的な書式のどちらを使用するかを制御します。
libpqの<code class="function">PQescapeByteaConn()</code>関数は、<span class="productname">PostgreSQL</span> 9.0以降のサーバに接続する場合、自動的に16進数書式を使用します。
しかし9.0より前のバージョンのlibpqは新しいサーバからの16進数書式を正しく処理しません。
     </p><p>新しい16進数書式は、バイナリデータを使用するより多くのアプリケーションと直接的な互換性を持つことになり、余計な変換を行うことなく格納、抽出を行うことができるようになります。
また伝統的な書式よりもかなり高速に読み書きすることができます。
     </p></li><li class="listitem"><p><a class="link" href="runtime-config-client.html#GUC-EXTRA-FLOAT-DIGITS">extra_float_digits</a>サーバパラメータを<code class="literal">3</code>に増やすことができます。(Tom Lane)
     </p><p>これまでの最大の<code class="varname">extra_float_digits</code>は<code class="literal">2</code>でした。
<code class="type">float4</code>値を正確にダンプ/リストアするために3桁が必要な場合があります。
<span class="application">pg_dump</span>は、3桁を許すサーバからのダンプを行う時に3という設定を使用するようになります。
     </p></li><li class="listitem"><p><code class="type">int2vector</code>入力に対する入力検査を厳しくしました。(Caleb Welton)
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.7.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.5.1. <a class="link" href="textsearch.html" title="Chapter 12. 全文検索">全文検索</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">synonym</code>辞書において接頭辞サポートを追加しました。(Teodor Sigaev)
      </p></li><li class="listitem"><p><em class="firstterm">フィルタ処理</em>辞書を追加しました。(Teodor Sigaev)
      </p><p>フィルタ処理用辞書により、トークンを変更した後に後続の辞書に渡すことができます。
      </p></li><li class="listitem"><p>メールアドレストークンにおいてアンダースコアを認めます。(Teodor Sigaev)
      </p></li><li class="listitem"><p><acronym class="acronym">URL</acronym>トークンの解析処理においてより標準互換の規則を使用します。(Tom Lane)
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.8"><div class="titlepage"><div><div><h4 class="title">E.151.3.6. 関数</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>関数呼び出しにおいて、パラメータ名を提供し、それらを関数定義における名前付きパラメータに一致させることができます。(Pavel Stehule)
     </p><p>例えば、関数が<code class="literal">a</code>および<code class="literal">b</code>というパラメータを取るものと定義されている場合、その関数を<code class="literal">func(a := 7, b := 12)</code>や<code class="literal">func(b := 12, a := 7)</code>のように呼び出すことができます。
     </p></li><li class="listitem"><p><acronym class="acronym">UTF-8</acronym>サーバ符号化方式で処理する、ロケール固有<a class="link" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">正規表現</a>をサポートしました。(Tom Lane)
     </p><p>ロケール固有の正規表現機能には、大文字小文字を区別しない一致およびロケール固有の文字クラスが含まれます。
これまでは、これらの機能は（LATIN1など）シングルバイトサーバ符号化方式を使用している場合、<acronym class="acronym">ASCII</acronym>以外の文字でのみ正しく動作していました。
これらはまだ他の<acronym class="acronym">UTF-8</acronym>以外のマルチバイト符号化方式では適切ではありません。
     </p></li><li class="listitem"><p><a class="link" href="functions-formatting.html" title="9.8. データ型書式設定関数"><code class="function">to_char()</code></a>において科学技術表記法をサポートしました。
(<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-NUMERIC-TABLE" title="Table 9.26. 数値書式用のテンプレートパターン"><code class="literal">'EEEE'</code>規定</a>）(Pavel Stehule、Brendan Jurd)
     </p></li><li class="listitem"><p><code class="function">to_char()</code>が<code class="literal">Y</code>、<code class="literal">YY</code>および<code class="literal">YYY</code>指定において<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-DATETIMEMOD-TABLE" title="Table 9.25. 日付/時刻書式用のテンプレートパターン修飾子"><code class="literal">FM</code></a>(字詰めモード)を尊重するようにしました。(Bruce Momjian、Tom Lane)
     </p><p><code class="literal">YYYY</code>ではすでに尊重されていました。
     </p></li><li class="listitem"><p><span class="productname">Windows</span>において翻訳された数値および貨幣文字を正しい符号化方式で出力するように<code class="function">to_char()</code>を修正しました。(Hiroshi Inoue、Itagaki Takahir、Bruce Momjian)
     </p></li><li class="listitem"><p>多角形をまたがる<a class="link" href="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE" title="Table 9.33. 幾何データ演算子"><span class="quote">“<span class="quote">重複</span>”</span></a>および<span class="quote">“<span class="quote">含有</span>”</span>演算の計算を正しくしました。(Teodor Sigaev)
     </p><p>多角形の<code class="literal">&amp;&amp;</code>（重複）演算子はこれまで、２つの多角形の外接矩形が重複するかどうかのみを検査していました。
これがより正しく検査するようになりました。
多角形の<code class="literal">@&gt;</code>および<code class="literal">&lt;@</code>（含有する/含有される）演算子はこれまで、多角形の頂点がすべてもう片方に含まれているかどうかを検査していました。
これは一部の非凸多角形で間違って<span class="quote">“<span class="quote">真</span>”</span>を返す可能性がありました。
多角形のすべての線分がもう片方に含まれているかどうかを検査するようになりました。
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.8.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.6.1. 集約</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>集約関数で<a class="link" href="sql-expressions.html#SYNTAX-AGGREGATES" title="4.2.7. 集約式"><code class="literal">ORDER BY</code></a>を使用することができます。(Andrew Gierth)
      </p><p>例えば<code class="literal">array_agg(a ORDER BY b)</code>がサポートされるようになりました。
これは入力値の順序が重要な集約で有用であり、順序を決定するための非標準的な副問い合わせを使用する必要がなくなります。
      </p></li><li class="listitem"><p>複数引数を持つ集約関数が<code class="literal">DISTINCT</code>を使用できるようになりました。(Andrew Gierth)
      </p></li><li class="listitem"><p>値を単一の文字列にまとめる<a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE" title="Table 9.52. 汎用集約関数"><code class="function">string_agg()</code></a>集約関数を追加しました。(Pavel Stehule)
      </p></li><li class="listitem"><p>集約遷移関数が<code class="literal">STRICT</code>と印付けされていない場合、<code class="literal">DISTINCT</code>付きで呼び出される集約関数がNULL値を渡すようになりました。(Andrew Gierth)
      </p><p>例えば<code class="literal">agg(DISTINCT x)</code>はNULLという<code class="literal">x</code>値を<code class="function">agg()</code>に渡す可能性があります。
これは<code class="literal">DISTINCT</code>指定がない場合の動作との一貫性を高めます。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.8.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.6.2. ビット列</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="type">bit</code>列に対する<a class="link" href="functions-binarystring.html#FUNCTIONS-BINARYSTRING-OTHER" title="Table 9.12. その他のバイナリ文字列関数"><code class="function">get_bit()</code></a>および<code class="function">set_bit()</code>を追加しました。
これらは<code class="type">bytea</code>に対するものを射影したものです。(Leonardo F)
      </p></li><li class="listitem"><p><code class="type">bit</code>列および<code class="type">bytea</code>に対する<a class="link" href="functions-string.html#FUNCTIONS-STRING-SQL" title="Table 9.8. SQL文字列関数と演算子"><code class="function">OVERLAY()</code></a>を実装(置き換え)しました。(Leonardo F)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.8.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.6.3. オブジェクト情報関数</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="function">pg_relation_size()</code>関数よりもよりユーザ向けのインタフェースを提供する<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBSIZE" title="Table 9.84. データベースオブジェクト容量関数"><code class="function">pg_table_size()</code></a>および<code class="function">pg_indexes_size()</code>を追加しました。(Bernd Helmle)
      </p></li><li class="listitem"><p>シーケンスの権限検査のための<a class="link" href="functions-info.html#FUNCTIONS-INFO-ACCESS-TABLE" title="Table 9.61. アクセス権限照会関数"><code class="function">has_sequence_privilege()</code></a>を追加しました。(Abhijit Menon-Sen)
      </p></li><li class="listitem"><p><a class="link" href="information-schema.html" title="Chapter 36. 情報スキーマ">information_schema</a>ビューをSQL:2008に従うように更新しました。(Peter Eisentraut)
      </p></li><li class="listitem"><p><code class="literal">information_schema</code>ビューが<code class="type">char</code>および<code class="type">varchar</code>列の最大オクテット長を適切に表示するようにしました。(Peter Eisentraut)
      </p></li><li class="listitem"><p><code class="literal">information_schema</code>の権限ビューを高速化しました。(Joachim Wieland)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.8.6"><div class="titlepage"><div><div><h5 class="title">E.151.3.6.4. 関数およびトリガの作成</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-do.html" title="DO"><code class="command">DO</code></a>文を使用した匿名コードブロックの実行をサポートしました。(Petr Jelinek、Joshua Tolley、Hannu Valtonen)
      </p><p>これにより一時的な関数の作成と削除を行う必要なく、サーバサイドのコードを実行できるようになりました。
ユーザが関数を定義する権限を持つ、任意の言語でコードを実行することができます。
      </p></li><li class="listitem"><p>標準SQL互換の<a class="link" href="sql-createtrigger.html" title="CREATE TRIGGER">列単位のトリガ</a>を実装しました。(Itagaki Takahiro)
      </p><p>例えば<code class="command">UPDATE</code>の<code class="literal">SET</code>リスト内にあるなど、問い合わせにより指定された列が影響を受けた時にのみ、こうしたトリガは発行されます。
情報スキーマにもこうした情報が表示されるようになりました。
      </p></li><li class="listitem"><p>トリガの発行を行うか否かを制御できるように、<a class="link" href="sql-createtrigger.html" title="CREATE TRIGGER"><code class="command">CREATE TRIGGER</code></a>に<code class="literal">WHEN</code>句を追加しました。(Itagaki Takahiro)
      </p><p>トリガの中で同様の検査を常に行うことができますが、外部の<code class="literal">WHEN</code>句で検査を行う方が性能が上がります。
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.9"><div class="titlepage"><div><div><h4 class="title">E.151.3.7. サーバサイド言語</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="sql-createlanguage.html" title="CREATE LANGUAGE"><code class="command">CREATE LANGUAGE</code></a>に<code class="literal">OR REPLACE</code>句を追加しました。(Tom Lane)
     </p><p>これはまだ存在しない省略可能な言語をインストールする際に役に立ちます。
また、PL/pgSQLがデフォルトでインストールされるようになったことに部分的に役に立ちます。
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.9.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.7.1. <a class="link" href="plpgsql.html" title="Chapter 42. PL/pgSQL - SQL手続き言語">PL/pgSQL</a>サーバサイド言語</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>デフォルトでPL/pgSQLをインストールします。(Bruce Momjian)
      </p><p>この言語を利用可能とすることに関して、セキュリティや性能を問題とする管理者は、この言語を特定のデータベースから削除することができます。
      </p></li><li class="listitem"><p>関数内の問い合わせにおいて識別子と競合するPL/pgSQL変数名が使用される状況の取り扱いを改良しました。(Tom Lane)
      </p><p>デフォルトでは予想外の動作を防ぐために競合があるとエラーになるようになりました。
これは<a class="link" href="plpgsql-implementation.html#PLPGSQL-VAR-SUBST" title="42.10.1. 変数置換"><code class="varname">plpgsql.variable_conflict</code></a>設定パラメータや関数単位の<code class="literal">#variable_conflict</code>オプションを使用して、変数か問い合わせが提供する列を使用させるように、変更することができます。
どちらの場合でもPL/pgSQLは文法的に有効でないところで変数置換を行わないようになりました。
      </p></li><li class="listitem"><p>PL/pgSQLが独自版ではなく主レクサを使用するようにしました。(Tom Lane)
      </p><p>これにより確実に文字列のエスケープ処理など主システムの詳細な振舞いを正確に追従します。
PL/pgSQL内で予約されたとみなされるキーワード群など、ユーザから見える詳細も当然変更されました。
      </p></li><li class="listitem"><p>無効なレコード参照に対する不要なエラーを発生させないようにしました。(Tom Lane)
      </p><p>周りの式に達する度ではなく、参照が実際に取り出された時のみにエラーが発生するようになりました。
例えば、多くの方がトリガで以下を行おうとしています。
</p><pre class="programlisting">if TG_OP = 'INSERT' and NEW.col1 = ... then</pre><p>
これは想定通りに動作しなくなりました。
      </p></li><li class="listitem"><p>削除された列を持つ行型を扱うPL/pgSQLの機能を改良しました。(Pavel Stehule)
      </p></li><li class="listitem"><p>PL/pgSQL関数において入力パラメータを変数に代入することができます。(Steve Prentice)
      </p><p>これまでは、入力パラメータは<code class="literal">CONST</code>と宣言されたものと扱われていました。
このため関数のコードではこれらを変更することができませんでした。
同じ制限を持たせない他のDBMSからの関数移植を容易にするために、この制限は削除されました。
入力パラメータは渡された値で初期化された局所変数のように動作するようになりました。
      </p></li><li class="listitem"><p>PL/pgSQLにおいてエラー発生箇所の報告を改良しました。(Tom Lane)
      </p></li><li class="listitem"><p>PL/pgSQLの<code class="command">MOVE FORWARD</code>/<code class="literal">BACKWARD</code>に<em class="replaceable"><code>count</code></em>および<code class="literal">ALL</code>オプションを追加しました。(Pavel Stehule)
      </p></li><li class="listitem"><p>PL/pgSQLの<code class="literal">WHERE CURRENT OF</code>でカーソル変数を使用することができます。(Tom Lane)
      </p></li><li class="listitem"><p>PL/pgSQLの<code class="command">OPEN cursor FOR EXECUTE</code>はパラメータを使用できます。(Pavel Stehule、Itagaki Takahiro)
      </p><p>これは新しい<code class="literal">USING</code>句を用いて実現しました。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.9.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.7.2. <a class="link" href="plperl.html" title="Chapter 44. PL/Perl - Perl手続き言語">PL/Perl</a>サーバサイド言語</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>次のPL/Perl関数を新規に追加しました。
<a class="link" href="plperl-builtins.html#PLPERL-UTILITY-FUNCTIONS" title="44.3.2. PL/Perlのユーティリティ関数"><code class="function">quote_literal()</code></a>、<code class="function">quote_nullable()</code>、<code class="function">quote_ident()</code>、<code class="function">encode_bytea()</code>、<code class="function">decode_bytea()</code>、<code class="function">looks_like_number()</code>、<code class="function">encode_array_literal()</code>、<code class="function">encode_array_constructor()</code> (Tim Bunce)
      </p></li><li class="listitem"><p>PL/Perlの初期化関数を指定する、<a class="link" href="plperl-under-the-hood.html#GUC-PLPERL-ON-INIT"><code class="varname">plperl.on_init</code></a>サーバパラメータを追加しました。(Tim Bunce)
      </p><p>また<a class="link" href="plperl-under-the-hood.html#GUC-PLPERL-ON-PLPERL-INIT"><code class="varname">plperl.on_plperl_init</code></a>および<a class="link" href="plperl-under-the-hood.html#GUC-PLPERL-ON-PLPERL-INIT"><code class="varname">plperl.on_plperlu_init</code></a>を使用して、それぞれ信頼できる/信頼できない場合に特化した初期化を行うことができます。
      </p></li><li class="listitem"><p>PL/Perlにおいて<code class="command">END</code>ブロックをサポートします。(Tim Bunce)
      </p><p>現在<code class="command">END</code>ブロックではデータベースにアクセスすることはできません。
      </p></li><li class="listitem"><p>PL/Perlにおいて<code class="command">use strict</code>を使用できます。(Tim Bunce)
      </p><p>またPerlの<code class="literal">strict</code>検査は新しい<a class="link" href="plperl-under-the-hood.html#GUC-PLPERL-USE-STRICT"><code class="varname">plperl.use_strict</code></a>サーバパラメータで大域的に有効にすることができます。
      </p></li><li class="listitem"><p>PL/Perlにおいて<code class="command">require</code>を使用できます。(Tim Bunce)
      </p><p>これは基本的に、そのモジュールがロードされているかどうか確認することを試験します。
ロードされなければエラーとなります。
管理者が初期化パラメータを通して前もってロードしていないモジュールをロードすることはできません。
      </p></li><li class="listitem"><p>Perlバージョン5.10以降が使用されている場合、PL/Perlにおいて<code class="command">use feature</code>を使用できます。(Tim Bunce)
      </p></li><li class="listitem"><p>PL/Perlの戻り値がサーバ符号化方式において有効かどうかを検証します。(Andrew Dunstan)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.9.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.7.3. <a class="link" href="plpython.html" title="Chapter 45. PL/Python - Python手続き言語">PL/Python</a>サーバサイド言語</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>PL/PythonにUnicodeサポートを追加しました。(Peter Eisentraut)
      </p><p>文字列は必要に応じて、サーバ符号化方式から、サーバ符号化方式へ自動的に変換されます。
      </p></li><li class="listitem"><p>PL/Pythonの<code class="type">bytea</code>サポートを改良しました。(Caleb Welton)
      </p><p>PL/Pythonに渡される<code class="type">Bytea</code>値は、PostgreSQLの<code class="type">bytea</code>テキスト書式ではなく、バイナリとして表現されるようになりました。
またPL/Pythonからヌルバイトを含む<code class="type">Bytea</code>値が適切に出力されるようになりました。
PL/Pythonに渡す論理値、整数値、浮動小数点値も改良されました。
      </p></li><li class="listitem"><p>PL/Pythonにおいてパラメータおよび戻り値として<a class="link" href="plpython-data.html#PLPYTHON-ARRAYS" title="45.3.3. 配列、リスト">配列</a>がサポートされるようになりました。(Peter Eisentraut)
      </p></li><li class="listitem"><p>SQLドメインとPythonの型との対応付けを改良しました。(Peter Eisentraut)
      </p></li><li class="listitem"><p>PL/Pythonに<span class="application">Python</span> 3のサポートを追加しました。(Peter Eisentraut)
      </p><p>この新しいサーバサイド言語は<a class="link" href="plpython-python23.html" title="45.1. Python 2対Python 3"><code class="literal">plpython3u</code></a>と呼ばれます。
これは同じセッションで<span class="application">Python</span> 2サーバサイド言語と一緒に使用することはできません。
      </p></li><li class="listitem"><p>PL/Pythonにおけるエラー発生箇所および例外の報告を改良しました。(Peter Eisentraut)
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.10"><div class="titlepage"><div><div><h4 class="title">E.151.3.8. クライアントアプリケーション</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="app-vacuumdb.html" title="vacuumdb"><code class="command">vacuumdb</code></a>にバキュームを行わずに解析を行う<code class="option">--analyze-only</code>オプションを追加しました。(Bruce Momjian)
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.10.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.8.1. <a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SQL文字列や識別子と同様に<span class="application">psql</span>の<a class="link" href="app-psql.html#APP-PSQL-VARIABLES" title="変数">変数</a>の値の引用符付け処理とエスケープ処理のサポートを追加しました。(Pavel Stehule、Robert Haas)
      </p><p>例えば、<code class="literal">:'var'</code>は<code class="literal">var</code>の値を引用符付けしリテラル文字列としてエスケープされます。
一方、<code class="literal">:"var"</code>はその値を引用符付けしSQL識別子としてエスケープされます。
      </p></li><li class="listitem"><p><span class="application">psql</span>によって読み取られるスクリプトファイル内の先頭のUTF-8で符号化されたUnicodeバイトオーダ印を無視します。(Itagaki Takahiro)
      </p><p>これはクライアント符号化方式が<acronym class="acronym">UTF-8</acronym>の場合に有効です。
これは、大抵はWindowsですが、こうした印の挿入を要求する特定のエディタの互換性を改良します。
      </p></li><li class="listitem"><p><a class="link" href="app-psql.html#R1-APP-PSQL-3" title="オプション"><code class="option">--single-transaction</code></a>を適切に尊重するように<code class="command">psql --file -</code>を修正しました。(Bruce Momjian)
      </p></li><li class="listitem"><p>2つの<span class="application">psql</span>のセッションが同時に実行している場合に<span class="application">psql</span>のコマンドライン履歴の上書きを防止します。(Tom Lane)
      </p></li><li class="listitem"><p><span class="application">psql</span>のタブ補完サポートを改良しました。(Itagaki Takahiro)
      </p></li><li class="listitem"><p>有効な場合、<span class="quote">“<span class="quote">quiet</span>”</span>モードか否かに関係なく<code class="literal">\timing</code>出力を表示します。(Peter Eisentraut)
      </p></li></ul></div><div class="sect5" id="id-1.11.6.155.5.10.3.3"><div class="titlepage"><div><div><h6 class="title">E.151.3.8.1.1. <span class="application">psql</span>表示</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">psql</span>における改行を含む列の表示を改良しました。(Roger Leigh)
       </p><p>この動作がデフォルトになりました。
<code class="command">\pset linestyle old-ascii</code>を使用することで、これまでの書式を利用することができます。
       </p></li><li class="listitem"><p><span class="application">psql</span>で<code class="command">\pset linestyle unicode</code>を使用してUnicodeの装飾描画文字を使用できます。(Roger Leigh)
       </p></li></ul></div></div><div class="sect5" id="id-1.11.6.155.5.10.3.4"><div class="titlepage"><div><div><h6 class="title">E.151.3.8.1.2. <span class="application">psql</span> <a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="メタコマンド"><code class="command">\d</code></a>コマンド</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="command">\d</code>が指定された親テーブルから継承された子テーブルを表示するようにしました。(Damien Clochard)
       </p><p><code class="command">\d</code>では子テーブルの個数のみを表示し、<code class="command">\d+</code>はすべての子テーブルの名前を表示します。
       </p></li><li class="listitem"><p><code class="command">\d index_name</code>でインデックス列の定義を表示します。(Khee Chin)
       </p><p>この定義は式インデックスで有用です。
       </p></li><li class="listitem"><p><span class="application">psql</span>において、<code class="command">\d</code>ではなく<code class="command">\d+</code>のみでビューを定義した問い合わせを表示します。(Peter Eisentraut)
       </p><p>常に問い合わせを含めることはあまりにも冗長であると思われました。
       </p></li></ul></div></div></div><div class="sect4" id="id-1.11.6.155.5.10.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.8.2. <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">pg_dump</span>/<span class="application">pg_restore</span> <a class="link" href="app-pgdump.html#PG-DUMP-OPTIONS" title="オプション"><code class="option">--clean</code></a>が同時にラージオブジェクトを削除するようにしました。(Itagaki Takahiro)
      </p></li><li class="listitem"><p><code class="literal">standard_conforming_strings</code>が有効な場合に適切にラージオブジェクトをダンプするように<span class="application">pg_dump</span>を修正しました。(Tom Lane)
      </p><p>これまでのコードでは、アーカイブファイルにダンプし<span class="application">pg_restore</span>からスクリプト出力を生成する時に失敗しました。
      </p></li><li class="listitem"><p><span class="application">pg_restore</span>がスクリプト出力を生成する時に16進書式でラージオブジェクトを出力するようになりました。
      </p><p>スクリプトがその後9.0より前のサーバにロードされる場合に互換性に関する問題を引き起こすかもしれません。
これを回避するには代わりにサーバに直接リストアしてください。
      </p></li><li class="listitem"><p><span class="application">pg_dump</span>は複合型の列に割り当てられたコメントをダンプすることができます。(Taro Minowa (Higepon))
      </p></li><li class="listitem"><p><span class="application">pg_dump</span> <a class="link" href="app-pgdump.html#PG-DUMP-OPTIONS" title="オプション"><code class="option">--verbose</code></a>がテキスト出力モードにおいて<span class="application">pg_dump</span>とサーバのバージョンを出力するようにしました。(Jim Cox、Tom Lane)
      </p><p>これらはカスタム出力モードではすでに提供されていました。
      </p></li><li class="listitem"><p>スイッチと省略可能なファイル名の後にコマンドライン引数が残っていた場合に、<span class="application">pg_restore</span>が注意するようになりました。(Tom Lane)
      </p><p>これまではこうした引数すべては警告なく無視されました。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.10.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.8.3. <a class="link" href="app-pg-ctl.html" title="pg_ctl"><span class="application">pg_ctl</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ブート時に<span class="application">postmaster</span>を起動するために<span class="application">pg_ctl</span>を安全に使用することができます。(Tom Lane)
      </p><p>これまでは、無効な<span class="application">postmaster</span>ロックファイルに基づき、<span class="application">pg_ctl</span>親プロセスが間違って<span class="application">postmaster</span>が起動中であると認識することがありました。
その結果データベースを起動させる際に一時的な失敗が起こりました。
      </p></li><li class="listitem"><p><span class="application">pg_ctl</span>に(<span class="application">initdb</span>を呼び出す)データベースの初期化機能を付与しました。(Zdenek Kotala)
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.11"><div class="titlepage"><div><div><h4 class="title">E.151.3.9. <span class="application">開発ツール</span></h4></div></div></div><div class="sect4" id="id-1.11.6.155.5.11.2"><div class="titlepage"><div><div><h5 class="title">E.151.3.9.1. <a class="link" href="libpq.html" title="Chapter 33. libpq - C ライブラリ"><span class="application">libpq</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>新しい<span class="application">libpq</span>関数、<a class="link" href="libpq-connect.html" title="33.1. データベース接続制御関数"><code class="function">PQconnectdbParams()</code></a>および<code class="function">PQconnectStartParams()</code>を追加しました。(Guillaume Lelarge)
      </p><p>これらの関数は<code class="function">PQconnectdb()</code>と<code class="function">PQconnectStart()</code>と似たものですが、1つの文字列として必要とするすべてのオプションを提供するのではなく、接続オプションのヌル終端の配列を受け付けます。
      </p></li><li class="listitem"><p><span class="application">libpq</span>関数、<a class="link" href="libpq-exec.html#LIBPQ-EXEC-ESCAPE-STRING" title="33.3.4. SQLコマンドに含めるための文字列のエスケープ処理"><code class="function">PQescapeLiteral()</code></a>および<code class="function">PQescapeIdentifier()</code>を追加しました。(Robert Haas)
      </p><p>これらの関数は適切に引用符付け、およびエスケープされたSQLリテラル文字列および識別子を返します。
<code class="function">PQescapeStringConn()</code>では必要でしたが、呼び出し元で前もって文字列結果を割り当てておく必要はありません。
      </p></li><li class="listitem"><p>ユーザ単位のサービスファイル(<a class="link" href="libpq-pgservice.html" title="33.16. 接続サービスファイル"><code class="filename">.pg_service.conf</code></a>)のサポートを追加しました。
これはサイト全体のサービスファイルの前に検査されます。(Peter Eisentraut)
      </p></li><li class="listitem"><p>指定された<span class="application">libpq</span>サービスが見つからない場合に適切にエラーを報告します。(Peter Eisentraut)
      </p></li><li class="listitem"><p>libpqに<a class="link" href="libpq-connect.html#LIBPQ-KEEPALIVES">TCPキープアライブに関する設定</a>を追加しました。(Tollef Fog Heen、Fujii Masao、Robert Haas)
      </p><p>キープアライブに関する設定はTCP接続のサーバ側ではすでにサポートされていました。
      </p></li><li class="listitem"><p>代替方法があるプラットフォームでは、<span class="application">libpq</span>における<code class="literal">SIGPIPE</code>をブロックおよびブロック解除するための余計なシステムコールを防止します。(Jeremy Kerr)
      </p></li><li class="listitem"><p><a class="link" href="libpq-pgpass.html" title="33.15. パスワードファイル"><code class="filename">.pgpass</code></a>が提供するパスワードが失敗した場合、エラーメッセージにそのパスワードの源を記載します。(Bruce Momjian)
      </p></li><li class="listitem"><p>クライアント証明書ファイル内で与えられるすべてのSSL証明書をロードします。(Tom Lane)
      </p><p>これは間接的に署名されたSSLクライアント証明書のサポートを改良します。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.11.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.9.2. <a class="link" href="ecpg.html" title="Chapter 35. ECPG - C言語による埋め込みSQL"><span class="application">ecpg</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">ecpg</span>に<a class="link" href="ecpg-descriptors.html" title="35.7. 記述子領域の使用"><acronym class="acronym">SQLDA</acronym></a>(SQL記述子領域)サポートを追加しました。(Boszormenyi Zoltan)
      </p></li><li class="listitem"><p><span class="application">ecpg</span>に<a class="link" href="ecpg-descriptors.html" title="35.7. 記述子領域の使用"><code class="command">DESCRIBE</code> [<code class="literal">OUTPUT</code> ]</a>文を追加しました。(Boszormenyi Zoltan)
      </p></li><li class="listitem"><p>現在のトランザクション状態を返す<a class="link" href="ecpg-library.html" title="35.11. ライブラリ関数">ECPGtransactionStatus</a>を追加しました。(Bernd Helmle)
      </p></li><li class="listitem"><p><span class="application">ecpg</span>のInformix互換モードに<code class="literal">string</code>データ型を追加しました。(Boszormenyi Zoltan)
      </p></li><li class="listitem"><p><span class="application">ecpg</span>で<code class="literal">new</code>および<code class="literal">old</code>変数名を制限なく使用できます。(Michael Meskes)
      </p></li><li class="listitem"><p><span class="application">ecpg</span>において<code class="function">free()</code>内の変数を使用することができます。(Michael Meskes)
      </p></li><li class="listitem"><p>SQL3以外のデータ型に対して<code class="function">ecpg_dynamic_type()</code>がゼロを返すようにしました。(Michael Meskes)
      </p><p>これまではOIDデータ型の否定を返しました。
しかしこれは有効なOID型と混乱を招くことがありました。
      </p></li><li class="listitem"><p>64ビットの<code class="type">long</code>型をすでに持っていたプラットフォームにおいて<code class="type">long long</code>型をサポートします。(Michael Meskes)
      </p></li></ul></div><div class="sect5" id="id-1.11.6.155.5.11.3.3"><div class="titlepage"><div><div><h6 class="title">E.151.3.9.2.1. <span class="application">ecpg</span>のカーソル</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">ecpg</span>本来のモードにてスコープ外のカーソルサポートを追加しました。(Boszormenyi Zoltan)
       </p><p>これにより<code class="command">DECLARE</code>で<code class="command">OPEN</code>を呼び出した時にスコープ範囲外にある変数を使用することができます。
この機能はすでに<span class="application">ecpg</span>のInformix互換モードに存在していました。
       </p></li><li class="listitem"><p><span class="application">ecpg</span>において動的なカーソル名が可能です。(Boszormenyi Zoltan)
       </p></li><li class="listitem"><p><span class="application">ecpg</span>は <code class="command">FETCH</code>および<code class="command">MOVE</code>でノイズの単語<code class="literal">FROM</code>と<code class="literal">IN</code>を使用することができます。(Boszormenyi Zoltan)
       </p></li></ul></div></div></div></div><div class="sect3" id="id-1.11.6.155.5.12"><div class="titlepage"><div><div><h4 class="title">E.151.3.10. 構築オプション</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>デフォルトでクライアントスレッドセーフを有効にします。(Bruce Momjian)
     </p><p>スレッドセーフに関するオプションは<a class="link" href="install-procedure.html#CONFIGURE" title="構成"><code class="literal">configure</code></a>の<code class="option">--disable-thread-safety</code>により無効にすることができます。
     </p></li><li class="listitem"><p>Linuxのout-of-memory killerの制御のサポートを追加しました。(Alex Hunsaker、Tom Lane)
     </p><p><code class="filename">/proc/self/oom_adj</code>により<span class="productname">Linux</span>のout-of-memory（<acronym class="acronym">OOM</acronym>）killerを無効にすることができますが、
これはpostmasterに対するOOMによる停止を無効にする際に推奨されるものです。
postmasterの子プロセスに対するOOMによる停止を再度有効にすることが望まれることがあります。
新しい<a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linuxのメモリオーバーコミット"><code class="literal">LINUX_OOM_ADJ</code></a>コンパイルオプションにより子プロセスに対するkillerを再度有効にすることができます。
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.12.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.10.1. Makefile</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="install-procedure.html#BUILD" title="構築"><code class="literal">world</code></a>、<code class="literal">install-world</code>および<code class="literal">installcheck-world</code>という<code class="filename">Makefile</code>のターゲットを追加しました。(Andrew Dunstan)
      </p><p>これらは既存の<code class="literal">all</code>、<code class="literal">install</code>、<code class="literal">installcheck</code>と似ていますが、<acronym class="acronym">HTML</acronym>文書の構築、<code class="filename">contrib</code>の構築及び試験、サーバサイド言語と<span class="application">ecpg</span>の試験も行います。
      </p></li><li class="listitem"><p>データおよび文書のインストール場所の制御を<acronym class="acronym">PGXS</acronym> Makefileに追加しました。(Mark Cave-Ayland)
      </p></li><li class="listitem"><p>1つの<acronym class="acronym">HTML</acronym>ファイルもしくは1つのテキストファイルとして<span class="productname">PostgreSQL</span>文書を構築するMakefileのルールを追加しました。(Peter Eisentraut、Bruce Momjian)
     </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.12.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.10.2. Windows</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="install-windows.html" title="Chapter 17. Windowsにおけるソースコードからのインストール">64ビット<span class="productname">Windows</span></a>でのコンパイルと64ビットモードでの実行サポートを追加しました。(Tsutomu Yamada、Magnus Hagander)
      </p><p>これにより<span class="productname">Windows</span>上で大容量の共有メモリをとることができます。
      </p></li><li class="listitem"><p><a class="link" href="install-windows-full.html" title="17.1. Visual C++またはMicrosoft Windows SDKを使用した構築"><span class="productname">Visual Studio 2008</span></a>を使用してサーバを構築することをサポートします。(Magnus Hagander)
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.13"><div class="titlepage"><div><div><h4 class="title">E.151.3.11. ソースコード</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>配布用のtarballに含まれるtarアーカイブファイルとしてではなく、前もって構築された文書をサブディレクトリツリーに配備します。(Peter Eisentraut)
     </p><p>例えば、前もって構築された<acronym class="acronym">HTML</acronym>文書は<code class="filename">doc/src/sgml/html</code>に配備されます。
マニュアルページも同様にまとめられます。
     </p></li><li class="listitem"><p>サーバのレクサを再入可能にしました。(Tom Lane)
     </p><p>PL/pgSQLによるレクサの使用において必要でした。
     </p></li><li class="listitem"><p>メモリ割り当て速度を改良しました。(Tom Lane、Greg Stark)
     </p></li><li class="listitem"><p>ユーザ定義の制約トリガが<code class="structname">pg_trigger</code>同様に<code class="structname">pg_constraint</code>内に項目を持つようになりました。(Tom Lane)
     </p><p>この変更のため、<code class="structname">pg_constraint</code>.<code class="structfield">pgconstrname</code>が冗長になりましたので、削除されました。
     </p></li><li class="listitem"><p>制約の強制用のインデックスの使用をより良く提供するために<code class="structname">pg_constraint</code>.<code class="structfield">conindid</code>および<code class="structname">pg_trigger</code>.<code class="structfield">tgconstrindid</code>システムカタログ列を追加しました。(Tom Lane)
     </p></li><li class="listitem"><p>一つのオペレーティングシステムのシグナルを使用して、複数条件でバックエンドと通信できるようにしました。(Fujii Masao)
     </p><p>多くのシグナル条件にあるプラットフォーム固有の制約を持たずに、新しい機能を追加できるようになります。
     </p></li><li class="listitem"><p>ソースコード試験の適用範囲を改良し、<code class="filename">contrib</code>、PL/Python、PL/Perlを含むようになりました。(Peter Eisentraut、Andrew Dunstan)
     </p></li><li class="listitem"><p>システムテーブルの起動処理用のフラットファイルの使用を削除しました。(Tom Lane、Alvaro Herrera)
     </p><p>これは多くのロールとデータベースを使用する場合の性能を改良し、一部の失敗条件を取り除きます。
     </p></li><li class="listitem"><p><span class="quote">“<span class="quote">bootstrapped</span>”</span>カタログ用の<code class="structname">pg_attribute</code>の初期内容を自動的に生成します。(John Naylor)
     </p><p>これはこれらのカタログの変更を大きく簡略化します。
     </p></li><li class="listitem"><p><code class="filename">execMain.c</code>の外部に<code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE</code>操作処理を分けました。(Marko Tiikkaja)
     </p><p>更新が別のModifyTableノードで実行されるようになりました。
この変更は今後の改良のための基盤として必要とされます。
     </p></li><li class="listitem"><p><span class="application">psql</span>のSQLヘルプテキストの翻訳機能を簡易化しました。(Peter Eisentraut)
     </p></li><li class="listitem"><p>配布用tarball内のすべてファイルパスが100文字未満になるように一部のファイル名を短くしました。(Tom Lane)
     </p><p>一部の伸長プログラムで長いファイル名に関する問題があります。
     </p></li><li class="listitem"><p>新しい<a class="link" href="errcodes-appendix.html#ERRCODES-TABLE" title="Table A.1. PostgreSQLエラーコード"><code class="literal">ERRCODE_INVALID_PASSWORD</code></a> <code class="literal">SQLSTATE</code>エラーコードを追加しました。(Bruce Momjian)
     </p></li><li class="listitem"><p>作者の許可を得て、わずかに残っていた個人的なソースコード内の著作権注記を適切に削除しました。(Bruce Momjian)
     </p><p>個人的な著作権注記は無意味になりましたが、コミュニティはそれに対する問い合わせに時折回答しなければなりませんでした。
     </p></li><li class="listitem"><p><span class="productname">PostgreSQL</span>を永続性を持たせないモードで実行させる場合の性能向上に関する<a class="link" href="non-durability.html" title="14.5. 永続性がない設定">節</a>を文書に追加しました。(Bruce Momjian)
     </p></li><li class="listitem"><p>依存性検査を正しく動作させ、不要な再構築を防ぐように、<acronym class="acronym">HTML</acronym>文書構築用の<code class="filename">Makefile</code>ルールを再構成しました。(Peter Eisentraut)
     </p></li><li class="listitem"><p>マニュアルページを作成する際に<span class="productname">Docbook2X</span>ではなく<span class="productname">DocBook</span> <acronym class="acronym">XSL</acronym>を使用します。(Peter Eisentraut)
     </p><p>これはマニュアルページの構築に必要となるツール群を変更します。
     </p></li><li class="listitem"><p>PL/Perlのコード構成を改良しました。(Tim Bunce)
     </p></li><li class="listitem"><p>PL/Perlにおけるエラー文脈報告を改良しました。(Alexey Klyukin)
     </p></li></ul></div><div class="sect4" id="id-1.11.6.155.5.13.3"><div class="titlepage"><div><div><h5 class="title">E.151.3.11.1. 構築に関する新しい要求</h5></div></div></div><p>これらの要求が配布用のtarballから構築する場合には適用されないことに注意してください。
構築するために以下のプログラムが使用されたファイルがtarballには含まれているためです。
     </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">configure</span>を構築する場合に<span class="application">Autoconf</span> 2.63が必要です。(Peter Eisentraut)
      </p></li><li class="listitem"><p><acronym class="acronym">CVS</acronym>から取り出したソースから構築する場合に<span class="application">Flex</span> 2.5.31以降が必要です。(Tom Lane)
      </p></li><li class="listitem"><p><acronym class="acronym">CVS</acronym>から取り出したソースから構築するためには<span class="application">Perl</span>バージョン5.8以降が必要です。(John Naylor、Andrew Dunstan)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.13.4"><div class="titlepage"><div><div><h5 class="title">E.151.3.11.2. 移植性</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">Bonjour</span>に関してより近代的な<acronym class="acronym">API</acronym>を使用します。(Tom Lane)
      </p><p>Bonjourのサポートは<span class="productname">macOS</span> 10.3以降を必要とするようになりました。
より古いAPIはAppleにより廃止されました。
      </p></li><li class="listitem"><p><span class="productname">SuperH</span>アーキテクチャ用のスピンロックサポートが追加されました。(Nobuhiro Iwamatsu)
      </p></li><li class="listitem"><p><span class="application">GCC</span>以外のコンパイラがインライン関数をサポートする場合にそれを使用できるようにしました。(Kurt Harriman)
      </p></li><li class="listitem"><p>64ビット整数のデータ型が動作しないプラットフォームのサポートを削除しました。(Tom Lane)
      </p></li><li class="listitem"><p>プラットフォームを跨る一貫性を高めるために<code class="literal">LDFLAGS</code>の使用を再構成しました。(Tom Lane)
      </p><p><code class="literal">LDFLAGS</code>は実行形式ファイルと共有ライブラリの2つをリンクする場合に使用されるようになりました。
実行形式ファイルをリンクする場合の<code class="literal">LDFLAGS_EX</code>と共有ライブラリをリンクする場合の<code class="literal">LDFLAGS_SL</code>を追加しました。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.13.5"><div class="titlepage"><div><div><h5 class="title">E.151.3.11.3. サーバのプログラミング</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>バックエンドヘッダファイルを安全に<span class="productname">C++</span>でインクルードできるようにしました。(Kurt Harriman、Peter Eisentraut)
      </p><p>これらの変更はバックエンドのコードにおいてこれまで<span class="productname">C++</span>の使用を困難にしていたキーワードの競合を除去しました。
しかしまだバックエンド関数で<span class="productname">C++</span>を使用する場合には多少複雑さが残っています。
適切なところで<code class="literal">extern "C" { }</code>がまだ必要です。
またメモリ管理とエラー処理はまだ解決が困難です。
      </p></li><li class="listitem"><p><span class="productname">C</span>関数を集約として呼び出されるかどうかの確認に使用される<a class="link" href="xaggr.html" title="37.10. ユーザ定義の集約"><code class="function">AggCheckCallContext()</code></a>を追加しました。(Hitoshi Harada)
      </p></li><li class="listitem"><p>キャッシュキーの最大数をコードに直接書き込むことを防ぐために<code class="function">SearchSysCache()</code>と関連する関数の呼び出し規約を変更しました。(Robert Haas)
      </p><p>現時点では既存の呼び出しもまだ動作しますが、新しい形式に変更しなければ9.1以降で動作しなくなることが想定されます。
      </p></li><li class="listitem"><p>第4引数で非NULLを提供するためには<code class="function">fastgetattr()</code>および<code class="function">heap_getattr()</code>バックエンドマクロの呼び出しが必要です。(Robert Haas)
      </p></li><li class="listitem"><p>独自の型解析関数は、渡されるデータの型を決定するために<code class="structname">VacAttrStats</code>.<code class="structfield">attr</code>に依存してはいけません。
      </p><p>これは、背後にある列のデータ型と異なる格納方式のインデックス列上の統計情報を収集できるように変更されました。
解析すべき実際のデータ型を通知する新しいフィールドが存在します。
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.13.6"><div class="titlepage"><div><div><h5 class="title">E.151.3.11.4. サーバフック</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ColumnRefノードとParamRefノードを処理するためのパーサフックを追加しました。(Tom Lane)
      </p></li><li class="listitem"><p>ロード可能なモジュールがユーティリティコマンドを制御できるようにProcessUtilityフックを追加しました。(Itagaki Takahiro)
      </p></li></ul></div></div><div class="sect4" id="id-1.11.6.155.5.13.7"><div class="titlepage"><div><div><h5 class="title">E.151.3.11.5. バイナリ更新のサポート</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>その場での更新をサポートする<a class="link" href="pgupgrade.html" title="pg_upgrade"><code class="filename">contrib/pg_upgrade</code></a>を追加しました。(Bruce Momjian)
     </p><p>これによりPostgreSQLの新しいメジャーリリースに更新する時にデータベースのダンプ/リストア処理の必要性がなくなり、停止時間が桁違いに少なくなります。
これはPostgreSQL 8.3および8.4から9.0への更新をサポートします。
     </p></li><li class="listitem"><p>バイナリ更新中に<a class="link" href="catalog-pg-class.html" title="51.11. pg_class"><code class="structname">relfilenode</code></a>リレーションの値の保護サポートを追加しました。(Bruce Momjian)
      </p></li><li class="listitem"><p>バイナリ更新中に<code class="structname">pg_type</code>と<code class="structname">pg_enum</code>のOIDの保護サポートを追加しました。(Bruce Momjian)
      </p></li><li class="listitem"><p>テーブル空間内のデータファイルをその<span class="productname">PostgreSQL</span>バージョンに特化したサブディレクトリに移します。(Bruce Momjian)
      </p><p>これはバイナリ更新を簡単にします。
      </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.155.5.14"><div class="titlepage"><div><div><h4 class="title">E.151.3.12. Contrib</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="pgbench.html" title="pgbench"><code class="filename">contrib/pgbench</code></a>にマルチスレッドオプション(<code class="option">-j</code>)を追加しました。(Itagaki Takahiro)
     </p><p>これにより複数の<acronym class="acronym">CPU</acronym>を使用したpgbench試験ができ、pgbench自体が試験のボトルネックとなる危険が軽減します。
     </p></li><li class="listitem"><p><a class="link" href="pgbench.html" title="pgbench"><code class="filename">contrib/pgbench</code></a>に<code class="command">\shell</code>および<code class="command">\setshell</code>メタコマンドを追加しました。(Michael Paquier)
     </p></li><li class="listitem"><p><a class="link" href="dict-xsyn.html" title="F.13. dict_xsyn"><code class="filename">contrib/dict_xsyn</code></a>に機能を追加しました。(Sergey Karpov)
     </p><p>新しいオプションは<code class="literal">matchorig</code>、<code class="literal">matchsynonyms</code>、<code class="literal">keepsynonyms</code>です。
     </p></li><li class="listitem"><p>全文検索辞書<a class="link" href="unaccent.html" title="F.44. unaccent"><code class="filename">contrib/unaccent</code></a>を追加しました。(Teodor Sigaev)
     </p><p>このフィルタ処理辞書は文字から発音記号を取り除きます。
複数言語に対する全文検索がより簡単になります。
     </p></li><li class="listitem"><p><code class="filename">contrib/dblink</code>に<a class="link" href="contrib-dblink-get-notify.html" title="dblink_get_notify"><code class="function">dblink_get_notify()</code></a>を追加しました。(Marcus Kempe)
     </p><p>これにより<span class="productname">dblink</span>において非同期通知を行うことができます。
     </p></li><li class="listitem"><p><code class="filename">contrib/dblink</code>の削除された列の取り扱いを改良しました。(Tom Lane)
     </p><p>これは<a class="link" href="contrib-dblink-build-sql-insert.html" title="dblink_build_sql_insert"><code class="function">dblink_build_sql_insert()</code></a>と関連する関数に影響します。
これらの関数は物理的な列番号ではなく論理的な列番号に従って列を番号付けするようになりました。
     </p></li><li class="listitem"><p><a class="link" href="hstore.html" title="F.17. hstore"><code class="filename">contrib/hstore</code></a>のデータ長に関する制限を大きく増加しました。
また、<code class="type">hstore</code>列に対する<code class="literal">GROUP BY</code>および<code class="literal">DISTINCT</code>操作ができるようにB-treeおよびハッシュ機能を追加しました。(Andrew Gierth)
     </p><p>新しい関数や演算子も追加されました。
これらの改良により<code class="type">hstore</code>は<span class="productname">PostgreSQL</span>に組み込まれた、すべての機能を持つキー/バリューストアになりました。
     </p></li><li class="listitem"><p>パスワード強度に関するサイト固有のポリシーをサポートする<a class="link" href="passwordcheck.html" title="F.24. passwordcheck"><code class="filename">contrib/passwordcheck</code></a>を追加しました。(Laurenz Albe)
     </p><p>このモジュールのソースコードはサイト独自のパスワードポリシーに合わせるように変更しなければなりません。
     </p></li><li class="listitem"><p><a class="link" href="pgarchivecleanup.html" title="pg_archivecleanup"><code class="filename">contrib/pg_archivecleanup</code></a>ツールを追加しました。(Simon Riggs)
     </p><p>これは、不要になったアーカイブファイルを削除するための<code class="literal">archive_cleanup_command</code>サーバパラメータで使用されるために設計されました。
     </p></li><li class="listitem"><p><a class="link" href="auto-explain.html" title="F.4. auto_explain"><code class="filename">contrib/auto_explain</code></a>の出力に問い合わせテキストを追加しました。(Andrew Dunstan)
     </p></li><li class="listitem"><p><a class="link" href="pgstatstatements.html" title="F.30. pg_stat_statements"><code class="filename">contrib/pg_stat_statements</code></a>にバッファアクセスカウンタを追加しました。(Itagaki Takahiro)
     </p></li><li class="listitem"><p><code class="filename">/proc/self/oom_adj</code>を使用して<a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linuxのメモリオーバーコミット"><span class="productname">Linux</span> out-of-memory</a>(<acronym class="acronym">OOM</acronym>) killerを無効にできるように<a class="link" href="server-start.html" title="18.3. データベースサーバの起動"><code class="filename">contrib/start-scripts/linux</code></a>を更新しました。(Alex Hunsaker, Tom Lane)
     </p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-0-1.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-4-22.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">E.150. リリース9.0.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> E.152. リリース8.4.22</td></tr></table></div></body></html>