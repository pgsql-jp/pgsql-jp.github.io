<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 31. 論理レプリケーション</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="wal-internals.html" title="30.5. WALの内部" /><link rel="next" href="logical-replication-publication.html" title="31.1. パブリケーション" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">Chapter 31. 論理レプリケーション</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="wal-internals.html" title="30.5. WALの内部">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="admin.html" title="Part III. サーバの管理">Up</a></td><th width="60%" align="center">Part III. サーバの管理</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="logical-replication-publication.html" title="31.1. パブリケーション">Next</a></td></tr></table><hr></hr></div><div class="chapter" id="LOGICAL-REPLICATION"><div class="titlepage"><div><div><h2 class="title">Chapter 31. 論理レプリケーション</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="logical-replication-publication.html">31.1. パブリケーション</a></span></dt><dt><span class="sect1"><a href="logical-replication-subscription.html">31.2. サブスクリプション</a></span></dt><dd><dl><dt><span class="sect2"><a href="logical-replication-subscription.html#LOGICAL-REPLICATION-SUBSCRIPTION-SLOT">31.2.1. レプリケーションスロットの管理</a></span></dt></dl></dd><dt><span class="sect1"><a href="logical-replication-conflicts.html">31.3. コンフリクト</a></span></dt><dt><span class="sect1"><a href="logical-replication-restrictions.html">31.4. 制限事項</a></span></dt><dt><span class="sect1"><a href="logical-replication-architecture.html">31.5. アーキテクチャ</a></span></dt><dd><dl><dt><span class="sect2"><a href="logical-replication-architecture.html#LOGICAL-REPLICATION-SNAPSHOT">31.5.1. 初期スナップショット</a></span></dt></dl></dd><dt><span class="sect1"><a href="logical-replication-monitoring.html">31.6. 監視</a></span></dt><dt><span class="sect1"><a href="logical-replication-security.html">31.7. セキュリティ</a></span></dt><dt><span class="sect1"><a href="logical-replication-config.html">31.8. 構成設定</a></span></dt><dt><span class="sect1"><a href="logical-replication-quick-setup.html">31.9. 簡単な設定</a></span></dt></dl></div><p>論理レプリケーションとは、レプリケーションアイデンティティ(replication identity)（通常は主キーです）に基づき、データオブジェクトと、それに対する変更を複製する手法です。
この論理という用語は、正確なブロックアドレスを使い、バイト同士の複製を行う物理レプリケーションと対比的に使用しています。
PostgreSQLは両方の仕組みを同時にサポートします。
<a class="xref" href="high-availability.html" title="Chapter 26. 高可用性、負荷分散およびレプリケーション">Chapter 26</a>をご覧ください。
論理レプリケーションにより、データの複製とセキュリティに対するきめの細かい制御が可能になります。
 </p><p>論理レプリケーションは、ひとつの<em class="firstterm">パブリッシャー(publisher)</em>ノード上の一つ以上の<em class="firstterm">パブリケーション(publications)</em>を購読する一つ以上の<em class="firstterm">サブスクライバー(subscribers)</em>を伴う、<em class="firstterm">パブリッシュ(publish)</em>と<em class="firstterm">サブスクライブ(subscribe)</em>モデルを使用します。
サブスクライバーは、サブスクライブするパブリケーションからデータを取得し、再パブリッシュしてカスケードレプリケーションや、更に複雑な構成を構築することができます。
 </p><p>テーブルの論理レプリケーションは、通常、パブリッシャーのデータベース上のデータのスナップショットを取り、サブスクライバーにコピーすることから始まります。
それが完了したあとは、パブリッシャーにおける変更は、発生した時にリアルタイムでサブスクライバーに送られます。
サブスクライバーはパブリッシャーと同じ順にデータを適用します。
そのため、一つのサブスクリプション内のパブリケーションに対するトランザクションの一貫性が保証されます。
この方式によるデータレプリケーションは、トランザクショナルレプリケーション(transactional replication)と呼ばれることがあります。
 </p><p>典型的な論理レプリケーションの利用例には、以下のようなものがあります。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>一つのデータベース、あるいはデータベースの一部に起こった更新の差分を、発生都度サブスクライバーに送る。
    </p></li><li class="listitem"><p>サブスクライバーに更新が到着した時に、それぞれの更新に対してトリガーを起動する。
    </p></li><li class="listitem"><p>複数のデータベースを一つのデータベースに統合する。（たとえば分析目的で。）
    </p></li><li class="listitem"><p>異なるメジャーバージョンのPostgreSQL間でレプリケーションする。
    </p></li><li class="listitem"><p>異なるプラットフォーム上のPostgreSQLインスタンス間（たとえばLinuxからWindows）でレプリケーションする。
    </p></li><li class="listitem"><p>異なるユーザのグループに対して、複製されたデータにアクセスさせる。
    </p></li><li class="listitem"><p>複数のデータベース間でデータベースの一部を共有する。
    </p></li></ul></div><p>
 </p><p>サブスクライバーのデータベースは、他のPostgreSQLインスタンスと同様に振る舞い、自分用のパブリケーションを定義することにより、他のデータベースに対するパブリッシャーとして利用できます。
アプリケーションがそのサブスクライバーを読み取り専用として取り扱うときには、単独のサブスクリプションからはコンフリクトは発生しません。
一方、アプリケーションあるいは他のサブスクライバーから同じテーブルに書き込みが起こるとすると、コンフリクトが発生する可能性があります。
 </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="wal-internals.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="admin.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="logical-replication-publication.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">30.5. WALの内部 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 31.1. パブリケーション</td></tr></table></div></body></html>