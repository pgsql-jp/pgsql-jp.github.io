<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>51.7. pg_attribute</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="catalog-pg-attrdef.html" title="51.6. pg_attrdef" /><link rel="next" href="catalog-pg-authid.html" title="51.8. pg_authid" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">51.7. <code xmlns="http://www.w3.org/1999/xhtml" class="structname">pg_attribute</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="catalog-pg-attrdef.html" title="51.6. pg_attrdef">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="Chapter 51. システムカタログ">Up</a></td><th width="60%" align="center">Chapter 51. システムカタログ</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="catalog-pg-authid.html" title="51.8. pg_authid">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="CATALOG-PG-ATTRIBUTE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">51.7. <code class="structname">pg_attribute</code></h2></div></div></div><a id="id-1.10.4.9.2" class="indexterm"></a><p><code class="structname">pg_attribute</code>カタログにはテーブルの列情報が格納されます。
データベース内のすべてのテーブルの各列に対し必ず１つの<code class="structname">pg_attribute</code>行があります。
（また、インデックスと<code class="structname">pg_class</code>に項目を持つすべてのオブジェクトに対しての属性記述があります。）
  </p><p>属性という表現は列と同等の意味で、歴史的背景からそのように呼ばれています。
  </p><div class="table" id="id-1.10.4.9.5"><p class="title"><strong>Table 51.7. <code class="structname">pg_attribute</code>の列</strong></p><div class="table-contents"><table class="table" summary="pg_attributeの列" border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>型</th><th>参照先</th><th>説明</th></tr></thead><tbody><tr><td><code class="structfield">attrelid</code></td><td><code class="type">oid</code></td><td><code class="literal"><a class="link" href="catalog-pg-class.html" title="51.11. pg_class"><code class="structname">pg_class</code></a>.oid</code></td><td>この列が属するテーブル</td></tr><tr><td><code class="structfield">attname</code></td><td><code class="type">name</code></td><td> </td><td>列名</td></tr><tr><td><code class="structfield">atttypid</code></td><td><code class="type">oid</code></td><td><code class="literal"><a class="link" href="catalog-pg-type.html" title="51.62. pg_type"><code class="structname">pg_type</code></a>.oid</code></td><td>この列のデータ型</td></tr><tr><td><code class="structfield">attstattarget</code></td><td><code class="type">int4</code></td><td> </td><td><code class="structfield">attstattarget</code>は<a class="xref" href="sql-analyze.html" title="ANALYZE"><span class="refentrytitle">ANALYZE</span></a>によるこの列に対する蓄積された統計情報をどの程度詳しく管理するかを規定します。
値がゼロの場合は統計情報を収集しません。
負の値の場合は、システムのデフォルトの統計目標を使用すべきであるということです。
正の値が厳密に意味するところはデータ型に依存します。
スカラデータ型に対して<code class="structfield">attstattarget</code>は収集する<span class="quote">“<span class="quote">最も一般的な値</span>”</span>の目標となる数であり、また作成する度数分布ビンの目標数でもあります。
      </td></tr><tr><td><code class="structfield">attlen</code></td><td><code class="type">int2</code></td><td> </td><td>       この列の型の<code class="literal">pg_type.typlen</code>のコピー
      </td></tr><tr><td><code class="structfield">attnum</code></td><td><code class="type">int2</code></td><td> </td><td>列番号。
通常、列は1から始まる番号付けがなされます。
<code class="structfield">OID</code>のようなシステムによる列には（任意の）負の番号が付きます。
      </td></tr><tr><td><code class="structfield">attndims</code></td><td><code class="type">int4</code></td><td> </td><td>列が配列型の場合は次元数を表現し、そうでない時はゼロです。
（現在配列の次元数は強制されていませんのでゼロ以外のどのような値であっても<span class="quote">“<span class="quote">これは配列である</span>”</span>ということを意味します。）
      </td></tr><tr><td><code class="structfield">attcacheoff</code></td><td><code class="type">int4</code></td><td> </td><td>格納時は必ず-1ですが、メモリ内の行記述子に読み込まれた場合は、行内での属性オフセットをキャッシュするために更新される可能性があります。
      </td></tr><tr><td><code class="structfield">atttypmod</code></td><td><code class="type">int4</code></td><td> </td><td><code class="structfield">atttypmod</code>は、テーブル作成時に与えられた型固有のデータ（たとえば<code class="type">varchar</code>列の最大長）を記録します。
これは型固有の入力関数や長さ強制関数に渡されます。
<code class="structfield">atttypmod</code>を必要としない型では、通常、この値は-1です。
      </td></tr><tr><td><code class="structfield">attbyval</code></td><td><code class="type">bool</code></td><td> </td><td>この列の型の<code class="literal">pg_type.typbyval</code>のコピー
      </td></tr><tr><td><code class="structfield">attstorage</code></td><td><code class="type">char</code></td><td> </td><td>通常、この列の型の<code class="literal">pg_type.typstorage</code>のコピー。
TOAST可能なデータ型では、格納ポリシーを制御するために列の作成後に変更することができます。
      </td></tr><tr><td><code class="structfield">attalign</code></td><td><code class="type">char</code></td><td> </td><td>この列の型の<code class="literal">pg_type.typalign</code>のコピー
      </td></tr><tr><td><code class="structfield">attnotnull</code></td><td><code class="type">bool</code></td><td> </td><td>非NULL制約を表します。
      </td></tr><tr><td><code class="structfield">atthasdef</code></td><td><code class="type">bool</code></td><td> </td><td>この列にはデフォルト値があります。
その場合、実際に値を定義する<code class="structname">pg_attrdef</code>カタログ内に対応する項目があります。
      </td></tr><tr><td><code class="structfield">attidentity</code></td><td><code class="type">char</code></td><td> </td><td>0バイト（<code class="literal">''</code>）ならこれはIDENTITY列ではありません。
IDENTITY列では、GENERATED ALWAYSなら<code class="literal">a</code>、GENERATED BY DEFAULTなら<code class="literal">d</code>になります。
      </td></tr><tr><td><code class="structfield">attisdropped</code></td><td><code class="type">bool</code></td><td> </td><td>この列は既に削除されていて有効ではありません。
削除された列は物理的にはまだテーブル上に存在していますが、パーサによって無視されるためSQLでアクセスすることができません。
      </td></tr><tr><td><code class="structfield">attislocal</code></td><td><code class="type">bool</code></td><td> </td><td>この列はリレーション内でローカルに定義されます。
列がローカルに定義されると同時に継承される場合もあることに注意してください。
      </td></tr><tr><td><code class="structfield">attinhcount</code></td><td><code class="type">int4</code></td><td> </td><td>この列が持つ直接の祖先の数です。
祖先を持っている列の削除や名前は変更はできません。
      </td></tr><tr><td><code class="structfield">attcollation</code></td><td><code class="type">oid</code></td><td><code class="literal"><a class="link" href="catalog-pg-collation.html" title="51.12. pg_collation"><code class="structname">pg_collation</code></a>.oid</code></td><td>列で定義された照合順序。列が照合順序の設定ができないデータ型の場合はゼロ
      </td></tr><tr><td><code class="structfield">attacl</code></td><td><code class="type">aclitem[]</code></td><td> </td><td>この列に特定して付与された場合における、列レベルのアクセス権限
      </td></tr><tr><td><code class="structfield">attoptions</code></td><td><code class="type">text[]</code></td><td> </td><td><span class="quote">“<span class="quote">keyword=value</span>”</span>文字列のような、属性レベルのオプション
      </td></tr><tr><td><code class="structfield">attfdwoptions</code></td><td><code class="type">text[]</code></td><td> </td><td><span class="quote">“<span class="quote">keyword=value</span>”</span>文字列のような、外部データラッパオプションの属性レベル
      </td></tr></tbody></table></div></div><br class="table-break" /><p>削除された列の<code class="structname">pg_attribute</code>項目では、<code class="structfield">atttypid</code>はゼロにリセットされます。
しかし<code class="structfield">attlen</code>と<code class="structname">pg_type</code>からコピーされた他のフィールドは、有効なままです。
この動作は、削除された列のデータ型が後になって削除されて、<code class="structname">pg_type</code>行が存在しないような状況の場合に必要です。
<code class="structfield">attlen</code>と他のフィールドは、テーブル内の行の内容を解釈するために使用されます。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="catalog-pg-attrdef.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="catalog-pg-authid.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">51.6. <code class="structname">pg_attrdef</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 51.8. <code class="structname">pg_authid</code></td></tr></table></div></body></html>