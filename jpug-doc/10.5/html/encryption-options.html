<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>18.8. 暗号化オプション</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="preventing-server-spoofing.html" title="18.7. サーバのなりすまし防止" /><link rel="next" href="ssl-tcp.html" title="18.9. SSLによる安全なTCP/IP接続" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">18.8. 暗号化オプション</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="preventing-server-spoofing.html" title="18.7. サーバのなりすまし防止">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime.html" title="Chapter 18. サーバの準備と運用">Up</a></td><th width="60%" align="center">Chapter 18. サーバの準備と運用</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="ssl-tcp.html" title="18.9. SSLによる安全なTCP/IP接続">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="ENCRYPTION-OPTIONS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">18.8. 暗号化オプション</h2></div></div></div><a id="id-1.6.5.10.2" class="indexterm"></a><p><span class="productname">PostgreSQL</span>は、複数レベルの暗号化を備え、データベースサーバ自身、管理者の注意不足、安全ではないネットワークを原因とした漏洩からデータを柔軟に保護することができます。
また、医療記録や金融取引など高セキュリティが求められるデータを格納する場合に暗号化が必要な場合もあります。
  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">パスワードの暗号化</span></dt><dd><p>データベースユーザのパスワードは（<a class="xref" href="runtime-config-connection.html#GUC-PASSWORD-ENCRYPTION">password_encryption</a>によって決定される）ハッシュとして格納されます。ですので、ユーザに割り当てられているパスワードは管理者でも分かりません。
SCRAM又はMD5暗号化がクライアント認証に使用されている場合、平文のパスワードはサーバ上に一時的にも存在することはありません。ネットワーク上に流れる前にクライアントが暗号化を行うからです。
SCRAMは、インターネット標準で、PostgreSQL特有なMD5認証プロトコルよりセキュアであるため、より望ましいです。
    </p></dd><dt><span class="term">特定の列に関する暗号化</span></dt><dd><p><a class="xref" href="pgcrypto.html" title="F.26. pgcrypto">pgcrypto</a>モジュールにより、あるフィールドを暗号化して保存することができます。
データの一部が極秘データであるような場合に有用です。
クライアントが提供した復号化用のキーで、サーバ上のデータを復号化し、クライアントに返されます。
    </p><p>復号化されたデータと復号化用のキーは、復号処理中およびクライアントサーバ間の通信中サーバ上に存在している時間があります。
このため、データベースサーバへのすべてのアクセス権限を持つユーザ（例えばシステム管理者）によって、データとキーが盗まれるわずかな時間があります。
    </p></dd><dt><span class="term">データパーティションに関する暗号化</span></dt><dd><p>ストレージの暗号化は、ファイルシステムレベルまたはブロックレベルで行うことができます。
Linuxファイルシステムの暗号化オプションには、eCryptfsとEncFSがあります。一方、FreeBSDではPEFSを使用します。
ブロックレベルまたはフルディスクの暗号化オプションとして、Linuxにはdm-crypt + LUKS、FreeBSDにはGEOMモジュールのgeliとgbdeがあります。
これにより、ファイルシステムパーティション全体をディスク上で暗号化することができます。
他の多くのオペレーティングシステムは、Windowsを含め、この機能をサポートしています。
    </p><p>この機構により、ディスク装置やコンピュータ全体が盗まれた場合でも、ディスクから平文のデータが読み取られることを防止できます。
ファイルシステムがマウントされている時は、この機構による保護は働きません。
マウント時にはオペレーティングシステムが復号化したデータを提供するからです。
しかし、ファイルシステムをマウントするためになんらかの方法で暗号化キーをオペレーティングシステムに渡さなければなりません。
そのディスク装置をマウントするホストのどこかに暗号化キーを格納している場合もあります。
    </p></dd><dt><span class="term">ネットワーク越しのデータ暗号化</span></dt><dd><p>SSL接続により、ネットワーク越しに送信されるデータ（パスワード、問い合わせ、結果のデータ）はすべて暗号化されます。
<code class="filename">pg_hba.conf</code>ファイルを使用して、管理者はどのホストは暗号化しない接続を使用し（<code class="literal">host</code>）、どのホストがSSLで暗号化された接続を必要とするか（<code class="literal">hostssl</code>）を指定することができます。
また、SSL経由のサーバとの接続のみを使用するようにクライアントで指定することもできます。
<span class="application">Stunnel</span>や<span class="application">SSH</span>を使用して暗号化転送を行うこともできます。
     </p></dd><dt><span class="term">SSLホスト認証</span></dt><dd><p>クライアントとサーバの両方で証明書を互いに提供することができます。
これには両方で追加の設定を行わなければなりませんが、これにより単なるパスワードの使用よりも強力な身元の検証を行うことができます。
クライアントから送信されたパスワードを盗聴する偽装サーバからコンピュータを保護します。
また、クライアントとサーバとの間にあるコンピュータがサーバになりすまし、クライアントとサーバ間で流れるデータを読み取り中継する、<span class="quote">“<span class="quote">中間者</span>”</span>攻撃から保護することもできます。
    </p></dd><dt><span class="term">クライアントサイドの暗号化</span></dt><dd><p>サーバマシンのシステム管理者を信頼できない場合、クライアント側でデータを暗号化する必要があります。
この場合、平文のデータはデータベースサーバ上に存在しません。
データはサーバに送信される前にクライアント上で暗号化されます。
また、使用する前にデータベースからの結果をクライアントで復号化しなければなりません。
    </p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="preventing-server-spoofing.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ssl-tcp.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">18.7. サーバのなりすまし防止 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 18.9. SSLによる安全なTCP/IP接続</td></tr></table></div></body></html>