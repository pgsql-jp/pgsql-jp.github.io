<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pg_waldump</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="pgupgrade.html" title="pg_upgrade" /><link rel="next" href="app-postgres.html" title="postgres" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center"><span xmlns="http://www.w3.org/1999/xhtml" class="application">pg_waldump</span></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="pgupgrade.html" title="pg_upgrade">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="reference-server.html" title="PostgreSQLサーバアプリケーション">Up</a></td><th width="60%" align="center">PostgreSQLサーバアプリケーション</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="app-postgres.html" title="postgres">Next</a></td></tr></table><hr></hr></div><div class="refentry" id="PGWALDUMP"><div class="titlepage"></div><a id="id-1.9.5.12.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle"><span class="application">pg_waldump</span></span></h2><p>pg_waldump — <span class="productname">PostgreSQL</span>データベースクラスタの先行書き込みログを可読性が高い表現で表示する</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="id-1.9.5.12.4.1"><code class="command">pg_waldump</code> [<code class="option">option</code>...] [<code class="option">startseg</code>
     [<code class="option">endseg</code>]
   ]</p></div></div><div class="refsect1" id="R1-APP-PGWALDUMP-1"><h2>説明</h2><p><code class="command">pg_waldump</code>は先行書き出しログ（WAL）を表示します。
主にデバッグや学習目的に有用です。
  </p><p>データディレクトリへの読み取り専用のアクセスが必要ですので、このユーティリティはサーバをインストールしたユーザによってのみ実行することができます。
  </p></div><div class="refsect1" id="id-1.9.5.12.6"><h2>オプション</h2><p>以下のコマンドラインオプションは場所や出力書式を制御します。

    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>startseg</code></em></span></dt><dd><p>指定したログセグメントファイルから読み取りを開始します。
これは暗黙的に検索されるファイルのパスや使用するタイムラインを決定します。
       </p></dd><dt><span class="term"><em class="replaceable"><code>endseg</code></em></span></dt><dd><p>指定したログセグメントファイルを読み取り後終了します。
       </p></dd><dt><span class="term"><code class="option">-b</code><br /></span><span class="term"><code class="option">--bkp-details</code></span></dt><dd><p>バックアップブロックに関する詳細情報を出力します。
       </p></dd><dt><span class="term"><code class="option">-e <em class="replaceable"><code>end</code></em></code><br /></span><span class="term"><code class="option">--end=<em class="replaceable"><code>end</code></em></code></span></dt><dd><p>ログストリームの終了点まで読み取る代わりに、指定したWAL位置で読み取りを終了します。
       </p></dd><dt><span class="term"><code class="option">-f</code><br /></span><span class="term"><code class="option">--follow</code></span></dt><dd><p>有効なWALの終わりに到達した後、新しいWALが現れるのを1秒間に1回ポーリングし続けます。
       </p></dd><dt><span class="term"><code class="option">-n <em class="replaceable"><code>limit</code></em></code><br /></span><span class="term"><code class="option">--limit=<em class="replaceable"><code>limit</code></em></code></span></dt><dd><p>指定レコード数を表示し、終了します。
       </p></dd><dt><span class="term"><code class="option">-p <em class="replaceable"><code>path</code></em></code><br /></span><span class="term"><code class="option">--path=<em class="replaceable"><code>path</code></em></code></span></dt><dd><p>ログセグメントファイルを見つけ出すディレクトリ、あるいはログセグメントファイルが含まれる<code class="literal">pg_wal</code>サブディレクトリが含まれるディレクトリを指定します。
デフォルトではカレントディレクトリ、カレントディレクトリ内の<code class="literal">pg_wal</code>サブディレクトリ、<code class="envar">PGDATA</code>の<code class="literal">pg_wal</code>サブディレクトリから検索されます。
       </p></dd><dt><span class="term"><code class="option">-r <em class="replaceable"><code>rmgr</code></em></code><br /></span><span class="term"><code class="option">--rmgr=<em class="replaceable"><code>rmgr</code></em></code></span></dt><dd><p>指定されたリソースマネージャによって生成されたレコードのみを表示します。
<code class="literal">list</code>が名称として渡された場合は、有効なリソースマネージャの一覧を表示します。
       </p></dd><dt><span class="term"><code class="option">-s <em class="replaceable"><code>start</code></em></code><br /></span><span class="term"><code class="option">--start=<em class="replaceable"><code>start</code></em></code></span></dt><dd><p>読み取りを始めるWAL位置です。
デフォルトでは、最も過去のファイルの中で見つかった最初の有効なログレコードから読み取りを始めます。
       </p></dd><dt><span class="term"><code class="option">-t <em class="replaceable"><code>timeline</code></em></code><br /></span><span class="term"><code class="option">--timeline=<em class="replaceable"><code>timeline</code></em></code></span></dt><dd><p>ログレコードの読み取り先のタイムラインです。
デフォルトでは、<em class="replaceable"><code>startseg</code></em>が指定されている場合は<em class="replaceable"><code>startseg</code></em>内の値が使用されます。
指定がない場合のデフォルトは1です。
       </p></dd><dt><span class="term"><code class="option">-V</code><br /></span><span class="term"><code class="option">--version</code></span></dt><dd><p><span class="application">pg_waldump</span>のバージョンを表示し終了します。
       </p></dd><dt><span class="term"><code class="option">-x <em class="replaceable"><code>xid</code></em></code><br /></span><span class="term"><code class="option">--xid=<em class="replaceable"><code>xid</code></em></code></span></dt><dd><p>指定されたトランザクションIDで印付けられたレコードのみを表示します。
       </p></dd><dt><span class="term"><code class="option">-z</code><br /></span><span class="term"><code class="option">--stats[=record]</code></span></dt><dd><p>個々のレコードの代わりに要約統計（レコードの数とサイズ、および全ページのイメージ）を表示します。
オプションでrmgr毎の代わりにレコード毎の統計を生成します。
       </p></dd><dt><span class="term"><code class="option">-?</code><br /></span><span class="term"><code class="option">--help</code></span></dt><dd><p><span class="application">pg_waldump</span>のコマンドライン引数に関する説明を表示し、終了します。
        </p></dd></dl></div><p>
   </p></div><div class="refsect1" id="id-1.9.5.12.7"><h2>注釈</h2><p>サーバが実行中の場合は間違った結果になることがあります。
  </p><p>指定されたタイムラインのみが表示されます（指定がなければデフォルトのみが表示）。
他のタイムラインのレコードは無視されます。
  </p><p><span class="application">pg_waldump</span>は拡張子<code class="literal">.partial</code>のWALファイルを読むことはできません。
読む必要がある場合は、ファイル名から拡張子<code class="literal">.partial</code>を削除してください。
  </p></div><div class="refsect1" id="id-1.9.5.12.8"><h2>関連項目</h2><span class="simplelist"><a class="xref" href="wal-internals.html" title="30.5. WALの内部">Section 30.5</a></span></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pgupgrade.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="reference-server.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="app-postgres.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="application">pg_upgrade</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="application">postgres</span></td></tr></table></div></body></html>