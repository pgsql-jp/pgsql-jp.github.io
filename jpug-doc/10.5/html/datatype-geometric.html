<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.8. 幾何データ型</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="datatype-enum.html" title="8.7. 列挙型" /><link rel="next" href="datatype-net-types.html" title="8.9. ネットワークアドレス型" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">8.8. 幾何データ型</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="datatype-enum.html" title="8.7. 列挙型">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="datatype.html" title="Chapter 8. データ型">Up</a></td><th width="60%" align="center">Chapter 8. データ型</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="datatype-net-types.html" title="8.9. ネットワークアドレス型">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DATATYPE-GEOMETRIC"><div class="titlepage"><div><div><h2 class="title" style="clear: both">8.8. 幾何データ型</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="datatype-geometric.html#id-1.5.7.16.5">8.8.1. 座標点</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-LINE">8.8.2. 直線</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-LSEG">8.8.3. 線分</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#id-1.5.7.16.8">8.8.4. 矩形</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#id-1.5.7.16.9">8.8.5. 経路</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-POLYGON">8.8.6. 多角形(ポリゴン)</a></span></dt><dt><span class="sect2"><a href="datatype-geometric.html#DATATYPE-CIRCLE">8.8.7. 円</a></span></dt></dl></div><p>幾何データ型は2次元空間オブジェクトを表現します。
<a class="xref" href="datatype-geometric.html#DATATYPE-GEO-TABLE" title="Table 8.20. 幾何データ型">Table 8.20</a>は、<span class="productname">PostgreSQL</span>で使用可能な幾何データ型を列挙したものです。
   </p><div class="table" id="DATATYPE-GEO-TABLE"><p class="title"><strong>Table 8.20. 幾何データ型</strong></p><div class="table-contents"><table class="table" summary="幾何データ型" border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>型名</th><th>格納サイズ</th><th>説明</th><th>表現</th></tr></thead><tbody><tr><td><code class="type">point</code></td><td>16バイト</td><td>平面における座標点</td><td>(x,y)</td></tr><tr><td><code class="type">line</code></td><td>32バイト</td><td>無限の直線</td><td>{A,B,C}</td></tr><tr><td><code class="type">lseg</code></td><td>32バイト</td><td>有限の線分</td><td>((x1,y1),(x2,y2))</td></tr><tr><td><code class="type">box</code></td><td>32バイト</td><td>矩形</td><td>((x1,y1),(x2,y2))</td></tr><tr><td><code class="type">path</code></td><td>16+16nバイト</td><td>閉経路（多角形に類似）</td><td>((x1,y1),...)</td></tr><tr><td><code class="type">path</code></td><td>16+16nバイト</td><td>開経路</td><td>[(x1,y1),...]</td></tr><tr><td><code class="type">polygon</code></td><td>40+16nバイト</td><td>多角形（閉経路に類似）</td><td>((x1,y1),...)</td></tr><tr><td><code class="type">circle</code></td><td>24バイト</td><td>円</td><td>&lt;(x,y),r&gt;（中心と半径）</td></tr></tbody></table></div></div><br class="table-break" /><p>拡大縮小、変形、回転、交点の算出といった様々な幾何学的操作を行う関数と演算子の集合が豊富に揃っています。
このことについては<a class="xref" href="functions-geometry.html" title="9.11. 幾何関数と演算子">Section 9.11</a>に説明があります。
   </p><div class="sect2" id="id-1.5.7.16.5"><div class="titlepage"><div><div><h3 class="title">8.8.1. 座標点</h3></div></div></div><a id="id-1.5.7.16.5.2" class="indexterm"></a><p>座標点は幾何データ型の基礎となる2次元構成要素です。
<code class="type">point</code>型の値は次の構文のいずれかで指定されます。

</p><pre class="synopsis">( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> )
  <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em></pre><p>

ここで<em class="replaceable"><code>x</code></em>と<em class="replaceable"><code>y</code></em>は、それぞれの座標を浮動小数点数数値で表したものです。
    </p><p>座標点は1番目の構文で出力されます。
    </p></div><div class="sect2" id="DATATYPE-LINE"><div class="titlepage"><div><div><h3 class="title">8.8.2. 直線</h3></div></div></div><a id="id-1.5.7.16.6.2" class="indexterm"></a><p>直線は線形方程式<em class="replaceable"><code>A</code></em>x + <em class="replaceable"><code>B</code></em>y + <em class="replaceable"><code>C</code></em> = 0で表現されます。ここで<em class="replaceable"><code>A</code></em>と<em class="replaceable"><code>B</code></em>は同時に0になることはありません。
<code class="type">line</code>型の値は以下の書式で入出力されます。
</p><pre class="synopsis">{ <em class="replaceable"><code>A</code></em>, <em class="replaceable"><code>B</code></em>, <em class="replaceable"><code>C</code></em> }</pre><p>

入力のためには以下の書式を代替として使用することもできます。

</p><pre class="synopsis">[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em></pre><p>

ここで<code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code>と<code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code>はその直線上の2つの異なる点です。
    </p></div><div class="sect2" id="DATATYPE-LSEG"><div class="titlepage"><div><div><h3 class="title">8.8.3. 線分</h3></div></div></div><a id="id-1.5.7.16.7.2" class="indexterm"></a><a id="id-1.5.7.16.7.3" class="indexterm"></a><p>線分は終点を示す2つの点の組み合わせで表現されます。
線分は以下の式で表すことができます。

</p><pre class="synopsis">[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em></pre><p>

ここで、<code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code>と<code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code>は線分の終端点です。
    </p><p>線分は1番目の構文で出力されます。
    </p></div><div class="sect2" id="id-1.5.7.16.8"><div class="titlepage"><div><div><h3 class="title">8.8.4. 矩形</h3></div></div></div><a id="id-1.5.7.16.8.2" class="indexterm"></a><a id="id-1.5.7.16.8.3" class="indexterm"></a><p>矩形は、矩形の対角線の両端の座標点の組み合わせで表されます。
<code class="type">box</code>型の値は以下の構文のいずれかで指定されます。

</p><pre class="synopsis">( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ( <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   ,   <em class="replaceable"><code>x2</code></em> , <em class="replaceable"><code>y2</code></em></pre><p>

ここで<code class="literal">(<em class="replaceable"><code>x1</code></em>,<em class="replaceable"><code>y1</code></em>)</code>と<code class="literal">(<em class="replaceable"><code>x2</code></em>,<em class="replaceable"><code>y2</code></em>)</code>は矩形の対角線の両端です。
    </p><p>矩形は最初に示した構文で出力されます。
    </p><p>任意の対角頂点を入力として指定することができます。
しかし頂点は右上の頂点を最初に、左下の頂点をその後に格納するよう必要に応じて並べ替えられます。
    </p></div><div class="sect2" id="id-1.5.7.16.9"><div class="titlepage"><div><div><h3 class="title">8.8.5. 経路</h3></div></div></div><a id="id-1.5.7.16.9.2" class="indexterm"></a><p>経路は接続している座標点のリストで表現されます。
経路は最初の座標点と最後の座標点が接続されていないとみなされる<em class="firstterm">開いている</em>状態か、最初の座標点と最後の座標点が接続されているとみなされる<em class="firstterm">閉じた</em>状態かのいずれかです。
    </p><p><code class="type">path</code>型の値は次の構文のいずれかで指定されます。

</p><pre class="synopsis">[ ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) ]
( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em></pre><p>

ここで、各座標点は、経路を構成する線分の終端点です。
大括弧（<code class="literal">[]</code>）は開経路を、括弧（<code class="literal">()</code>）は閉経路を示します。
3番目から4番目の構文のようにもっとも外側の括弧が省略された場合、閉経路と仮定されます。
    </p><p>経路は最初または２番目の適切な構文で出力されます。
    </p></div><div class="sect2" id="DATATYPE-POLYGON"><div class="titlepage"><div><div><h3 class="title">8.8.6. 多角形(ポリゴン)</h3></div></div></div><a id="id-1.5.7.16.10.2" class="indexterm"></a><p>多角形は座標点（多角形の頂点）のリストで表現されます。
多角形は閉経路ととても良く似ていますが、異なった方式で格納されると同時にそれぞれ独自のサポート関数群を持っています。
    </p><p><code class="type">polygon</code>型の値は次の構文のいずれかで指定されます。

</p><pre class="synopsis">( ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> ) )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em> ) , ... , ( <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
  ( <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em> )
    <em class="replaceable"><code>x1</code></em> , <em class="replaceable"><code>y1</code></em>   , ... ,   <em class="replaceable"><code>xn</code></em> , <em class="replaceable"><code>yn</code></em></pre><p>

各座標点は多角形の境界を構成する線分の終端点です。
    </p><p>多角形は最初の構文で出力されます。
    </p></div><div class="sect2" id="DATATYPE-CIRCLE"><div class="titlepage"><div><div><h3 class="title">8.8.7. 円</h3></div></div></div><a id="id-1.5.7.16.11.2" class="indexterm"></a><p>円は中心座標点と半径で表現されます。
<code class="type">circle</code>型の値は次の構文のいずれかで指定されます。

</p><pre class="synopsis">&lt; ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em> &gt;
( ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em> )
  ( <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em> ) , <em class="replaceable"><code>r</code></em>
    <em class="replaceable"><code>x</code></em> , <em class="replaceable"><code>y</code></em>   , <em class="replaceable"><code>r</code></em></pre><p>

ここで<code class="literal">(<em class="replaceable"><code>x</code></em>,<em class="replaceable"><code>y</code></em>)</code>は円の中心点、<em class="replaceable"><code>r</code></em>は円の半径です。
    </p><p>円は最初の構文で出力されます。
    </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="datatype-enum.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="datatype.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="datatype-net-types.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.7. 列挙型 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 8.9. ネットワークアドレス型</td></tr></table></div></body></html>