<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.13. バージョンとプラットフォーム互換性</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="runtime-config-locks.html" title="19.12. ロック管理" /><link rel="next" href="runtime-config-error-handling.html" title="19.14. エラー処理" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">19.13. バージョンとプラットフォーム互換性</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="runtime-config-locks.html" title="19.12. ロック管理">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="Chapter 19. サーバの設定">Up</a></td><th width="60%" align="center">Chapter 19. サーバの設定</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="runtime-config-error-handling.html" title="19.14. エラー処理">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RUNTIME-CONFIG-COMPATIBLE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.13. バージョンとプラットフォーム互換性</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="runtime-config-compatible.html#RUNTIME-CONFIG-COMPATIBLE-VERSION">19.13.1. 以前のPostgreSQLバージョン</a></span></dt><dt><span class="sect2"><a href="runtime-config-compatible.html#RUNTIME-CONFIG-COMPATIBLE-CLIENTS">19.13.2. プラットフォームとクライアント互換性</a></span></dt></dl></div><div class="sect2" id="RUNTIME-CONFIG-COMPATIBLE-VERSION"><div class="titlepage"><div><div><h3 class="title">19.13.1. 以前のPostgreSQLバージョン</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-ARRAY-NULLS"><span class="term"><code class="varname">array_nulls</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.1.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       これは、配列入力パーサが引用符のない<code class="literal">NULL</code>をNULL配列要素として認識するかどうかを制御します。
デフォルトでは、これは<code class="literal">on</code>で、NULL値を持つ配列値を入力することができます。
しかし、8.2より前のバージョンの<span class="productname">PostgreSQL</span>では、配列内のNULL値をサポートしておらず、<code class="literal">NULL</code>を<span class="quote">“<span class="quote">NULL</span>”</span>という値の文字列を持つ通常の配列要素として扱っていました。
古い動作を必要とするアプリケーションの後方互換性のため、この変数を<code class="literal">off</code>にすることができます。
       </p><p>       
       この変数が<code class="literal">off</code>であっても、NULL値を含む配列値を作成することができることに注意してください。
       </p></dd><dt id="GUC-BACKSLASH-QUOTE"><span class="term"><code class="varname">backslash_quote</code> (<code class="type">enum</code>)
      
      <a id="id-1.6.6.16.2.2.2.1.3" class="indexterm"></a>
      <a id="id-1.6.6.16.2.2.2.1.4" class="indexterm"></a>
      </span></dt><dd><p>       
       文字列リテラルの中で引用符が<code class="literal">\'</code>で表現されるかどうかを管理します。
       引用符の表現としてSQL準拠の方式では二重化（<code class="literal">''</code>）ですが、<span class="productname">PostgreSQL</span>は歴史的に<code class="literal">\'</code>も受け付けます。
       とは言っても、いくつかのクライアント文字集合符号化方式において、最終バイトが数値的にASCIIの<code class="literal">\</code>に等しいマルチバイト文字があり、<code class="literal">\'</code>を使用するとセキュリティ上問題を引き起こす可能性があります。
       クライアント側のコードが事実上エスケープを正しく扱わない場合、SQLインジェクション攻撃が可能になります。この危険性の回避は、サーバが逆スラッシュでエスケープされた引用符を含む問い合わせを拒絶するようにします。
       許可される<code class="varname">backslash_quote</code>の値は、
        <code class="literal">on</code> （常に <code class="literal">\'</code> を許可）,
        <code class="literal">off</code> （常に拒否）、および
        <code class="literal">safe_encoding</code> （クライアント符号化方式がASCIIの<code class="literal">\</code>を許可しないときのみ、マルチバイト文字内で許可）。
        <code class="literal">safe_encoding</code> がデフォルトの設定。
       </p><p>       
       標準に従った文字列リテラルでは、<code class="literal">\</code>は単に<code class="literal">\</code>を意味するものです。
このパラメータのみが、エスケープ文字列構文（<code class="literal">E'...'</code>）を含む標準に従わないリテラルの取り扱いに影響します。
       </p></dd><dt id="GUC-DEFAULT-WITH-OIDS"><span class="term"><code class="varname">default_with_oids</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.3.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       もし<code class="literal">WITH OIDS</code>もしくは<code class="literal">WITHOUT OIDS</code>のいずれも指定されていない場合、<code class="command">CREATE TABLE</code>および<code class="command">CREATE TABLE AS</code>がオブジェクト識別子（OID）列を新規作成のテーブルに含めるか否かを管理します。
同時に<code class="command">SELECT INTO</code>で作成されたテーブルにOIDが含まれるか否かも決定します。
このパラメータはデフォルトで<code class="literal">off</code>です。<span class="productname">PostgreSQL</span> 8.0およびそれ以前ではデフォルトで<code class="literal">on</code>でした。
       </p><p>       
       ユーザテーブルでのOID使用は良くないと考えられるため、ほとんどのインストレーションはこの変数を無効にしたままになっています。
       特定のテーブルに対してOIDを必要とするアプリケーションは、テーブル作成にあたって<code class="literal">WITH OIDS</code>を指定しなければなりません。
       この変数は、この動作を行わない古いアプリケーションとの互換性を有効にします。
       </p></dd><dt id="GUC-ESCAPE-STRING-WARNING"><span class="term"><code class="varname">escape_string_warning</code> (<code class="type">boolean</code>)
      
      <a id="id-1.6.6.16.2.2.4.1.3" class="indexterm"></a>
      <a id="id-1.6.6.16.2.2.4.1.4" class="indexterm"></a>
      </span></dt><dd><p>       
       有効の場合、通常の文字列リテラル（<code class="literal">'...'</code>構文）にバックスラッシュ（<code class="literal">\</code>）があり、<code class="varname">standard_conforming_strings</code>が無効な場合、警告が発せられます。
デフォルトは<code class="literal">on</code>です。
       </p><p>       
       通常文字列のデフォルトの振る舞いは、SQL標準ではバックスラッシュを通常文字として取り扱うため、バックスラッシュをエスケープとして使用したいアプリケーションは、エスケープ文字列構文(<code class="literal">E'...'</code>)を使用するように変更すべきです。
        この変数は変更すべきコードを突き止めるのに役立つよう、有効にすることができます。
       </p></dd><dt id="GUC-LO-COMPAT-PRIVILEGES"><span class="term"><code class="varname">lo_compat_privileges</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.5.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       9.0以前の<span class="productname">PostgreSQL</span>リリースでは、ラージオブジェクトはアクセス権限が無く、従って全てのユーザが常に読み込み、書き込みが可能でした。
       この変数を<code class="literal">on</code>にすると、以前のリリースとの互換性のため、新規の権限チェックが無効になります。
       デフォルトは<code class="literal">off</code>です。
        スーパーユーザのみこの設定を変更できます。
       </p><p>この変数を設定しても、ラージオブジェクトに関連した全ての安全性チェックを無効にする訳ではありません。
<span class="productname">PostgreSQL</span> 9.0で変更されたデフォルトの動きに対してのみです。
例えば、<code class="literal">lo_import()</code>と<code class="literal">lo_export()</code>はこの設定に係わらずスーパーユーザの権限を必要とします。
       </p></dd><dt id="GUC-OPERATOR-PRECEDENCE-WARNING"><span class="term"><code class="varname">operator_precedence_warning</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.6.1.3" class="indexterm"></a>
      </span></dt><dd><p>onの場合、演算子の優先順位の変更の結果、<span class="productname">PostgreSQL</span> 9.4以降で意味が変わる可能性のある構文に対して、パーサは警告を出力します。
これは、優先順位の変更によりアプリケーションに何か不具合が起きないか監視するのに役立ちます。
しかし、これはプロダクション環境でオンにしたままにしておくためのものではありません。
なぜなら、完全に正しいSQL標準準拠コードに対しても警告を発するからです。
デフォルトは<code class="literal">off</code>です。
       </p><p>詳細は<a class="xref" href="sql-syntax-lexical.html#SQL-PRECEDENCE" title="4.1.6. 演算子の優先順位">Section 4.1.6</a>を見てください。
       </p></dd><dt id="GUC-QUOTE-ALL-IDENTIFIERS"><span class="term"><code class="varname">quote_all_identifiers</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.7.1.3" class="indexterm"></a>
      </span></dt><dd><p>データベースがSQLを生成する時、たとえ（現在）キーワードになっていなくても、全ての識別子を引用符で囲むことを強制します。
これは <code class="command">EXPLAIN</code>の出力に影響を与えるのみならず、<code class="function">pg_get_viewdef</code>のような関数の結果にも影響します。
<a class="xref" href="app-pgdump.html" title="pg_dump"><span class="refentrytitle">pg_dump</span></a> および <a class="xref" href="app-pg-dumpall.html" title="pg_dumpall"><span class="refentrytitle"><span class="application">pg_dumpall</span></span></a>の<code class="option">--quote-all-identifiers</code>オプションも参照してください。
       </p></dd><dt id="GUC-STANDARD-CONFORMING-STRINGS"><span class="term"><code class="varname">standard_conforming_strings</code> (<code class="type">boolean</code>)
      
      <a id="id-1.6.6.16.2.2.8.1.3" class="indexterm"></a>
      <a id="id-1.6.6.16.2.2.8.1.4" class="indexterm"></a>
      </span></dt><dd><p>       
       標準SQLで規定されたように、通常の文字列リテラル（<code class="literal">'...'</code>）がバックスラッシュをそのまま取り扱うか否かを制御します。
       <span class="productname">PostgreSQL</span> 9.1からデフォルトは<code class="literal">on</code>になっています（それ以前のリリースでは<code class="literal">off</code>がデフォルトでした）。
       どのように文字列リテラルが処理されるかを決めるこのパラメータを、アプリケーションで検査することができます。
このパラメータの存在は、エスケープ文字列構文（<code class="literal">E'...'</code>）がサポートされているかどうかを示すものとも考えられます。
エスケープ文字列構文 (<a class="xref" href="sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-ESCAPE" title="4.1.2.2. C形式エスケープでの文字列定数">Section 4.1.2.2</a>)は、アプリケーションでバックスラッシュをエスケープ文字として扱いたい場合に使用すべきです。
       </p></dd><dt id="GUC-SYNCHRONIZE-SEQSCANS"><span class="term"><code class="varname">synchronize_seqscans</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.2.2.9.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       これにより、同時実行スキャンがほぼ同じ時間に同じブロックを読み取り、I/Oへの負荷を分散できるように、互いに同期して、大規模テーブルをシーケンシャルスキャンすることができます。
これが有効な場合、スキャンはテーブルの途中から始まり、進行中のスキャンの活動と同期するように、行全体を覆うように終端を<span class="quote">“<span class="quote">巻き上げる</span>”</span>可能性があります。
これにより、<code class="literal">ORDER BY</code>句を持たない問い合わせが返す行の順序は予想できない程変わってしまいます。
このパラメータを<code class="literal">off</code>にすることで、シーケンシャルスキャンが常にテーブルの先頭から始まるという、8.3より前の動作を保証します。
デフォルトは<code class="literal">on</code>です。
       </p></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-COMPATIBLE-CLIENTS"><div class="titlepage"><div><div><h3 class="title">19.13.2. プラットフォームとクライアント互換性</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-TRANSFORM-NULL-EQUALS"><span class="term"><code class="varname">transform_null_equals</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.16.3.2.1.1.3" class="indexterm"></a>
      <a id="id-1.6.6.16.3.2.1.1.4" class="indexterm"></a>
      </span></dt><dd><p>       
       有効の場合、<code class="literal"><em class="replaceable"><code>expr</code></em> = NULL</code>（もしくは<code class="literal">NULL = <em class="replaceable"><code>expr</code></em></code>）形式の式は<code class="literal"><em class="replaceable"><code>expr</code></em> IS NULL</code>として取り扱われ、それは、もし<em class="replaceable"><code>expr</code></em>がNULL値と評価すれば真を返し、そうでなければ偽を返します。
<code class="literal"><em class="replaceable"><code>expr</code></em> = NULL</code>の正しいSQL仕様準拠の動作は常にNULL（判らない）を返すことです。
従って、このパラメータのデフォルトは<code class="literal">off</code>になっています。
       </p><p>しかし、<span class="productname">Microsoft Access</span>のフィルタ形式はNULL値を検査するために<code class="literal"><em class="replaceable"><code>expr</code></em> = NULL</code>を使用する問い合わせを生成しますので、そのインタフェースを使用してデータベースにアクセスする場合は、このオプションを有効にする方が良いでしょう。
<code class="literal"><em class="replaceable"><code>expr</code></em> = NULL</code>という形の式は（SQL標準解釈を使用した結果）常にNULL値を返しますので、通常のアプリケーションでは意味がほとんどなく、滅多に使用されません。
ですので、このオプションは実際は害はありません。
しかし、慣れていないユーザはしばしばNULL値に関する式の意味に戸惑いますので、デフォルトでこのオプションはoffです。
       </p><p>       
       このオプションは<code class="literal">= NULL</code>という形式にのみ影響することに注意してください。
他の比較演算子や等価演算子を呼び出す他の（<code class="literal">IN</code>のような）式と計算する上で等価となる式には影響を与えません。
したがって、このオプションは間違ったプログラミングの汎用的な問題解決を行いません。
       </p><p>       
       関連する情報は<a class="xref" href="functions-comparison.html" title="9.2. 比較関数および演算子">Section 9.2</a>を参照してください。
       </p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-locks.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-error-handling.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">19.12. ロック管理 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 19.14. エラー処理</td></tr></table></div></body></html>