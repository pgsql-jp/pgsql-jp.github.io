<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.3. 接続と認証</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="runtime-config-file-locations.html" title="19.2. ファイルの場所" /><link rel="next" href="runtime-config-resource.html" title="19.4. 資源の消費" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">19.3. 接続と認証</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="runtime-config-file-locations.html" title="19.2. ファイルの場所">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="Chapter 19. サーバの設定">Up</a></td><th width="60%" align="center">Chapter 19. サーバの設定</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="runtime-config-resource.html" title="19.4. 資源の消費">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RUNTIME-CONFIG-CONNECTION"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.3. 接続と認証</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="runtime-config-connection.html#RUNTIME-CONFIG-CONNECTION-SETTINGS">19.3.1. 接続設定</a></span></dt><dt><span class="sect2"><a href="runtime-config-connection.html#RUNTIME-CONFIG-CONNECTION-SECURITY">19.3.2. セキュリティと認証</a></span></dt></dl></div><div class="sect2" id="RUNTIME-CONFIG-CONNECTION-SETTINGS"><div class="titlepage"><div><div><h3 class="title">19.3.1. 接続設定</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-LISTEN-ADDRESSES"><span class="term"><code class="varname">listen_addresses</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.2.2.1.1.3" class="indexterm"></a>
      </span></dt><dd><p>クライアントアプリケーションからの接続をサーバが監視する TCP/IP アドレスを指定します。
この値は、ホスト名をコンマで区切ったリスト、そして/もしくは、数値によるIPアドレスです。
<code class="literal">*</code>という特別なエントリは利用可能な全てのIPインタフェースに対応します。
エントリ<code class="literal">0.0.0.0</code>は全てのIPv4アドレスの監視を、そしてエントリ<code class="literal">::</code>は全てのIPv6アドレスの監視を許容します。
リストが空の場合、サーバはいかなるIPインタフェースも全く監視しないで、Unixドメインソケットのみを使用して接続が行われます。
デフォルトの値は<span class="systemitem">localhost</span>で、ローカルなTCP/IP <span class="quote">“<span class="quote">loopback</span>”</span>接続のみ許可します。
クライアント認証 (<a class="xref" href="client-authentication.html" title="Chapter 20. クライアント認証">Chapter 20</a>)は誰がサーバにアクセス可能かをきめ細かく制御するのに対し、<code class="varname">listen_addresses</code>はどのインタフェースが接続を試みるかを制御します。
これにより、安全でないネットワークインタフェース上において繰り返して行われる悪意のある接続要求の防止に役立ちます。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-PORT"><span class="term"><code class="varname">port</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.2.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       サーバが監視するTCPポートで、デフォルトは 5432です。
       サーバが監視する全てのIPアドレスに対し、同じポート番号が使用されることを覚えておいてください。
       このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-MAX-CONNECTIONS"><span class="term"><code class="varname">max_connections</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.3.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       データベースサーバに同時接続する最大数を決定します。
       デフォルトは典型的に100接続ですが、カーネルの設定が（<span class="application">initdb</span>の過程で）それをサポートしていない場合、もっと少なくなることがあります。
       このパラメータはサーバ起動時のみに設定可能です。
       </p><p>       
       スタンバイサーバを運用している場合、このパラメータはマスターサーバでの設定と同じ、もしくはより高い値に設定しなければなりません。そうしないと問い合わせがスタンバイサーバ内で受け入れられません。
       </p></dd><dt id="GUC-SUPERUSER-RESERVED-CONNECTIONS"><span class="term"><code class="varname">superuser_reserved_connections</code>
      (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.4.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
<span class="productname">PostgreSQL</span>のスーパーユーザによる接続のために予約されている接続<span class="quote">“<span class="quote">開口部（スロット）</span>”</span>の数を決定します。
最大、<a class="xref" href="runtime-config-connection.html#GUC-MAX-CONNECTIONS">max_connections</a>の数までの接続を同時に有効にすることができます。
有効な接続数が<code class="varname">max_connections</code>から<code class="varname">superuser_reserved_connections</code>を差し引いた数以上のときは、新規接続はスーパーユーザのみが許可され、新たなレプリケーション接続は受け入れられません。
       </p><p>       
       デフォルトの値は3です。
この値は <code class="varname">max_connections</code>での値より小さくなくてはなりません。
このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-UNIX-SOCKET-DIRECTORIES"><span class="term"><code class="varname">unix_socket_directories</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.2.2.5.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
サーバがクライアントアプリケーションからの接続要求を監視するUnixドメインソケットのディレクトリを指定します。
複数ソケットはコンマで区切られた複数ディレクトリをリストすることで作成できます。
項目間の空白文字は無視されます。
ディレクトリ名に空白文字もしくはコンマを使用する必要がある場合、ディレクトリ名を二重引用符で括ります。
空の値はいかなるUnixドメインソケットも監視しないようにします。
この場合、TCP/IPソケットのみがサーバとの接続に使用されます。
デフォルト値は通常<code class="filename">/tmp</code>ですが、ビルド時に変更できます。
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>       
<code class="literal">.s.PGSQL.<em class="replaceable"><code>nnnn</code></em></code>という名前のソケットファイル（<em class="replaceable"><code>nnnn</code></em>はポート番号）のほかに、<code class="literal">.s.PGSQL.<em class="replaceable"><code>nnnn</code></em>.lock</code>というの通常ファイルがそれぞれの<code class="varname">unix_socket_directories</code>ディレクトリの中に作成されます。
いずれのファイルも手作業で削除してはいけません。
       </p><p>Windowsでは、Unixドメインソケットがありませんので、このパラメータは無関係です。
       </p></dd><dt id="GUC-UNIX-SOCKET-GROUP"><span class="term"><code class="varname">unix_socket_group</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.2.2.6.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
Unixドメインソケット（複数も）を所有するグループを設定します（ソケットを所有するユーザは常にサーバを起動するユーザです）。
<code class="varname">unix_socket_permissions</code>パラメータとの組合せで、Unixドメインソケット接続の追加的アクセス管理機構として使うことができます。
デフォルトでは空文字列で、サーバユーザのデフォルトグループを使用します。
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>       
Windowsでは、Unixドメインソケットがありませんので、このパラメータは無関係です。
       </p></dd><dt id="GUC-UNIX-SOCKET-PERMISSIONS"><span class="term"><code class="varname">unix_socket_permissions</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.7.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
Unixドメインソケット（複数も）のアクセスパーミッションを設定します。
Unixドメインソケットは通常のUnixファイルシステムパーミッション設定の一式を使用します。
パラメータ値は、<code class="function">chmod</code>および<code class="function">umask</code>システムコールが受け付ける数値形式での指定を想定しています。
（通常使われる8進数形式を使用するのであれば、<code class="literal">0</code>（ゼロ）で始まらなければなりません。）
       </p><p>デフォルトのパーミッションは、誰でも接続できる<code class="literal">0777</code>になっています。
変更するならば<code class="literal">0770</code>（ユーザとグループのみです。<code class="varname">unix_socket_group</code>も参照してください）や<code class="literal">0700</code>（ユーザのみ）が適切です。
（Unixドメインソケットでは書き込み権限だけが問題になるため、読み込みや実行のパーミッションを設定または解除する意味はありません。）
       </p><p>       
このアクセス制御機構は <a class="xref" href="client-authentication.html" title="Chapter 20. クライアント認証">Chapter 20</a>で記述されたものとは別個のものです。
       </p><p>       
このパラメータはサーバ起動時のみ設定可能です。
       </p><p>       
このパラメータはSolaris 10の時点でのSolarisなど、ソケットのパーミッションを完全に無視するシステムでは無関係です。
こうしたシステムでは、制限したいユーザだけが検索パーミッションを持つディレクトリを<code class="varname">unix_socket_directories</code>で指すようにすることによって同じような効果を得ることができます。
Windowsでも、Unixドメインソケットがありませんので、このパラメータは無関係です。
       </p></dd><dt id="GUC-BONJOUR"><span class="term"><code class="varname">bonjour</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.6.2.2.8.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       <span class="productname">Bonjour</span>によりサーバの存在を公表することを可能にします。デフォルトはoffです。このパラメータはサーバ起動時のみ設定可能です。
       </p></dd><dt id="GUC-BONJOUR-NAME"><span class="term"><code class="varname">bonjour_name</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.2.2.9.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       <span class="productname">Bonjour</span>サービス名を指定します。
このパラメータが空文字列<code class="literal">''</code>（デフォルトです）に設定されていると、コンピュータ名が使用されます。
サーバが<span class="productname">Bonjour</span>サポート付でコンパイルでされていない場合は無視されます。
このオプションはサーバ起動時のみに設定可能です。
       </p></dd><dt id="GUC-TCP-KEEPALIVES-IDLE"><span class="term"><code class="varname">tcp_keepalives_idle</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.10.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
クライアントとのやり取りがなくなった後、TCPがkeepaliveパケットをクライアントに送信するまでの時間を秒単位で指定します。
0の場合はシステムのデフォルト値を使用します。
このパラメータは<code class="symbol">TCP_KEEPIDLE</code>または同等のソケットオプションをサポートするシステムと、Windowsでのみサポートされます。
その他のシステムではゼロでなければなりません。
Unixドメインソケット経由で接続されたセッションでは、このパラメータは無視され、常にゼロとして読み取られます。
       </p><div class="note"><h3 class="title">Note</h3><p>         
          Windowsでは値0はこのパラメータを2時間に設定します。なぜなら、Windowsはシステムデフォルト値を読む手段を提供していないからです。
        </p></div></dd><dt id="GUC-TCP-KEEPALIVES-INTERVAL"><span class="term"><code class="varname">tcp_keepalives_interval</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.11.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
        TCPのkeepaliveメッセージに対してクライアントから応答がない場合に、再送を行うまでの時間を秒単位で指定します。
        0の場合はシステムのデフォルト値を使用します。
このパラメータは<code class="symbol">TCP_KEEPINTVL</code>または同等のソケットオプションをサポートするシステムと、Windowsでのみサポートされます。
その他のシステムではゼロでなければなりません。
Unixドメインソケット経由で接続されたセッションでは、このパラメータは無視され、常にゼロとして読み取られます。
       </p><div class="note"><h3 class="title">Note</h3><p>         Windowsでは値0はこのパラメータを1秒に設定します。なぜなら、Windowsはシステムデフォルト値を読む手段を提供していないからです。
        </p></div></dd><dt id="GUC-TCP-KEEPALIVES-COUNT"><span class="term"><code class="varname">tcp_keepalives_count</code> (<code class="type">integer</code>)
      <a id="id-1.6.6.6.2.2.12.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
サーバのクライアントへの接続が切れたと判断されるまでのTCP keepaliveの数を指定します。
0の場合はシステムのデフォルト値を使用します。
このパラメータは<code class="symbol">TCP_KEEPCNT</code>または同等のソケットオプションをサポートするシステムでのみサポートされます。
その他のシステムではゼロでなければなりません。
Unixドメインソケット経由で接続されたセッションでは、このパラメータは無視され、常にゼロとして読み取られます。
       </p><div class="note"><h3 class="title">Note</h3><p>         
          このパラメータはWindowsではサポートされておらず、ゼロでなければなりません。
        </p></div></dd></dl></div></div><div class="sect2" id="RUNTIME-CONFIG-CONNECTION-SECURITY"><div class="titlepage"><div><div><h3 class="title">19.3.2. セキュリティと認証</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-AUTHENTICATION-TIMEOUT"><span class="term"><code class="varname">authentication_timeout</code> (<code class="type">integer</code>)
      
      <a id="id-1.6.6.6.3.2.1.1.3" class="indexterm"></a>
      
      <a id="id-1.6.6.6.3.2.1.1.4" class="indexterm"></a>
      <a id="id-1.6.6.6.3.2.1.1.5" class="indexterm"></a>
      </span></dt><dd><p>       
       秒単位による、クライアント認証を完了するまでの最大時間です。
もし、この時間内に自称クライアントが認証プロトコルを完了しない場合、サーバは接続を閉じます。
これはハングしたクライアントが接続を永久に占有することを防ぎます。
デフォルトは1分（<code class="literal">1m</code>）です。
このパラメータは<code class="filename">postgresql.conf</code>ファイル、またはサーバのコマンドラインでのみ設定可能です。
       </p></dd><dt id="GUC-SSL"><span class="term"><code class="varname">ssl</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.6.3.2.2.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
<acronym class="acronym">SSL</acronym>による接続を有効にします。
これを使用する前に<a class="xref" href="ssl-tcp.html" title="18.9. SSLによる安全なTCP/IP接続">Section 18.9</a>をお読みください。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは<code class="literal">off</code>です。
       </p></dd><dt id="GUC-SSL-CA-FILE"><span class="term"><code class="varname">ssl_ca_file</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.3.1.3" class="indexterm"></a>
      </span></dt><dd><p>SSLサーバ認証局（CA）が入っているファイル名を設定します。
相対パスの場合は、データディレクトリからの相対パスになります。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは空で、この場合CAファイルは読み込まれず、クライアントのサーバ検証は行われません。
       </p><p>以前のPostgreSQLリリースでは、このファイルは <code class="filename">root.crt</code> としてハードコードされていました。
       </p></dd><dt id="GUC-SSL-CERT-FILE"><span class="term"><code class="varname">ssl_cert_file</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.4.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
SSLサーバ証明書が入っているファイル名を設定します。
相対パスの場合は、データディレクトリからの相対パスになります。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは <code class="filename">server.crt</code> です。
       </p></dd><dt id="GUC-SSL-CRL-FILE"><span class="term"><code class="varname">ssl_crl_file</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.5.1.3" class="indexterm"></a>
      </span></dt><dd><p>SSLサーバ証明書失効リスト（CRL）が入っているファイル名を設定します。
相対パスの場合は、データディレクトリからの相対パスになります。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは空で、この場合CRLファイルは読み込まれません。
       </p><p>（以前のPostgreSQLリリースでは、このファイルは <code class="filename">root.crl</code> としてハードコードされていました。）
       </p></dd><dt id="GUC-SSL-KEY-FILE"><span class="term"><code class="varname">ssl_key_file</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.6.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
SSLサーバの秘密鍵が入っているファイル名を設定します。
相対パスの場合は、データディレクトリからの相対パスになります。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは <code class="filename">server.key</code> です。
       </p></dd><dt id="GUC-SSL-CIPHERS"><span class="term"><code class="varname">ssl_ciphers</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.7.1.3" class="indexterm"></a>
      </span></dt><dd><p>セキュアな接続で使用できる<acronym class="acronym">SSL</acronym>暗号スイートのリストを指定します。
設定構文と使用可能な値のリストについては<span class="application">OpenSSL</span>パッケージの
<span class="citerefentry"><span class="refentrytitle">ciphers</span></span>マニュアルをご覧ください。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルト値は<code class="literal">HIGH:MEDIUM:+3DES:!aNULL</code>です。
特別なセキュリティ要件でなければ通常これが適当です。
       </p><p>デフォルト値の説明:
        </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">HIGH</code></span></dt><dd><p><code class="literal">HIGH</code>グループ(たとえばAES, Camellia, 3DES)を使用する暗号スイート
           </p></dd><dt><span class="term"><code class="literal">MEDIUM</code></span></dt><dd><p><code class="literal">MEDIUM</code>グループ(たとえば RC4, SEED)を使用する暗号スイート
           </p></dd><dt><span class="term"><code class="literal">+3DES</code></span></dt><dd><p>OpenSSLの<code class="literal">HIGH</code>に対するデフォルトの並び順には問題があります。
3DESがAES128より高いとしているからです。
3DESはAES128よりもセキュアではなく、またずっと遅いので、これは間違っています。
<code class="literal">+3DES</code>ではそれを他のすべての<code class="literal">HIGH</code>と<code class="literal">MEDIUM</code>暗号よりも後に位置づけます。
           </p></dd><dt><span class="term"><code class="literal">!aNULL</code></span></dt><dd><p>認証を行わない無名暗号スイートを無効にします。
そういった暗号スイートは中間者攻撃に対して脆弱で、使用すべきではありません。
           </p></dd></dl></div><p>
       </p><p>OpenSSLのバージョンにより、利用可能な暗号スイートの詳細は異なります。
<code class="literal">openssl ciphers -v 'HIGH:MEDIUM:+3DES:!aNULL'</code>
コマンドを使って現在インストールされている<span class="application">OpenSSL</span>のバージョンに関する詳細情報を得てください。
ここで得られるリストは、サーバキータイプにより実行時にフィルターされることに注意してください。
       </p></dd><dt id="GUC-SSL-PREFER-SERVER-CIPHERS"><span class="term"><code class="varname">ssl_prefer_server_ciphers</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.6.3.2.8.1.3" class="indexterm"></a>
      </span></dt><dd><p>サーバのSSL暗号設定をクライアントに優先して使うかどうかを指定します。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルトは<code class="literal">true</code>です。
       </p><p>        古いバージョンのPostgreSQLにはこの設定がなく、常にクライアントの設定を使います。
        この設定は、主に古いバージョンとの互換性のために設けられています。
        通常サーバの設定に従うほうが良いです。大抵の場合、サーバはより適切に設定されているからです。
       </p></dd><dt id="GUC-SSL-ECDH-CURVE"><span class="term"><code class="varname">ssl_ecdh_curve</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.9.1.3" class="indexterm"></a>
      </span></dt><dd><p><acronym class="acronym">ECDH</acronym>キー交換で使われる曲線の名前を指定します。
接続するすべてのクライアントがこの設定をサポートしている必要があります。
サーバの楕円曲線キーで使用されるのと同じ曲線である必要はありません。
このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
デフォルト値は<code class="literal">prime256v1</code>です。
       </p><p>        OpenSSLはよく使われる曲線に名前を付けています。
        <code class="literal">prime256v1</code> (NIST P-256),
        <code class="literal">secp384r1</code> (NIST P-384),
        <code class="literal">secp521r1</code> (NIST P-521).
        利用できる曲線の完全なリストは<code class="command">openssl ecparam -list_curves</code>で得られます。ただし、<acronym class="acronym">TLS</acronym>ではこのすべてが利用できるわけではありません。
       </p></dd><dt id="GUC-PASSWORD-ENCRYPTION"><span class="term"><code class="varname">password_encryption</code> (<code class="type">enum</code>)
      <a id="id-1.6.6.6.3.2.10.1.3" class="indexterm"></a>
      </span></dt><dd><p><a class="xref" href="sql-createrole.html" title="CREATE ROLE"><span class="refentrytitle">CREATE ROLE</span></a>もしくは<a class="xref" href="sql-alterrole.html" title="ALTER ROLE"><span class="refentrytitle">ALTER ROLE</span></a>でパスワードが指定されている場合、このパラメータはパスワードを暗号化するアルゴリズムを決定します。
デフォルトは<code class="literal">md5</code>で、これはパスワードをMD5ハッシュで格納します。
（<code class="literal">on</code>も受け付けます。これは<code class="literal">md5</code>の別名です。）
このパラメータを<code class="literal">scram-sha-256</code>とすると、パスワードをSCRAM-SHA-256で暗号化します。
       </p><p>古いクライアントではSCRAM認証機構がサポートされておらず、SCRAM-SHA-256で暗号化されたパスワードは使えないかもしれないことに注意してください。
詳細は、<a class="xref" href="auth-methods.html#AUTH-PASSWORD" title="20.3.2. パスワード認証">Section 20.3.2</a>をご覧ください。
       </p></dd><dt id="GUC-SSL-DH-PARAMS-FILE"><span class="term"><code class="varname">ssl_dh_params_file</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.11.1.3" class="indexterm"></a>
      </span></dt><dd><p>いわゆる短命DH系SSL暗号で使用するディフィー・ヘルマンパラメータを格納するファイル名を指定します。
デフォルトは空で、この場合はコンパイル時に決められたデフォルトのDHパラメータが使用されます。
攻撃者が、よく知られたコンパイル時設定のDHパラメータを解読しようとしている場合には、カスタムDHパラメータを使うことでその危険性を低減できます。
<code class="command">openssl dhparam -out dhparams.pem 2048</code>を使って、独自のDHパラメータファイルを作ることができます。
       </p><p>このパラメータは、<code class="filename">postgresql.conf</code>ファイルか、サーバのコマンドラインでのみ設定可能です。
       </p></dd><dt id="GUC-KRB-SERVER-KEYFILE"><span class="term"><code class="varname">krb_server_keyfile</code> (<code class="type">string</code>)
      <a id="id-1.6.6.6.3.2.12.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       Kerberosサーバの鍵ファイルの場所を設定します。詳細は<a class="xref" href="auth-methods.html#GSSAPI-AUTH" title="20.3.3. GSSAPI認証">Section 20.3.3</a>を参照してください。
このパラメータは<code class="filename">postgresql.conf</code>ファイル、またはサーバのコマンドラインでのみ設定可能です。
       </p></dd><dt id="GUC-KRB-CASEINS-USERS"><span class="term"><code class="varname">krb_caseins_users</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.6.3.2.13.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       GSSAPIのユーザ名が大文字小文字を区別すべきかの設定をします。
デフォルトは<code class="literal">off</code>（大文字小文字を区別する）です。
このパラメータは<code class="filename">postgresql.conf</code>ファイル、またはサーバのコマンドラインでのみ設定可能です。
       </p></dd><dt id="GUC-DB-USER-NAMESPACE"><span class="term"><code class="varname">db_user_namespace</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.6.3.2.14.1.3" class="indexterm"></a>
      </span></dt><dd><p>       
       このパラメータはデータベース毎のユーザ名を可能にします。
デフォルトではオフです。
このパラメータは<code class="filename">postgresql.conf</code>ファイル内、またはサーバのコマンドラインのみで設定可能です。
       </p><p>       
これがオンの場合、<em class="replaceable"><code>username@dbname</code></em>の様にしてユーザを作成しなければなりません。<em class="replaceable"><code>username</code></em>が接続中のクライアントより渡された時、 <code class="literal">@</code>およびデータベース名がユーザ名に付加され、そのデータベース特有のユーザ名をサーバが見に行きます。SQL環境下で<code class="literal">@</code>を含む名前のユーザを作成する場合、そのユーザ名は引用符で括られなければならないことに注意してください。
       </p><p>       
       このパラメータを有効にしていても通常の広域ユーザを作成することができます。
クライアントにユーザ名を指定する時に、たとえば<code class="literal">joe@</code>のように単に<code class="literal">@</code>を付け加えてください。<code class="literal">@</code>はサーバがユーザ名を検索する以前に取り去られます。
       </p><p>       
       <code class="varname">db_user_namespace</code>はクライアントとサーバのユーザ名の表示を区別することができます。
認証検査は常にサーバのユーザ名で行われるので、認証方式はクライアントのではなくサーバのユーザ名で構成されなければなりません。
<code class="literal">md5</code>では、クライアントおよびサーバの両方でユーザ名をソルトとして使用しますので、<code class="literal">md5</code>を<code class="varname">db_user_namespace</code>と一緒に使用することはできません。
       </p><div class="note"><h3 class="title">Note</h3><p>       
        この機能は完全な解決策が見つかるまでの暫定的な手段です。見つかった時点でこのオプションは削除されます。
        </p></div></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-file-locations.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-resource.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">19.2. ファイルの場所 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 19.4. 資源の消費</td></tr></table></div></body></html>