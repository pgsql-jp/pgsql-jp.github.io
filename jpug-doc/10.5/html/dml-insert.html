<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.1. データの挿入</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="dml.html" title="Chapter 6. データ操作" /><link rel="next" href="dml-update.html" title="6.2. データの更新" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">6.1. データの挿入</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="dml.html" title="Chapter 6. データ操作">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="dml.html" title="Chapter 6. データ操作">Up</a></td><th width="60%" align="center">Chapter 6. データ操作</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="dml-update.html" title="6.2. データの更新">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DML-INSERT"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.1. データの挿入</h2></div></div></div><a id="id-1.5.5.3.2" class="indexterm"></a><a id="id-1.5.5.3.3" class="indexterm"></a><p>テーブルは、作成時にはデータを含んでいません。
データベースを利用価値のあるものにするには、まずデータを挿入する必要があります。
概念的には、データは一度に1行ずつ挿入されます。
もちろんユーザは複数行を挿入することもできますが、1行未満を挿入することはできません。
列の値が一部しかわかっていない場合でも、1行全体を作成しなければなりません。
  </p><p>新規の行を作成するには、<a class="xref" href="sql-insert.html" title="INSERT"><span class="refentrytitle">INSERT</span></a>コマンドを使用します。このコマンドは、テーブル名と列の値を必要とします。
例えば、<a class="xref" href="ddl.html" title="Chapter 5. データ定義">Chapter 5</a>のproductsテーブルの例で考えてみましょう。
</p><pre class="programlisting">CREATE TABLE products (
    product_no integer,
    name text,
    price numeric
);</pre><p>
行を挿入するためのコマンド例は以下のようになります。
</p><pre class="programlisting">INSERT INTO products VALUES (1, 'Cheese', 9.99);</pre><p>
データ値は、テーブル内で列が存在する順序に従ってカンマで区切って列挙されています。
通常、データ値はリテラル（定数）ですが、スカラ式も使用できます。
  </p><p>上記の構文には、テーブル内の列の順序を知っていなければならないという欠点があります。
これを避けるには、列を明示的に列挙する方法があります。
例えば、以下の2つのどちらのコマンドでも上記のコマンドと同等の効果が得られます。
</p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99);
INSERT INTO products (name, price, product_no) VALUES ('Cheese', 9.99, 1);</pre><p>
多くのユーザは常に列名を列挙する方法が優れていると考えています。
  </p><p>値がわからない列については、省略することができます。
省略した列には、デフォルト値が挿入されます。
以下に例を示します。
</p><pre class="programlisting">INSERT INTO products (product_no, name) VALUES (1, 'Cheese');
INSERT INTO products VALUES (1, 'Cheese');</pre><p>
後者は<span class="productname">PostgreSQL</span>の拡張機能です。
これによって、列には左から順に指定されただけの値が挿入され、残りにはデフォルト値が挿入されます。
  </p><p>明確にするため、列ごと、あるいは行全体についてデフォルト値を明示的に要求することもできます。
</p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', DEFAULT);
INSERT INTO products DEFAULT VALUES;</pre><p>
  </p><p>単一コマンドで複数行を挿入することができます。
</p><pre class="programlisting">INSERT INTO products (product_no, name, price) VALUES
    (1, 'Cheese', 9.99),
    (2, 'Bread', 1.99),
    (3, 'Milk', 2.99);</pre><p>
  </p><p>また、問い合わせの結果（０行かも、１行かも、複数行かもしれない）を挿入することもできます。
</p><pre class="programlisting">INSERT INTO products (product_no, name, price)
  SELECT product_no, name, price FROM new_products
    WHERE release_date = 'today';</pre><p>
これにより、挿入する行を計算するためにSQLの問い合わせ機構（<a class="xref" href="queries.html" title="Chapter 7. 問い合わせ">Chapter 7</a>）の全機能が提供されます。
  </p><div class="tip"><h3 class="title">Tip</h3><p>一度に大量のデータを挿入する場合は<a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a>コマンドの使用を検討してください。
<a class="xref" href="sql-insert.html" title="INSERT"><span class="refentrytitle">INSERT</span></a>コマンドほどの柔軟性はありませんが、より効率的です。
大量のデータをロードする性能を向上することについて、詳細は<a class="xref" href="populate.html" title="14.4. データベースへのデータ投入">Section 14.4</a>を参照してください。
   </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dml.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="dml.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="dml-update.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 6. データ操作 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6.2. データの更新</td></tr></table></div></body></html>