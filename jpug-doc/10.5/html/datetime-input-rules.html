<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>B.1. 日付/時刻入力の解釈</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="datetime-appendix.html" title="Appendix B. 日付/時刻のサポート" /><link rel="next" href="datetime-keywords.html" title="B.2. 日付/時刻キーワード" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">B.1. 日付/時刻入力の解釈</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="datetime-appendix.html" title="Appendix B. 日付/時刻のサポート">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="datetime-appendix.html" title="Appendix B. 日付/時刻のサポート">Up</a></td><th width="60%" align="center">Appendix B. 日付/時刻のサポート</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="datetime-keywords.html" title="B.2. 日付/時刻キーワード">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DATETIME-INPUT-RULES"><div class="titlepage"><div><div><h2 class="title" style="clear: both">B.1. 日付/時刻入力の解釈</h2></div></div></div><p>日付/時刻データ型は全て以下の手順で解読されます。
   </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>入力文字列をトークンに分割し、そしてそれぞれのトークンを文字列、時刻、時間帯、または数値というように分類します。
     </p><ol type="a" class="substeps"><li class="step"><p>数値トークンにコロン（<code class="literal">:</code>）が含まれている場合は、時刻文字列です。
そこに続く全ての数字とコロンを含みます。
       </p></li><li class="step"><p>数値トークンにハイフン（<code class="literal">-</code>）、スラッシュ（<code class="literal">/</code>）、または2つ以上のドット（<code class="literal">.</code>）が含まれている場合は、テキストの月名がある日付文字列です。
日付トークンがすでに現れている場合は代わりに、時間帯名として解釈されます（例えば<code class="literal">America/New_York</code>）。
       </p></li><li class="step"><p>トークンが数値だけの場合、それは単項、もしくはISO 8601の連結形式の日付（例：1999年1月13日を示す<code class="literal">19990113</code>）、あるいは時刻（例：14:15:16を示す<code class="literal">141516</code>）のいずれかです。
       </p></li><li class="step"><p>トークンがプラス記号（<code class="literal">+</code>）あるいはマイナス記号（<code class="literal">-</code>）で始まっている場合は、数値形式の時間帯フィールドか特殊なフィールドです。
       </p></li></ol></li><li class="step"><p>もしトークンがテキスト文字列の場合、以下のように可能性のある文字列と照合されます。
     </p><ol type="a" class="substeps"><li class="step"><p>時間帯短縮形としてトークンをテーブルからバイナリ検索します。
       </p></li><li class="step"><p>探索できなかった場合は同様にそのトークンに対し特殊文字（たとえば<code class="literal">today</code>）、曜日（たとえば<code class="literal">Thursday</code>）、月（たとえば<code class="literal">January</code>）、ノイズ（たとえば<code class="literal">at</code>、<code class="literal">on</code>）に一致するかどうか、参照テーブルにバイナリ検索をかけます。
       </p></li><li class="step"><p>それでも探し出せなかった場合、エラーを返します。
       </p></li></ol></li><li class="step"><p>トークンが数値あるいは数値フィールドの場合を以下に示します。
     </p><ol type="a" class="substeps"><li class="step"><p>トークンが8桁または6桁、かつ、以前に他のどのような日付フィールドも読まれていない場合は、<span class="quote">“<span class="quote">連結された日付</span>”</span>（例えば、<code class="literal">19990118</code>または<code class="literal">990118</code>）として解釈されます。
その解釈方法は<code class="literal">YYYYMMDD</code>または<code class="literal">YYMMDD</code>です。
       </p></li><li class="step"><p>もしトークンが3桁で年が既に読み込まれている場合は年内の経過日数と解釈されます。
       </p></li><li class="step"><p>4桁または6桁の場合で年が既に読み込まれている時は時刻（<code class="literal">HHMM</code>または<code class="literal">HHMMSS</code>）と解釈されます。
       </p></li><li class="step"><p>3桁以上の場合、かつ、どの日付フィールドもまだ見つかっていない場合は年と解釈されます
（この場合、残る日付フィールドの順序は強制的にyy-mm-ddと解釈されます）。
       </p></li><li class="step"><p>さもなければ、日付フィールドの順序は、<code class="varname">DateStyle</code>の設定mm-dd-yy、dd-mm-yy、yy-mm-ddに従うものと仮定されます。
月や月内の日のフィールドが範囲外であれば、エラーになります。
       </p></li></ol></li><li class="step"><p>もしBCが指定された場合は内部格納用に年を負の数にして1を加えます
（グレゴリオ暦にはゼロ年がないので、数値的には1BC（紀元前1年）がゼロ年になります）。
     </p></li><li class="step"><p>BCが指定されず年フィールドの長さが2桁の場合、年は4桁になるよう調整されます。
そのフィールドが70未満の場合は2000が加えられますが、その他の場合には1900が加えられます。

      </p><div class="tip"><h3 class="title">Tip</h3><p>（例えば、西暦99年を<code class="literal">0099</code>のように）グレゴリオ暦の西暦元年から99年までは、ゼロを前に付加して4桁で入力することができます。
       </p></div><p>
     </p></li></ol></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="datetime-appendix.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="datetime-appendix.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="datetime-keywords.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix B. 日付/時刻のサポート </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> B.2. 日付/時刻キーワード</td></tr></table></div></body></html>