<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>J.2. ツールセット</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="docguide-docbook.html" title="J.1. DocBook" /><link rel="next" href="docguide-build.html" title="J.3. 文書の構築" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">J.2. ツールセット</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="docguide-docbook.html" title="J.1. DocBook">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="docguide.html" title="Appendix J. ドキュメント作成">Up</a></td><th width="60%" align="center">Appendix J. ドキュメント作成</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="docguide-build.html" title="J.3. 文書の構築">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="DOCGUIDE-TOOLSETS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">J.2. ツールセット</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="docguide-toolsets.html#id-1.11.11.5.5">J.2.1. Fedora、RHEL、およびその派生版でのインストール</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#id-1.11.11.5.6">J.2.2. FreeBSDでのインストール</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#id-1.11.11.5.7">J.2.3. Debianパッケージ</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#id-1.11.11.5.8">J.2.4. macOS</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#id-1.11.11.5.9">J.2.5. ソースから手作業でインストール</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-CONFIGURE">J.2.6. <code class="command">configure</code>による検出</a></span></dt></dl></div><p>文書を処理する過程で次のようなツールが使われます。
そのうちのいくつかは付記されているように省略しても構いません。

   </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/docbook/" target="_top">DocBook DTD</a></span></dt><dd><p>DocBookそのものの定義です。
現在はバージョン4.2を使用しており、これより古いまたは新しいバージョンは使用できません。
DocBook DTDの<acronym class="acronym">SGML</acronym>版<acronym class="acronym">とXML</acronym>版が必要です。
これらはたいてい別々のパッケージにあります。
      </p></dd><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 character entities</a></span></dt><dd><p>DocBook SGMLに必要なものですが、ISOで保守されているため別に配布されています。
      </p></dd><dt><span class="term"><a class="ulink" href="https://github.com/docbook/wiki/wiki/DocBookXslStylesheets" target="_top">DocBook XSL Stylesheets</a></span></dt><dd><p>DocBookのソースを<acronym class="acronym">HTML</acronym>のような他のフォーマットに変換する処理手順が含まれています。
      </p><p>現在最低必要なバージョンは1.77.0ですが、最良の結果を得るために入手可能な最新の版を使うことをお勧めします。
      </p></dd><dt><span class="term"><a class="ulink" href="http://openjade.sourceforge.net" target="_top">OpenSP</a></span></dt><dd><p><acronym class="acronym">SGML</acronym>を処理する基本パッケージです。
<acronym class="acronym">DSSSL</acronym>プロセッサのOpenJadeは最早必要ではなく、SGMLからXMLに変換するためにOpenSPパッケージだけが必要であることに注意してください。
      </p></dd><dt><span class="term"><code class="command">xmllint</code>のための<a class="ulink" href="http://xmlsoft.org/" target="_top">Libxml2</a></span></dt><dd><p>このライブラリとそこに含まれる<code class="command">xmllint</code>ツールはXMLを処理するのに使われます。
PostgreSQLのコードを構築する時にも使われますので、多くの開発者はすでに<span class="application">Libxml2</span>をインストールしているでしょう。
しかしながら、<code class="command">xmllint</code>は別のサブパッケージからインストールする必要があるかもしれないことに注意してください。
      </p></dd><dt><span class="term"><code class="command">xsltproc</code>のための<a class="ulink" href="http://xmlsoft.org/XSLT/" target="_top">Libxslt</a></span></dt><dd><p><code class="command">xsltproc</code>はXSLTプロセッサ、すなわち、XSLTスタイルシートを使ってXMLを他のフォーマットに変換するプログラムです。
      </p></dd><dt><span class="term"><a class="ulink" href="https://xmlgraphics.apache.org/fop/" target="_top">FOP</a></span></dt><dd><p>これは変換、とりわけXMLからPDFへの変換のためのプログラムです。
      </p></dd></dl></div><p>
  </p><p>文書を作成するために必要な様々なツールのインストール方法についての経験をまとめました。
以下に記載します。
これらのツールは別にパッケージ化されて配布されていることも考えられます。
もしそのような配布物を見つけた場合はdocのメーリングリストに報告してください。
そのような情報をここに付け加えたいと思います。
  </p><p>必要なファイルはインターネットからダウンロードされ、ローカルにキャッシュされるので、DocBook XMLとDocBook XSLTスタイルシートをローカルにインストールせずに済ませることもできます。
オペレーティングシステムのパッケージで特にスタイルシートの古いバージョンしか提供されていない場合や、パッケージが全く利用できない場合には、実際、これが好ましい解決法でしょう。
詳細は<code class="command">xmllint</code>と<code class="command">xsltproc</code>の<code class="option">--nonet</code>オプションを参照してください。
  </p><div class="sect2" id="id-1.11.11.5.5"><div class="titlepage"><div><div><h3 class="title">J.2.1. Fedora、RHEL、およびその派生版でのインストール</h3></div></div></div><p>要求されるパッケージをインストールするには以下のようにしてください。
</p><pre class="programlisting">yum install docbook-dtds docbook-style-xsl fop libxslt opensp</pre><p>
   </p></div><div class="sect2" id="id-1.11.11.5.6"><div class="titlepage"><div><div><h3 class="title">J.2.2. FreeBSDでのインストール</h3></div></div></div><p>FreeBSDのドキュメントプロジェクトそのものがDocBookのヘビーユーザですから、FreeBSD上で使用できる文書作成用ツールの<span class="quote">“<span class="quote">ports</span>”</span>一式が揃っていることは驚くに当たりません。
FreeBSD上で文書を構築するには以下のportsが必要です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">textproc/docbook-sgml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xsl</code></p></li><li class="listitem"><p><code class="filename">textproc/dsssl-docbook-modular</code></p></li><li class="listitem"><p><code class="filename">textproc/libxslt</code></p></li><li class="listitem"><p><code class="filename">textproc/fop</code></p></li><li class="listitem"><p><code class="filename">textproc/opensp</code></p></li></ul></div><p>
   </p><p><code class="command">pkg</code>で必要なパッケージをインストールするには以下を使います。
</p><pre class="programlisting">pkg install docbook-sgml docbook-xml docbook-xsl fop libxslt opensp</pre><p>
   </p><p>提供されているMakefileはFreeBSDの<code class="command">make</code>用ではありませんので、<code class="filename">doc</code>ディレクトリから文書を作成するには<code class="command">gmake</code>を使うことが必要でしょう。
   </p><p>FreeBSDでの文書作成ツールについてのさらに詳しい情報は<a class="ulink" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/fdp-primer/tools.html" target="_top">FreeBSD Documentation Project's instructions</a>にあります。
   </p></div><div class="sect2" id="id-1.11.11.5.7"><div class="titlepage"><div><div><h3 class="title">J.2.3. Debianパッケージ</h3></div></div></div><p><span class="productname">Debian GNU/Linux</span>用の文書作成パッケージの一式が揃っています。
インストールには以下を使います。
</p><pre class="programlisting">apt-get install docbook docbook-xml docbook-xsl fop libxml2-utils opensp xsltproc</pre><p>
   </p></div><div class="sect2" id="id-1.11.11.5.8"><div class="titlepage"><div><div><h3 class="title">J.2.4. macOS</h3></div></div></div><p>MacPortsを使っているのであれば、以下のようにすれば設定されます。
</p><pre class="programlisting">sudo port install docbook-sgml-4.2 docbook-xml-4.2 docbook-xsl fop libxslt opensp</pre><p>
   </p></div><div class="sect2" id="id-1.11.11.5.9"><div class="titlepage"><div><div><h3 class="title">J.2.5. ソースから手作業でインストール</h3></div></div></div><p>DocBookツールを手作業でインストールするのは何かと複雑ですから、もし既にできているパッケージがあるならばそちらを使った方が良いでしょう。
ここでは、標準的なインストール手順として、一般的な機能以外を持たせない標準的な設定のみを説明します。
詳しいことはそれぞれのパッケージの文書と<acronym class="acronym">SGML</acronym>の入門資料を読んでください。
   </p><div class="sect3" id="id-1.11.11.5.9.3"><div class="titlepage"><div><div><h4 class="title">J.2.5.1. OpenSPのインストール</h4></div></div></div><p>OpenSPのインストールは、GNU形式の<code class="literal">./configure; make; make install</code>という構築手順で行います。
詳しいことはOpenSPソース配布物の中にあります。
要約すると次のようになります。
</p><pre class="synopsis">./configure --enable-default-catalog=/usr/local/etc/sgml/catalog
make
make install</pre><p>
<span class="quote">“<span class="quote">デフォルトカタログ</span>”</span>をどこに置いたか覚えておいてください。
後で必要になります。
そのままにしておいても構いませんが、後でOpenSPのプログラムを使用する時には<code class="envar">SGML_CATALOG_FILES</code>環境変数を設定してファイルの場所を指定する必要があります。
（既にOpenSPがインストールされていて残りのツール一式を別の場所にインストールしたい場合にはこの方法を使用する手があります。）
    </p></div><div class="sect3" id="id-1.11.11.5.9.4"><div class="titlepage"><div><div><h4 class="title">J.2.5.2. <span class="productname">DocBook</span> <acronym class="acronym">DTD</acronym>キットのインストール</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><a class="ulink" href="http://www.docbook.org/sgml/4.2/docbook-4.2.zip" target="_top">DocBook V4.2</a>を入手します。
      </p></li><li class="step"><p><code class="filename">/usr/local/share/sgml/docbook-4.2</code>ディレクトリを作成してそこに移動します。
（正確にこの場所でなくても構いませんが、ここで説明して行く流れの中では筋が通っているものです。）
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>mkdir /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong></pre><p>
      </p></li><li class="step"><p>アーカイブを伸長します。
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>unzip -a ...../docbook-4.2.zip</code></strong></pre><p>
（アーカイブは現在のディレクトリに伸長されます。）
      </p></li><li class="step"><p><code class="filename">/usr/local/share/sgml/catalog</code>ファイル（もしくはインストール時にjadeに指定したファイルに）に以下の1行を付け加える編集を行います。
</p><pre class="programlisting">CATALOG "docbook-4.2/docbook.cat"</pre><p>
      </p></li><li class="step"><p><a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 character entities archive</a>をダウンロードし、伸長してできたファイルをDocBookのファイルと同じディレクトリに置きます。
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>unzip ...../ISOEnts.zip</code></strong></pre><p>
      </p></li><li class="step"><p>DocBookとISOファイルを置いたディレクトリで以下のコマンドを実行します。
</p><pre class="programlisting">perl -pi -e 's/iso-(.*).gml/ISO\1/g' docbook.cat</pre><p>
（この操作によって、DocBookカタログファイルで使われる名称と実際のISO文字エンティティファイル間での重複が整理されます。）
      </p></li></ol></div></div></div><div class="sect2" id="DOCGUIDE-TOOLSETS-CONFIGURE"><div class="titlepage"><div><div><h3 class="title">J.2.6. <code class="command">configure</code>による検出</h3></div></div></div><p><span class="productname">PostgreSQL</span>本体のプログラムを構築した時のように、文書を構築する際に<code class="filename">configure</code>スクリプトを実行する必要があります。
実行が終わる近辺の次のような出力を確認してください。
</p><pre class="screen"><code class="computeroutput">checking for onsgmls... onsgmls
checking for DocBook V4.2... yes
checking for dbtoepub... dbtoepub
checking for xmllint... xmllint
checking for xsltproc... xsltproc
checking for osx... osx
checking for fop... fop</code></pre><p>
もし<code class="filename">onsgmls</code>あるいは<code class="filename">nsgmls</code>が見つからなかった場合には以降の試験の一部は飛ばされます。
<code class="filename">nsgmls</code>はOpenSPパッケージの一部です。
自動検出できなかった場合、環境変数<code class="envar">NSGMLS</code>を渡すことで、これらのプログラムの場所を指定することができます。
<span class="quote">“<span class="quote">DocBook V4.2</span>”</span>が見つからない場合はDocBook DTDキットをOpenSPが見つけられる場所に置かなかったか、もしくはカタログファイルが正しく設定されていません。
前述のインストレーションのヒントを参照してください。
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="docguide-docbook.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="docguide.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="docguide-build.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">J.1. DocBook </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> J.3. 文書の構築</td></tr></table></div></body></html>