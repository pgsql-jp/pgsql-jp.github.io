<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pg_ctl</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="app-pgcontroldata.html" title="pg_controldata" /><link rel="next" href="app-pgresetwal.html" title="pg_resetwal" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center"><span xmlns="http://www.w3.org/1999/xhtml" class="application">pg_ctl</span></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="app-pgcontroldata.html" title="pg_controldata">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="reference-server.html" title="PostgreSQLサーバアプリケーション">Up</a></td><th width="60%" align="center">PostgreSQLサーバアプリケーション</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5文書">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="app-pgresetwal.html" title="pg_resetwal">Next</a></td></tr></table><hr></hr></div><div class="refentry" id="APP-PG-CTL"><div class="titlepage"></div><a id="id-1.9.5.6.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle"><span class="application">pg_ctl</span></span></h2><p>pg_ctl — <span class="productname">PostgreSQL</span>サーバを初期化、起動、停止、制御する</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="id-1.9.5.6.4.1"><code class="command">pg_ctl</code>  <code class="option">init[db]</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-s</code>] [<code class="option">-o</code> <em class="replaceable"><code>initdb-options</code></em>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.2"><code class="command">pg_ctl</code>  <code class="option">start</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-l</code> <em class="replaceable"><code>filename</code></em>] [<code class="option">-W</code>] [<code class="option">-t</code> <em class="replaceable"><code>seconds</code></em>] [<code class="option">-s</code>] [<code class="option">-o</code> <em class="replaceable"><code>options</code></em>] [<code class="option">-p</code> <em class="replaceable"><code>path</code></em>] [<code class="option">-c</code>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.3"><code class="command">pg_ctl</code>  <code class="option">stop</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-m</code>
        <code class="option">s[mart]</code>  |   <code class="option">f[ast]</code>  |   <code class="option">i[mmediate]</code>  
   ] [<code class="option">-W</code>] [<code class="option">-t</code> <em class="replaceable"><code>seconds</code></em>] [<code class="option">-s</code>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.4"><code class="command">pg_ctl</code>  <code class="option">restart</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-m</code>
        <code class="option">s[mart]</code>  |   <code class="option">f[ast]</code>  |   <code class="option">i[mmediate]</code>  
   ] [<code class="option">-W</code>] [<code class="option">-t</code> <em class="replaceable"><code>seconds</code></em>] [<code class="option">-s</code>] [<code class="option">-o</code> <em class="replaceable"><code>options</code></em>] [<code class="option">-c</code>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.5"><code class="command">pg_ctl</code>  <code class="option">reload</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-s</code>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.6"><code class="command">pg_ctl</code>  <code class="option">status</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.7"><code class="command">pg_ctl</code>  <code class="option">promote</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-W</code>] [<code class="option">-t</code> <em class="replaceable"><code>seconds</code></em>] [<code class="option">-s</code>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.8"><code class="command">pg_ctl</code>  <code class="option">kill</code>   <em class="replaceable"><code>signal_name</code></em>   <em class="replaceable"><code>process_id</code></em> </p></div><p>Microsoft Windows上ではさらに</p><div class="cmdsynopsis"><p id="id-1.9.5.6.4.10"><code class="command">pg_ctl</code>  <code class="option">register</code>  [<code class="option">-D</code> <em class="replaceable"><code>datadir</code></em>] [<code class="option">-N</code> <em class="replaceable"><code>servicename</code></em>] [<code class="option">-U</code> <em class="replaceable"><code>username</code></em>] [<code class="option">-P</code> <em class="replaceable"><code>password</code></em>] [<code class="option">-S</code>
        <code class="option">a[uto]</code>  |   <code class="option">d[emand]</code>  
   ] [<code class="option">-e</code> <em class="replaceable"><code>source</code></em>] [<code class="option">-W</code>] [<code class="option">-t</code> <em class="replaceable"><code>seconds</code></em>] [<code class="option">-s</code>] [<code class="option">-o</code> <em class="replaceable"><code>options</code></em>]</p></div><div class="cmdsynopsis"><p id="id-1.9.5.6.4.11"><code class="command">pg_ctl</code>  <code class="option">unregister</code>  [<code class="option">-N</code> <em class="replaceable"><code>servicename</code></em>]</p></div></div><div class="refsect1" id="APP-PG-CTL-DESCRIPTION"><h2>説明</h2><p><span class="application">pg_ctl</span>は<span class="productname">PostgreSQL</span>データベースクラスタの初期化、<span class="productname">PostgreSQL</span>のデータベースサーバ（<a class="xref" href="app-postgres.html" title="postgres"><span class="refentrytitle"><span class="application">postgres</span></span></a>）を起動、停止、再起動する、あるいは稼働中のサーバの状態を表示するためのユーティリティです。
サーバは手動で起動することも可能ですが、<span class="application">pg_ctl</span>は、ログ出力のリダイレクトや、端末とプロセスグループの適切な分離などの作業を隠蔽してくれます。
さらにシャットダウン制御のための便利なオプションも提供します。
  </p><p><code class="option">init</code>または<code class="option">initdb</code>モードは<span class="productname">PostgreSQL</span>の新しいデータベースクラスタ、つまり、単一のサーバインスタンスで管理されるデータベースの集合を作成します。
このモードは<code class="command">initdb</code>コマンドを呼び出します。
詳しくは<a class="xref" href="app-initdb.html" title="initdb"><span class="refentrytitle">initdb</span></a>を参照して下さい。
  </p><p><code class="option">start</code>モードは、新しいサーバを起動します。
サーバはバックグラウンドで起動され、その標準入力は<code class="filename">/dev/null</code>（Windowsの場合は<code class="literal">nul</code>）に接続されます。
Unix系のシステムではデフォルトで、サーバの標準出力と標準エラーは<span class="application">pg_ctl</span>の標準出力に転送されます(標準エラー出力には転送されません）。
<span class="application">pg_ctl</span>の標準出力はファイルにリダイレクトするか、例えば<span class="application">rotatelogs</span>などのログローテーションプログラムのような別プロセスにパイプで渡すべきです。
こうしないと、<code class="command">postgres</code>はその出力を（バックグラウンドから）制御端末に書き出しますので、シェルのプロセスグループから切り離すことができません。
Windowsではデフォルトで、サーバの標準出力と標準エラーは端末に送信されます。
こうしたデフォルトの動作は<code class="option">-l</code>を用いてサーバの出力をログファイルに追加するように変更することができます。
<code class="option">-l</code>または出力のリダイレクトのどちらかを使用することを勧めます。
  </p><p><code class="option">stop</code>モードは、指定されたデータディレクトリで稼働しているサーバを停止（シャットダウン）します。
<code class="option">-m</code>オプションでは、3つの異なる停止方式を選択できます。
<span class="quote">“<span class="quote">smart</span>”</span>モードは、全てのクライアントが切断し、オンラインバックアップがあればそれが終了するまで待ちます。
サーバがホットスタンバイ状態の場合、すべてのクライアント接続が切断された後にリカバリとストリーミングレプリケーションは終了します。
<span class="quote">“<span class="quote">fast</span>”</span>モード（デフォルト）はクライアントが切断するまで待たず、かつ、実行中のオンラインバックアップを終了させます。
全ての実行中のトランザクションをロールバックし、クライアントとの接続を強制的に切断した後、サーバを停止します。
<span class="quote">“<span class="quote">immediate</span>”</span>モードは、クリーンアップ処理なしで、全てのサーバプロセスを即座に中断します。
これを選択すると、次回のサーバ起動時にクラッシュリカバリサイクルが始まります。
  </p><p><code class="option">restart</code>モードは、実質的にはstopを実行して、その後、startを実行します。
この時、<code class="command">postgres</code>のコマンドラインオプションを変更、またはサーバの再起動なしには変更できない設定ファイルオプションを変更することができます。
サーバ起動時に相対パスがコマンドラインから使用されていた場合、サーバ起動時と同じカレントディレクトリで<span class="application">pg_ctl</span>を実行しなければ、<code class="option">restart</code>が失敗する可能性があります。
  </p><p><code class="option">reload</code>モードは、単に<code class="command">postgres</code>サーバプロセスに<span class="systemitem">SIGHUP</span>シグナルを送り、（<code class="filename">postgresql.conf</code>、<code class="filename">pg_hba.conf</code>などの）設定ファイルの再読み込みを実行させます。
これにより、設定ファイルのオプションで完全なサーバ再起動を必要としないものについて、変更を反映させることができます。
  </p><p><code class="option">status</code>モードは指定したデータディレクトリでサーバが稼働しているかどうかを確認します。
稼働している場合はサーバの<acronym class="acronym">PID</acronym>と、サーバを起動する時に使われたコマンドラインオプションを表示します。
サーバが稼働していない場合、<span class="application">pg_ctl</span>は終了ステータス3を返します。
アクセス可能なデータディレクトリが指定されていない場合、<span class="application">pg_ctl</span>は終了ステータス4を返します。
  </p><p><code class="option">promote</code>モードは、指定したデータディレクトリで実行中のスタンバイサーバに、スタンバイモードを終了し、読み書きの操作を開始するように指示します。
  </p><p><code class="option">kill</code>モードは指定したプロセスにシグナルを送信します。
これは主に、組み込みの<span class="application">kill</span>コマンドがない<span class="productname">Microsoft Windows</span>で有用です。
サポートされているシグナル名の一覧を見るには<code class="literal">--help</code>を使ってください。
  </p><p><code class="option">register</code>モードは<span class="productname">PostgreSQL</span>サーバを<span class="productname">Microsoft Windows</span>上のシステムサービスとして登録します。
<code class="option">-S</code>オプションにより、<span class="quote">“<span class="quote">auto</span>”</span>（システムの起動時に自動的にサービスを開始する）と<span class="quote">“<span class="quote">demand</span>”</span>（要求に応じてサービスを開始する）のいずれかのサービス開始種別を選択できます。
  </p><p><code class="option">unregister</code>モードにより<span class="productname">Microsoft Windows</span>上のシステムサービスを登録解除することができます。
これは過去に<code class="option">register</code>コマンドによりなされた変更を元に戻します。
  </p></div><div class="refsect1" id="APP-PG-CTL-OPTIONS"><h2>オプション</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code><br /></span><span class="term"><code class="option">--core-files</code></span></dt><dd><p>実現可能なプラットフォームにおいて、サーバクラッシュ時にcoreファイルを生成できるように関連するソフトリソース制限を上げます。
障害が起きたサーバプロセスからスタックトレースを取得できますので、問題のデバッグや診断の際に有用です。
       </p></dd><dt><span class="term"><code class="option">-D <em class="replaceable"><code>datadir</code></em></code><br /></span><span class="term"><code class="option">--pgdata=<em class="replaceable"><code>datadir</code></em></code></span></dt><dd><p>データベース設定ファイルのファイルシステム上の場所を指定します。
このオプションが省略された場合、環境変数<code class="envar">PGDATA</code>が使われます。
       </p></dd><dt><span class="term"><code class="option">-l <em class="replaceable"><code>filename</code></em></code><br /></span><span class="term"><code class="option">--log=<em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>サーバログ出力を<em class="replaceable"><code>filename</code></em>に追記します。
そのファイルが存在しない場合は作成されます。
<span class="systemitem">umask</span>は077に設定されますので、他のユーザからのログファイルへのアクセスはデフォルトでは許可されません。
       </p></dd><dt><span class="term"><code class="option">-m <em class="replaceable"><code>mode</code></em></code><br /></span><span class="term"><code class="option">--mode=<em class="replaceable"><code>mode</code></em></code></span></dt><dd><p>停止（シャットダウン）モードを指定します。
<em class="replaceable"><code>mode</code></em>は<code class="literal">smart</code>、<code class="literal">fast</code>、<code class="literal">immediate</code>、もしくはこの3つのモード名の最初の1文字をとることができます。
このオプションが省略された時は<code class="literal">fast</code>がデフォルトとなります。
       </p></dd><dt><span class="term"><code class="option">-o <em class="replaceable"><code>options</code></em></code><br /></span><span class="term"><code class="option">--options=<em class="replaceable"><code>options</code></em></code></span></dt><dd><p><code class="command">postgres</code>コマンドに直接渡されるオプションを指定します。
<code class="option">-o</code>は複数回指定することができ、そこで指定されたすべてのオプションが渡されます。
       </p><p><em class="replaceable"><code>options</code></em>はそれが一つのグループとして渡されるようにするため、通常は単一引用符または二重引用符で括るべきです。
       </p></dd><dt><span class="term"><code class="option">-o <em class="replaceable"><code>initdb-options</code></em></code><br /></span><span class="term"><code class="option">--options=<em class="replaceable"><code>initdb-options</code></em></code></span></dt><dd><p><code class="command">initdb</code>コマンドに直接渡されるオプションを指定します。
<code class="option">-o</code>は複数回指定することができ、そこで指定されたすべてのオプションが渡されます。
       </p><p><em class="replaceable"><code>options</code></em>はそれが一つのグループとして渡されるようにするため、通常は単一引用符または二重引用符で括るべきです。
       </p></dd><dt><span class="term"><code class="option">-p <em class="replaceable"><code>path</code></em></code></span></dt><dd><p><code class="filename">postgres</code>の実行プログラムの位置を指定します。
デフォルトでは<code class="filename">postgres</code>の実行プログラムは<code class="command">pg_ctl</code>と同じディレクトリにあるものとみなされます。また、このディレクトリに存在しなければ、構築時に指定したインストールディレクトリが使われます。
このオプションは、何か異例なことをしていて<code class="filename">postgres</code>が見つからないというようなエラーが出ない限り、使う必要はありません。
       </p><p><code class="literal">init</code>モードでは、このオプションは同様に<code class="filename">initdb</code>実行プログラムの場所を指定します。
       </p></dd><dt><span class="term"><code class="option">-s</code><br /></span><span class="term"><code class="option">--silent</code></span></dt><dd><p>エラーメッセージのみを表示し、その他の情報を表示しません。
       </p></dd><dt><span class="term"><code class="option">-t <em class="replaceable"><code>seconds</code></em></code><br /></span><span class="term"><code class="option">--timeout=<em class="replaceable"><code>seconds</code></em></code></span></dt><dd><p>操作が完了するまで待機する最大の秒数を指定します（オプション<code class="option">-w</code>を参照）。
デフォルトは環境変数<code class="envar">PGCTLTIMEOUT</code>の値で、それが設定されていなければ60秒です。
       </p></dd><dt><span class="term"><code class="option">-V</code><br /></span><span class="term"><code class="option">--version</code></span></dt><dd><p><span class="application">pg_ctl</span>のバージョンを表示し、終了します。
        </p></dd><dt><span class="term"><code class="option">-w</code><br /></span><span class="term"><code class="option">--wait</code></span></dt><dd><p>操作が完了するのを待ちます。
これは<code class="literal">start</code>、<code class="literal">stop</code>、<code class="literal">restart</code>、<code class="literal">promote</code>、<code class="literal">register</code>のモードについてサポートされており、これらのモードについてのデフォルトです。
       </p><p>待機している場合、<code class="command">pg_ctl</code>は繰り返しサーバの<acronym class="acronym">PID</acronym>ファイルを確認し、確認と確認の間は少しの時間スリープします。
起動は、サーバが接続を受け付ける準備ができたことを<acronym class="acronym">PID</acronym>ファイルが示した時に、完了したとみなされます。
停止は、サーバが<acronym class="acronym">PID</acronym>ファイルを削除した時に、完了したとみなされます。
<code class="command">pg_ctl</code>は、起動もしくは停止が成功したかどうかに基づいて終了コードを返します。
       </p><p>操作がタイムアウト（オプション<code class="option">-t</code>参照）までに完了しなかった場合、<code class="command">pg_ctl</code>は非ゼロの終了コードで終了します。
しかし、その操作はバックグラウンドで実行し続け、最終的に成功するかもしれないことに注意してください。
       </p></dd><dt><span class="term"><code class="option">-W</code><br /></span><span class="term"><code class="option">--no-wait</code></span></dt><dd><p>操作が完了するのを待ちません。
オプション<code class="option">-w</code>の反対です。
       </p><p>待機が無効化されていると、要求された操作は実行されますが、それが成功したかどうかのフィードバックがなくなります。
その場合、サーバのログファイルや外部のモニタリングシステムを使って操作の進行状況や成功したかどうかを確認する必要があるでしょう。
       </p><p>PostgreSQLの以前のリリースでは、<code class="literal">stop</code>モードを除き、これがデフォルトでした。
       </p></dd><dt><span class="term"><code class="option">-?</code><br /></span><span class="term"><code class="option">--help</code></span></dt><dd><p><span class="application">pg_ctl</span>コマンドライン引数の説明を表示し、終了します。
       </p></dd></dl></div><p>指定されたオプションが有効ではあるが、指定の操作モードと関係ないものである場合、<span class="application">pg_ctl</span>はそれを無視します。
  </p><div class="refsect2" id="APP-PG-CTL-WINDOWS-OPTIONS"><h3>Windows用オプション</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-e <em class="replaceable"><code>source</code></em></code></span></dt><dd><p>Windowsのサービスとして実行する際に、イベントログへの出力用に<span class="application">pg_ctl</span>が使用するイベントソースの名前です。
デフォルトは<code class="literal">PostgreSQL</code>です。
これは<span class="application">pg_ctl</span>自体からのメッセージのみを制御することに注意してください。
サーバが起動した後は、<a class="xref" href="runtime-config-logging.html#GUC-EVENT-SOURCE">event_source</a>で指定したイベントソースが使用されます。
サーバが起動の非常に早い段階のパラメータが設定されるより前に障害を起こした場合は、デフォルトのイベントソース名の<code class="literal">PostgreSQL</code>を使用するかもしれません。
      </p></dd><dt><span class="term"><code class="option">-N <em class="replaceable"><code>servicename</code></em></code></span></dt><dd><p>登録するシステムサービスの名前です。
この名前は、システム名としても表示名としても使用されます。
デフォルトは<code class="literal">PostgreSQL</code>です。
      </p></dd><dt><span class="term"><code class="option">-P <em class="replaceable"><code>password</code></em></code></span></dt><dd><p>サービスを開始するユーザ用のパスワードです。
      </p></dd><dt><span class="term"><code class="option">-S <em class="replaceable"><code>start-type</code></em></code></span></dt><dd><p>システムサービスの起動種類です。
<em class="replaceable"><code>start-type</code></em>は<code class="literal">auto</code>、<code class="literal">demand</code>、またはこれら2単語の先頭の文字のいずれかです。
このオプションを省略した時は<code class="literal">auto</code>がデフォルトとなります。
      </p></dd><dt><span class="term"><code class="option">-U <em class="replaceable"><code>username</code></em></code></span></dt><dd><p>サービスを起動するユーザのユーザ名です。
ドメインユーザの場合は<code class="literal">DOMAIN\username</code>書式を使用してください。
      </p></dd></dl></div></div></div><div class="refsect1" id="id-1.9.5.6.7"><h2>環境</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="envar">PGCTLTIMEOUT</code></span></dt><dd><p>起動または終了が完了するまでに待機する秒数のデフォルトの最大値です。
設定されていない場合のデフォルトは60秒です。
     </p></dd><dt><span class="term"><code class="envar">PGDATA</code></span></dt><dd><p>デフォルトのデータディレクトリの場所です。
     </p></dd></dl></div><p>ほとんどの<code class="command">pg_ctl</code>のモードはデータディレクトリの位置を知っている必要があるため、<code class="envar">PGDATA</code>が設定されていないときは<code class="option">-D</code>オプションが必須です。
  </p><p>また、<code class="command">pg_ctl</code>は、他のほとんどの<span class="productname">PostgreSQL</span>ユーティリティと同様、<span class="application">libpq</span>でサポートされる環境変数を使用します（<a class="xref" href="libpq-envars.html" title="33.14. 環境変数">Section 33.14</a>を参照してください）。
  </p><p>サーバに影響を与える他の変数については<a class="xref" href="app-postgres.html" title="postgres"><span class="refentrytitle"><span class="application">postgres</span></span></a>を参照してください。
  </p></div><div class="refsect1" id="id-1.9.5.6.8"><h2>ファイル</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">postmaster.pid</code></span></dt><dd><p><span class="application">pg_ctl</span>は、データディレクトリのこのファイルを検査して、サーバが現在稼働中かどうかを決定します。
     </p></dd><dt><span class="term"><code class="filename">postmaster.opts</code></span></dt><dd><p>このファイルがデータディレクトリにあれば、<span class="application">pg_ctl</span>（の<code class="option">restart</code>モード）は、<code class="option">-o</code>で上書きされるものを除き、このファイルの内容をオプションとして<code class="command">postgres</code>に渡します。
また、このファイルの内容が<code class="option">status</code>モードで表示されます。
     </p></dd></dl></div></div><div class="refsect1" id="R1-APP-PGCTL-2"><h2>例</h2><div class="refsect2" id="R2-APP-PGCTL-3"><h3>サーバの起動</h3><p>以下はサーバが接続を植え付けられるようになるまで待機する起動例です。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl start</code></strong></pre><p>
   </p><p>ポート5433を使い<code class="function">fsync</code>なしでサーバを起動します。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl -o "-F -p 5433" start</code></strong></pre></div><div class="refsect2" id="R2-APP-PGCTL-4"><h3>サーバの停止</h3><p>サーバを停止するためには以下を使用します。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl stop</code></strong></pre><p>
<code class="option">-m</code>オプションにより<span class="emphasis"><em>どのように</em></span>バックエンドを停止させるかを制御できます。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl stop -m smart</code></strong></pre></div><div class="refsect2" id="R2-APP-PGCTL-5"><h3>サーバの再起動</h3><p>サーバの再起動は、サーバを停止してもう一度起動するのとほぼ同じですが、違うのは、<code class="command">pg_ctl</code>がデフォルトでは以前起動していたインスタンスに渡されていたコマンドラインオプションを保存し再利用することです。
下記はサーバを以前と同じオプションを使って再起動する方法です。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl restart</code></strong></pre><p>
   </p><p>しかし、<code class="option">-o</code>を指定すれば、それによって以前のオプションが置換されます。
以下はポート5433を使って再起動し、再起動後に<code class="function">fsync</code>を無効にする方法です。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl -o "-F -p 5433" restart</code></strong></pre></div><div class="refsect2" id="R2-APP-PGCTL-6"><h3>サーバの状態表示</h3><p>下記は<span class="application">pg_ctl</span>からの状態の出力の例です。
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pg_ctl status</code></strong>
<code class="computeroutput">pg_ctl: server is running (PID: 13718)
/usr/local/pgsql/bin/postgres "-D" "/usr/local/pgsql/data" "-p" "5433" "-B" "128"</code></pre><p>
2行目は再起動（restart）モードで呼び出されるコマンドラインです。
   </p></div></div><div class="refsect1" id="id-1.9.5.6.10"><h2>関連項目</h2><span class="simplelist"><a class="xref" href="app-initdb.html" title="initdb"><span class="refentrytitle">initdb</span></a>, <a class="xref" href="app-postgres.html" title="postgres"><span class="refentrytitle"><span class="application">postgres</span></span></a></span></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="app-pgcontroldata.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="reference-server.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="app-pgresetwal.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="application">pg_controldata</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="application">pg_resetwal</span></td></tr></table></div></body></html>