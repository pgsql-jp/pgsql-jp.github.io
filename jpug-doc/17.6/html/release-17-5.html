<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.2. リリース17.5</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release-17-6.html" title="E.1. Release 17.6" /><link rel="next" href="release-17-4.html" title="E.3. リリース17.4" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 17.6文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 17.6 : release-17-5.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-17-6.html" title="E.1. Release 17.6">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.2. リリース17.5</td><td width="20%" align="right"> <a accesskey="n" href="release-17-4.html" title="E.3. リリース17.4">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-17-5"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.2. リリース17.5 <a href="#RELEASE-17-5" class="id_link">#</a></h2></div></div></div><span class="original">
  &lt;title&gt;Release 17.5&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2025-05-08</p><p>
<span class="original">
   This release contains a variety of fixes from 17.4.
   For information about new features in major release 17, see
   &lt;xref linkend="release-17"/&gt;.
</span>
このリリースは17.4に対し、様々な不具合を修正したものです。
17メジャーリリースにおける新機能については、<a class="xref" href="release-17.html" title="E.7. リリース17">E.7</a>を参照してください。
  </p><div class="sect2" id="RELEASE-17-5-MIGRATION"><div class="titlepage"><div><div><h3 class="title">E.2.1. バージョン17.5への移行 <a href="#RELEASE-17-5-MIGRATION" class="id_link">#</a></h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 17.5&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 17.X.
</span>
17.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you have any self-referential foreign key constraints on
    partitioned tables, it may be necessary to recreate those constraints
    to ensure that they are being enforced correctly.  See the second
    changelog entry below.
</span>
しかし、テーブルパーティションに自己参照外部キー制約がある場合は、それらの制約が正しく適用されるように再作成する必要があるかもしれません。
以下の2番目の変更ログの項目を参照してください。
   </p><p>
<span class="original">
    Also, if you have any BRIN bloom indexes, it may be advisable to
    reindex them after updating.  See the third changelog entry below.
</span>
また、BRINブルームインデックスがある場合は、更新後にインデックスを再作成することをお勧めします。
以下の3番目の変更ログの項目を参照してください。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 17.1,
    see &lt;xref linkend="release-17-1"/&gt;.
</span>
また、17.1より前のバージョンからアップグレードする場合は、<a class="xref" href="release-17-1.html" title="E.6. リリース17.1">E.6</a>を参照してください。
   </p></div><div class="sect2" id="RELEASE-17-5-CHANGES"><div class="titlepage"><div><div><h3 class="title">E.2.2. 変更点 <a href="#RELEASE-17-5-CHANGES" class="id_link">#</a></h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [627acc3ca] 2025-05-05 04:52:04 -0700
Branch: REL_17_STABLE [ec5f89e8a] 2025-05-05 04:52:07 -0700
Branch: REL_16_STABLE [d1264948f] 2025-05-05 04:52:07 -0700
Branch: REL_15_STABLE [44ba3f55f] 2025-05-05 04:52:08 -0700
Branch: REL_14_STABLE [3f2ab7393] 2025-05-05 04:52:08 -0700
Branch: REL_13_STABLE [cbadeaca9] 2025-05-05 04:52:08 -0700
Branch: master [5be213caa] 2025-05-05 04:52:04 -0700
Branch: REL_17_STABLE [617d34908] 2025-05-05 04:52:07 -0700
Branch: REL_16_STABLE [f3bb0b2c4] 2025-05-05 04:52:07 -0700
Branch: REL_15_STABLE [45fe7e08f] 2025-05-05 04:52:08 -0700
Branch: REL_14_STABLE [258cde839] 2025-05-05 04:52:08 -0700
Branch: REL_13_STABLE [7279e5820] 2025-05-05 04:52:08 -0700
</span><p>
<span class="original">
      Avoid one-byte buffer overread when examining invalidly-encoded
      strings that are claimed to be in GB18030 encoding
      (Noah Misch, Andres Freund)
</span>
GB18030エンコーディングであると主張される無効なエンコード文字列を検査するとき、1バイトのバッファオーバーリードが回避されました。
(Noah Misch, Andres Freund)
      <a class="ulink" href="https://postgr.es/c/ec5f89e8a" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/617d34908" target="_top">§</a>
     </p><p>
<span class="original">
      While unlikely, a SIGSEGV crash could occur if an incomplete
      multibyte character appeared at the end of memory.  This was
      possible both in the server and
      in &lt;application&gt;libpq&lt;/application&gt;-using applications.
      (CVE-2025-4207)
</span>
可能性は低いですが、不完全なマルチバイト文字がメモリの末尾に現れた場合、SIGSEGVクラッシュが発生する可能性がありました。
これは、サーバでも<span class="application">libpq</span>を使用するアプリケーションでも発生する可能性がありました。
(CVE-2025-4207)
     </p></li><li class="listitem"><span class="original">
Author: Álvaro Herrera &lt;alvherre@kurilemu.de&gt;
Branch: master [c83a38758] 2025-05-02 21:25:50 +0200
Branch: REL_17_STABLE [f51ae3187] 2025-05-02 21:25:50 +0200
Branch: REL_16_STABLE [1817d62ec] 2025-05-02 21:25:50 +0200
Branch: REL_15_STABLE [6ba979cf5] 2025-05-02 21:25:50 +0200
Branch: REL_14_STABLE [1649d153a] 2025-05-02 21:25:50 +0200
Branch: REL_13_STABLE [b3a9c536d] 2025-05-02 21:25:50 +0200
</span><p>
<span class="original">
      Handle self-referential foreign keys on partitioned tables correctly
      (Álvaro Herrera)
</span>
パーティションテーブルで自己参照の外部キーを正しく扱えるようになりました。
(Álvaro Herrera)
      <a class="ulink" href="https://postgr.es/c/f51ae3187" target="_top">§</a>
     </p><p>
<span class="original">
      Creating or attaching partitions failed to make the required catalog
      entries for a foreign-key constraint, if the table referenced by the
      constraint was the same partitioned table.  This resulted in failure
      to enforce the constraint fully.
</span>
パーティション作成またはアタッチ時に、制約によって参照されるテーブルが同一のパーティションテーブルである場合、外部キー制約に必要なカタログエントリの作成に失敗しました。
その結果、制約が完全には強制されませんでした。
     </p><p>
<span class="original">
      To fix this, you should drop and recreate any self-referential
      foreign keys on partitioned tables, if partitions have been created
      or attached since the constraint was created.  Bear in mind that
      violating rows might already be present, in which case recreating
      the constraint will fail, and you'll need to fix up those rows
      before trying again.
</span>
これを修正するには、制約の作成後にパーティションが作成またはアタッチされている場合、パーティションテーブル上の自己参照外部キーをすべて削除して再作成する必要があります。
違反行がすでに存在する可能性があることに注意してください。
その場合、制約を再作成すると失敗するため、再試行する前にそれらの行を修正する必要があります。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [818245506] 2025-03-26 17:01:41 +0100
Branch: REL_17_STABLE [cb0ad70b8] 2025-03-26 17:02:17 +0100
Branch: REL_16_STABLE [ebcc799a7] 2025-03-26 17:02:50 +0100
Branch: REL_15_STABLE [e064b770c] 2025-03-26 17:03:02 +0100
Branch: REL_14_STABLE [6be02bbc8] 2025-03-26 17:03:06 +0100
</span><p>
<span class="original">
      Avoid data loss when merging compressed BRIN summaries
      in &lt;function&gt;brin_bloom_union()&lt;/function&gt; (Tomas Vondra)
</span>
<code class="function">brin_bloom_union()</code>で圧縮されたBRINサマリをマージする際のデータ損失が回避されました。
(Tomas Vondra)
      <a class="ulink" href="https://postgr.es/c/cb0ad70b8" target="_top">§</a>
     </p><p>
<span class="original">
      The code failed to account for decompression results not being
      identical to the input objects, which would result in failure to add
      some of the data to the merged summary, leading to missed rows in
      index searches.
</span>
このコードでは、圧縮したものの展開結果が入力オブジェクトと一致しないことを考慮しておらず、その結果、一部のデータがマージされたサマリに追加されず、インデックス検索で行が欠落していました。
     </p><p>
<span class="original">
      This mistake was present back to v14 where BRIN bloom indexes were
      introduced, but this code path was only rarely reached then.  It's
      substantially more likely to be hit in v17 because parallel index
      builds now use the code.
</span>
この誤りは、BRINブルームインデックスが導入されたv14時点から存在していましたが、当時はこのコードパスに到達することは稀でした。
v17では、パラレルインデックス作成でコードが使用されるようになったため、この誤りが発生する可能性が大幅に高くなりました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f4e7756ef] 2025-03-12 11:47:38 -0400
Branch: REL_17_STABLE [ca0830e5a] 2025-03-12 11:47:19 -0400
Branch: REL_16_STABLE [fec43428c] 2025-03-12 11:47:19 -0400
Branch: REL_15_STABLE [ae0be2f0b] 2025-03-12 11:47:19 -0400
Branch: REL_14_STABLE [d3a29ae6a] 2025-03-12 11:47:19 -0400
Branch: REL_13_STABLE [39af32f78] 2025-03-12 11:47:19 -0400
Branch: REL_15_STABLE [317aba70e] 2025-03-12 11:27:59 -0400
Branch: REL_14_STABLE [584f17a90] 2025-03-12 11:28:04 -0400
Branch: REL_13_STABLE [28a7e31d0] 2025-03-12 11:28:11 -0400
Branch: REL_15_STABLE [7713f4592] 2025-03-13 12:13:07 -0400
Branch: REL_14_STABLE [1a20bc946] 2025-03-13 12:13:07 -0400
Branch: REL_13_STABLE [b200180de] 2025-03-13 12:13:07 -0400
</span><p>
<span class="original">
      Fix unexpected &lt;quote&gt;attribute has wrong type&lt;/quote&gt; errors
      in &lt;command&gt;UPDATE&lt;/command&gt;, &lt;command&gt;DELETE&lt;/command&gt;,
      and &lt;command&gt;MERGE&lt;/command&gt; queries that use whole-row table
      references to views or functions in &lt;literal&gt;FROM&lt;/literal&gt;
      (Tom Lane)
</span>
<code class="literal">FROM</code>のビューまたは関数への行全体のテーブル参照を使用する<code class="command">UPDATE</code>、<code class="command">DELETE</code>、<code class="command">MERGE</code>の問い合わせで発生する、予期しない<span class="quote">「<span class="quote">attribute has wrong type</span>」</span>エラーが修正されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/ca0830e5a" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [8b6a0e239] 2025-03-29 09:58:40 +0000
Branch: REL_17_STABLE [25303678a] 2025-03-29 09:50:14 +0000
Branch: REL_16_STABLE [8d4cd3b4a] 2025-03-29 09:51:23 +0000
Branch: REL_15_STABLE [14a33d3f0] 2025-03-29 09:52:18 +0000
</span><p>
<span class="original">
      Fix &lt;command&gt;MERGE&lt;/command&gt; into a partitioned table
      with &lt;literal&gt;DO NOTHING&lt;/literal&gt; actions (Tender Wang)
</span>
<code class="literal">DO NOTHING</code>アクションを持つパーティションテーブルに対する<code class="command">MERGE</code>が修正されました。
(Tender Wang)
      <a class="ulink" href="https://postgr.es/c/25303678a" target="_top">§</a>
     </p><p>
<span class="original">
      Some cases failed with &lt;quote&gt;unknown action in MERGE WHEN
      clause&lt;/quote&gt; errors.
</span>
ある場合には<span class="quote">「<span class="quote">unknown action in MERGE WHEN clause</span>」</span>エラーが発生して失敗しました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7c8728494] 2025-04-15 12:08:34 -0400
Branch: REL_17_STABLE [3c39c000c] 2025-04-15 12:08:34 -0400
Branch: REL_16_STABLE [f04e0faa3] 2025-04-15 12:08:34 -0400
Branch: REL_15_STABLE [97d671672] 2025-04-15 12:08:34 -0400
Branch: REL_14_STABLE [4604928ed] 2025-04-15 12:08:34 -0400
</span><p>
<span class="original">
      Prevent failure in &lt;command&gt;INSERT&lt;/command&gt; commands when the table
      has a &lt;literal&gt;GENERATED&lt;/literal&gt; column of a domain data type and
      the domain's constraints disallow null values (Jian He)
</span>
テーブルにドメインデータ型の<code class="literal">GENERATED</code>列があり、ドメインの制約でNULL値が許可されていない場合に、<code class="command">INSERT</code>コマンドが失敗しないようになりました。
(Jian He)
      <a class="ulink" href="https://postgr.es/c/3c39c000c" target="_top">§</a>
     </p><p>
<span class="original">
      Constraint failure was reported even if the generation expression
      produced a perfectly okay result.
</span>
生成式で完全に正常な結果が生成された場合でも、制約エラーが報告されていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [691836405] 2025-04-05 15:01:48 -0400
Branch: REL_17_STABLE [5e7be43f4] 2025-04-05 15:01:33 -0400
Branch: REL_16_STABLE [1980ec2bc] 2025-04-05 15:01:33 -0400
Branch: REL_15_STABLE [ede29a1e4] 2025-04-05 15:01:33 -0400
Branch: REL_14_STABLE [754a3d82d] 2025-04-05 15:01:33 -0400
Branch: REL_13_STABLE [e276b5829] 2025-04-05 15:01:33 -0400
</span><p>
<span class="original">
      Correctly process references to outer CTE names that appear within
      a &lt;literal&gt;WITH&lt;/literal&gt; clause attached to
      an &lt;command&gt;INSERT&lt;/command&gt;/&lt;command&gt;UPDATE&lt;/command&gt;/&lt;command&gt;DELETE&lt;/command&gt;/&lt;command&gt;MERGE&lt;/command&gt;
      command that's inside &lt;literal&gt;WITH&lt;/literal&gt; (Tom Lane)
</span>
<code class="literal">WITH</code>句の中にある<code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE</code>/<code class="command">MERGE</code>コマンドに付随した<code class="literal">WITH</code>句内に表れる、外側のCTE名への参照を正しく処理するようになりました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/5e7be43f4" target="_top">§</a>
     </p><p>
<span class="original">
      The parser failed to detect disallowed recursion cases, nor did it
      account for such references when sorting CTEs into a usable order.
</span>
パーサは、許可されていない再帰ケースを検出できず、CTEを使用可能な順に並べ替えるときに、そのような参照を考慮していませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Amit Langote &lt;amitlan@postgresql.org&gt;
Branch: master [d4f79865d] 2025-03-13 09:56:36 +0900
Branch: REL_17_STABLE [8b2392ae3] 2025-03-13 09:56:49 +0900
</span><p>
<span class="original">
      Fix misprocessing of casts within the keys of JSON constructor
      expressions (Amit Langote)
</span>
JSONコンストラクタ式のキー内でのキャストの誤った処理が修正されました。
(Amit Langote)
      <a class="ulink" href="https://postgr.es/c/8b2392ae3" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [fedfcf665] 2025-03-09 13:11:20 -0400
Branch: REL_17_STABLE [43847dd5e] 2025-03-09 13:11:20 -0400
Branch: REL_16_STABLE [a7aa9f21f] 2025-03-09 13:11:20 -0400
</span><p>
<span class="original">
      Don't try to parallelize &lt;function&gt;array_agg()&lt;/function&gt; when the
      argument is of an anonymous record type (Richard Guo, Tom Lane)
</span>
引数が匿名レコード型の場合<code class="function">array_agg()</code>の並列化を行わないようになりました。
(Richard Guo, Tom Lane)
      <a class="ulink" href="https://postgr.es/c/43847dd5e" target="_top">§</a>
     </p><p>
<span class="original">
      The protocol for communicating with parallel workers doesn't support
      identifying the concrete record type that a worker is returning.
</span>
パラレルワーカーと通信するためのプロトコルは、ワーカーが返す具体的なレコード型の識別をサポートしていません。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4618045be] 2025-03-13 16:07:55 -0400
Branch: REL_17_STABLE [c826cd1b1] 2025-03-13 16:07:55 -0400
Branch: REL_16_STABLE [0405982c7] 2025-03-13 16:07:55 -0400
Branch: REL_15_STABLE [13dd6f772] 2025-03-13 16:07:55 -0400
Branch: REL_14_STABLE [f7ae51312] 2025-03-13 16:07:55 -0400
Branch: REL_13_STABLE [474aee3df] 2025-03-13 16:07:55 -0400
</span><p>
<span class="original">
      Fix &lt;literal&gt;ARRAY(&lt;replaceable&gt;subquery&lt;/replaceable&gt;)&lt;/literal&gt;
      and &lt;literal&gt;ARRAY[&lt;replaceable&gt;expression, ...&lt;/replaceable&gt;]&lt;/literal&gt;
      constructs to produce sane results when the input is of
      type &lt;type&gt;int2vector&lt;/type&gt; or &lt;type&gt;oidvector&lt;/type&gt; (Tom Lane)
</span>
入力が<code class="type">int2vector</code>型または<code class="type">oidvector</code>型の場合に、<code class="literal">ARRAY(<em class="replaceable"><code>subquery</code></em>)</code>および<code class="literal">ARRAY[<em class="replaceable"><code>expression, ...</code></em>]</code>構文が正常な結果を生成するように修正されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/c826cd1b1" target="_top">§</a>
     </p><p>
<span class="original">
      This patch restores the behavior that existed
      before &lt;productname&gt;PostgreSQL&lt;/productname&gt; 9.5: the result is of
      type &lt;type&gt;int2vector[]&lt;/type&gt; or &lt;type&gt;oidvector[]&lt;/type&gt;.
</span>
このパッチは、<span class="productname">PostgreSQL</span> 9.5以前の動作を復元します。結果は<code class="type">int2vector[]</code>型または<code class="type">oidvector[]</code>型になります。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7fb880102] 2025-03-08 11:24:25 -0500
Branch: REL_17_STABLE [99c01aadf] 2025-03-08 11:24:42 -0500
Branch: REL_16_STABLE [61513da08] 2025-03-08 11:24:47 -0500
Branch: REL_15_STABLE [e2921c0e9] 2025-03-08 11:24:52 -0500
Branch: REL_14_STABLE [da85544ae] 2025-03-08 11:24:57 -0500
Branch: REL_13_STABLE [f1c1bafcd] 2025-03-08 11:25:01 -0500
</span><p>
<span class="original">
      Fix possible erroneous reports of invalid affixes while parsing
      &lt;application&gt;Ispell&lt;/application&gt; dictionaries (Jacob Brazeal)
</span>
<span class="application">Ispell</span>辞書のパース中に無効な接辞が誤って報告される可能性が修正されました。
(Jacob Brazeal)
      <a class="ulink" href="https://postgr.es/c/99c01aadf" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [95f650674] 2025-03-03 12:43:44 -0500
Branch: REL_17_STABLE [d6dd2a02b] 2025-03-03 12:43:29 -0500
Branch: REL_16_STABLE [edc3bccd0] 2025-03-03 12:43:29 -0500
Branch: REL_15_STABLE [1d180931c] 2025-03-03 12:43:29 -0500
Branch: REL_14_STABLE [c75c830e2] 2025-03-03 12:43:29 -0500
Branch: REL_13_STABLE [aac07b562] 2025-03-03 12:43:29 -0500
Branch: master [bd178960c] 2025-04-02 11:13:01 -0400
Branch: REL_17_STABLE [0941aadcd] 2025-04-02 11:13:01 -0400
Branch: REL_16_STABLE [053222a97] 2025-04-02 11:13:01 -0400
Branch: REL_15_STABLE [2d6cfb0cd] 2025-04-02 11:13:01 -0400
Branch: REL_14_STABLE [d31d39cfe] 2025-04-02 11:13:01 -0400
Branch: REL_13_STABLE [dd34cbfce] 2025-04-02 11:13:01 -0400
</span><p>
<span class="original">
      Fix &lt;literal&gt;ALTER TABLE ADD COLUMN&lt;/literal&gt; to correctly handle
      the case of a domain type that has a default
      (Jian He, Tom Lane, Tender Wang)
</span>
デフォルトを持つドメイン型の場合を正しく処理するように<code class="literal">ALTER TABLE ADD COLUMN</code>が修正されました。
(Jian He, Tom Lane, Tender Wang)
      <a class="ulink" href="https://postgr.es/c/d6dd2a02b" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/0941aadcd" target="_top">§</a>
     </p><p>
<span class="original">
      If a domain type has a default, adding a column of that type (without
      any explicit &lt;literal&gt;DEFAULT&lt;/literal&gt;
      clause) failed to install the domain's default
      value in existing rows, instead leaving the new column null.
</span>
ドメイン型にデフォルトがある場合、その型の列を（明示的な<code class="literal">DEFAULT</code>句なしで）追加すると、既存の行にドメインのデフォルト値が設定されず、新しい列はNULLのままになっていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [43b8e6c4a] 2025-04-04 20:11:48 -0400
Branch: REL_17_STABLE [5e6e97fbf] 2025-04-04 20:11:48 -0400
Branch: REL_16_STABLE [fb3a77fd9] 2025-04-04 20:11:48 -0400
Branch: REL_15_STABLE [f5069f026] 2025-04-04 20:11:48 -0400
</span><p>
<span class="original">
      Repair misbehavior when there are duplicate column names in a
      foreign key constraint's &lt;literal&gt;ON DELETE SET DEFAULT&lt;/literal&gt;
      or &lt;literal&gt;SET NULL&lt;/literal&gt; action (Tom Lane)
</span>
外部キー制約の<code class="literal">ON DELETE SET DEFAULT</code>または<code class="literal">SET NULL</code>アクションで重複した列名がある場合の不正動作が修復されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/5e6e97fbf" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Álvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [7bbc46213] 2025-03-04 20:07:30 +0100
Branch: REL_17_STABLE [4e026be5f] 2025-03-04 20:07:30 +0100
Branch: REL_16_STABLE [9ea5fe5b6] 2025-03-04 20:07:30 +0100
Branch: REL_15_STABLE [bf1e2d2db] 2025-03-04 20:07:30 +0100
Branch: REL_14_STABLE [931a1c023] 2025-03-04 20:07:30 +0100
Branch: REL_13_STABLE [0f354e080] 2025-03-04 20:07:30 +0100
</span><p>
<span class="original">
      Improve the error message for disallowed attempts to alter the
      properties of a foreign key constraint (Álvaro Herrera)
</span>
外部キー制約のプロパティ変更が許可されなかった場合のエラーメッセージが改善されました。
(Álvaro Herrera)
      <a class="ulink" href="https://postgr.es/c/4e026be5f" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [2d5350cfb] 2025-04-20 08:28:48 -0700
Branch: REL_17_STABLE [d0a049987] 2025-04-20 08:28:52 -0700
Branch: REL_16_STABLE [5905e9935] 2025-04-20 08:28:52 -0700
Branch: REL_15_STABLE [e0f53e669] 2025-04-20 08:28:52 -0700
Branch: REL_14_STABLE [a61b67cd0] 2025-04-20 08:28:53 -0700
Branch: REL_13_STABLE [d34b671a6] 2025-04-20 08:28:53 -0700
</span><p>
<span class="original">
      Avoid error when resetting
      the &lt;structfield&gt;relhassubclass&lt;/structfield&gt; flag of a temporary
      table that's marked &lt;literal&gt;ON COMMIT DELETE ROWS&lt;/literal&gt;
      (Noah Misch)
</span>
<code class="literal">ON COMMIT DELETE ROWS</code>とマークされた一時テーブルの<code class="structfield">relhassubclass</code>フラグをリセットするときのエラーが回避されました。
(Noah Misch)
      <a class="ulink" href="https://postgr.es/c/d0a049987" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [984410b92] 2025-02-21 17:30:56 +0900
Branch: REL_17_STABLE [2e0f93d7c] 2025-02-21 17:31:01 +0900
Branch: REL_16_STABLE [0af3ae468] 2025-02-21 17:31:02 +0900
Branch: master [665cafe8a] 2025-02-21 20:37:31 +0900
Branch: REL_17_STABLE [310907aaf] 2025-02-21 20:37:36 +0900
Branch: REL_16_STABLE [514d47dfb] 2025-02-21 20:37:38 +0900
</span><p>
<span class="original">
      Add missing deparsing of the &lt;literal&gt;INDENT&lt;/literal&gt; option
      of &lt;function&gt;XMLSERIALIZE()&lt;/function&gt; (Jim Jones)
</span>
<code class="function">XMLSERIALIZE()</code>の<code class="literal">INDENT</code>オプションで欠落していた逆解析が追加されました。
(Jim Jones)
      <a class="ulink" href="https://postgr.es/c/2e0f93d7c" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/310907aaf" target="_top">§</a>
     </p><p>
<span class="original">
      Previously, views or rules
      using &lt;literal&gt;XMLSERIALIZE(... INDENT)&lt;/literal&gt; were dumped
      without the &lt;literal&gt;INDENT&lt;/literal&gt; clause, causing incorrect
      results after restore.
</span>
以前は、<code class="literal">XMLSERIALIZE(... INDENT)</code>を使用するビューまたはルールが<code class="literal">INDENT</code>句なしでダンプされていたため、リストアの後に誤った結果が発生していました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [d47f92224] 2025-04-20 22:12:07 +1200
Branch: REL_17_STABLE [065ce49a1] 2025-04-20 22:12:37 +1200
Branch: REL_16_STABLE [887a23237] 2025-04-20 22:12:59 +1200
</span><p>
<span class="original">
      Avoid premature evaluation of the arguments of an aggregate function
      that has both &lt;literal&gt;FILTER&lt;/literal&gt; and &lt;literal&gt;ORDER
      BY&lt;/literal&gt; (or &lt;literal&gt;DISTINCT&lt;/literal&gt;) options (David Rowley)
</span>
<code class="literal">FILTER</code>オプションと<code class="literal">ORDER BY</code>(または<code class="literal">DISTINCT</code>)の両方のオプションを持つ集約関数の引数を早期評価しないようにしました。
(David Rowley)
      <a class="ulink" href="https://postgr.es/c/065ce49a1" target="_top">§</a>
     </p><p>
<span class="original">
      If there is &lt;literal&gt;ORDER BY&lt;/literal&gt;
      or &lt;literal&gt;DISTINCT&lt;/literal&gt;, we consider pre-sorting the
      aggregate input values rather than doing the sort within the Agg
      plan node.  But this is problematic if the aggregate inputs include
      expressions that could fail (for example, a division where some of
      the input divisors could be zero) and there is
      a &lt;literal&gt;FILTER&lt;/literal&gt; clause that's meant to prevent such
      failures.  Pre-sorting would push the expression evaluations to
      before the &lt;literal&gt;FILTER&lt;/literal&gt; test, allowing the failures to
      happen anyway.  Avoid this by not pre-sorting if there's
      a &lt;literal&gt;FILTER&lt;/literal&gt; and the input expressions are anything
      more complex than a simple Var or Const.
</span>
<code class="literal">ORDER BY</code>または<code class="literal">DISTINCT</code>がある場合は、Aggプランノード内でソートをおこなうのではなく、集約入力値を事前にソートすることを検討します。
しかし、集約入力に失敗する可能性のある式（例えば、入力の除数の一部がゼロになる可能性のある除算）が含まれ、そのような失敗を防ぐための<code class="literal">FILTER</code>句がある場合、これは問題となります。
事前ソートをおこなうと式の評価が<code class="literal">FILTER</code>テストの前に押し出され、いずれにしても失敗が発生します。
<code class="literal">FILTER</code>があり、入力式が単純なVarまたはConstよりも複雑な場合は、事前ソートをおこなわないことでこれを回避するようになりました。
     </p></li><li class="listitem"><span class="original">
Author: Richard Guo &lt;rguo@postgresql.org&gt;
Branch: master [716a051aa] 2025-03-04 16:11:03 +0900
Branch: REL_17_STABLE [bc5a08af3] 2025-03-04 16:17:19 +0900
</span><p>
<span class="original">
      Fix erroneous deductions from column &lt;literal&gt;NOT NULL&lt;/literal&gt;
      constraints in the presence of outer joins (Richard Guo)
</span>
外部結合が存在する場合の<code class="literal">NOT NULL</code>制約列からの誤った推論が修正されました。
(Richard Guo)
      <a class="ulink" href="https://postgr.es/c/bc5a08af3" target="_top">§</a>
     </p><p>
<span class="original">
      In some cases the planner would discard an &lt;literal&gt;IS NOT
      NULL&lt;/literal&gt; query condition, even though the condition applies
      after an outer join and thus is not redundant.
</span>
場合によっては、条件が外部結合の後に適用されるため冗長ではないにもかかわらず、プランナが<code class="literal">IS NOT NULL</code>問い合わせ条件を破棄していました。
     </p></li><li class="listitem"><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [46b4ba533] 2025-04-07 21:33:42 -0400
Branch: REL_17_STABLE [b8b1e87b7] 2025-04-07 21:33:41 -0400
</span><p>
<span class="original">
      Avoid incorrect optimizations based on &lt;literal&gt;IS [NOT]
      NULL&lt;/literal&gt; tests that are applied to composite values
      (Bruce Momjian)
</span>
複合値に適用される<code class="literal">IS [NOT] NULL</code>テストに基づく誤った最適化が回避されました。
(Bruce Momjian)
      <a class="ulink" href="https://postgr.es/c/b8b1e87b7" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [b136db07c] 2025-04-02 11:56:29 +1300
Branch: REL_17_STABLE [5672a8399] 2025-04-02 11:57:27 +1300
Branch: REL_16_STABLE [5a0840b76] 2025-04-02 11:57:54 +1300
Branch: REL_15_STABLE [a7f213b11] 2025-04-02 11:58:16 +1300
Branch: REL_14_STABLE [b68f664bb] 2025-04-02 11:58:37 +1300
</span><p>
<span class="original">
      Fix planner's failure to identify more than one hashable
      ScalarArrayOpExpr subexpression within a top-level expression
      (David Geier)
</span>
プランナがトップレベルの式内で複数のハッシュ可能なScalarArrayOpExpr部分式を識別できない問題が修正されました。
(David Geier)
      <a class="ulink" href="https://postgr.es/c/5672a8399" target="_top">§</a>
     </p><p>
<span class="original">
      This resulted in unnecessarily-inefficient execution of any
      additional subexpressions that could have been processed with a hash
      table (that is, &lt;literal&gt;IN&lt;/literal&gt;, &lt;literal&gt;NOT IN&lt;/literal&gt;,
      or &lt;literal&gt;= ANY&lt;/literal&gt; clauses with all-constant right-hand
      sides).
</span>
その結果、ハッシュテーブルで処理できる追加の部分式（すなわち、右辺がすべて全て定数の<code class="literal">IN</code>、<code class="literal">NOT IN</code>、<code class="literal">= ANY</code>句）が不必要に非効率的に実行されていました。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [9ba7bcc89] 2025-02-19 23:53:37 +0100
Branch: REL_17_STABLE [587b6aa3f] 2025-02-19 23:54:18 +0100
</span><p>
<span class="original">
      Fix incorrect table size estimate with low fill factor (Tomas Vondra)
</span>
低いfillfactor設定値によるテーブルサイズの誤った見積もりが修正されました。
(Tomas Vondra)
      <a class="ulink" href="https://postgr.es/c/587b6aa3f" target="_top">§</a>
     </p><p>
<span class="original">
      When the planner estimates the number of rows in a
      never-yet-analyzed table, it uses the table's fillfactor setting in
      the estimation, but it neglected to clamp the result to at least one
      row per page.  A low fillfactor could thus result in an unreasonably
      small estimate.
</span>
プランナがまだ分析されていないテーブルの行数を推定するとき、テーブルのfillfactor設定を推定に使用しますが、結果を1ページあたり少なくとも1行に制限する処理が省略されていました。
そのためfillfactorの値が低いと、推定値が不当に小さくなる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [459e7bf8e] 2025-04-02 14:54:20 -0400
Branch: REL_17_STABLE [78cb2466f] 2025-04-02 14:42:03 -0400
Branch: REL_16_STABLE [980727b84] 2025-04-02 14:46:31 -0400
Branch: REL_15_STABLE [77d90d6d6] 2025-04-02 14:50:03 -0400
Branch: REL_14_STABLE [4934d3875] 2025-04-02 14:50:44 -0400
Branch: REL_13_STABLE [b9ec8125d] 2025-04-02 14:50:49 -0400
</span><p>
<span class="original">
      Disable &lt;quote&gt;skip fetch&lt;/quote&gt; optimization in bitmap heap scan
      (Matthias van de Meent)
</span>
ビットマップヒープスキャンにおける<span class="quote">「<span class="quote">skip fetch</span>」</span>最適化が無効になりました。
(Matthias van de Meent)
      <a class="ulink" href="https://postgr.es/c/78cb2466f" target="_top">§</a>
     </p><p>
<span class="original">
      It turns out that this optimization can result in returning dead
      tuples when a concurrent vacuum marks a page all-visible.
</span>
この最適化を使用すると、並行して実行されるバキュームがページをall-visibleとマークした時に、デッドタプルが返される可能性があることが判明しました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0f21db36d] 2025-03-06 11:54:31 -0500
Branch: REL_17_STABLE [9094eb25b] 2025-03-06 11:54:27 -0500
Branch: REL_16_STABLE [d52221cf0] 2025-03-06 11:54:27 -0500
Branch: REL_15_STABLE [2d313375c] 2025-03-06 11:54:27 -0500
Branch: REL_14_STABLE [e2a6934a8] 2025-03-06 11:54:27 -0500
Branch: REL_13_STABLE [308d0d443] 2025-03-06 11:54:27 -0500
Branch: master [e708ffe79] 2025-04-12 12:28:02 -0400
Branch: REL_17_STABLE [8c153fcfa] 2025-04-12 12:27:46 -0400
Branch: REL_16_STABLE [4b65b085a] 2025-04-12 12:27:46 -0400
Branch: REL_15_STABLE [9a8c16aec] 2025-04-12 12:27:46 -0400
Branch: REL_14_STABLE [1b47a112a] 2025-04-12 12:27:46 -0400
Branch: REL_13_STABLE [c7597a1d3] 2025-04-12 12:27:46 -0400
</span><p>
<span class="original">
      Fix performance issues in GIN index search startup when there are
      many search keys (Tom Lane, Vinod Sridharan)
</span>
検索キーが多数ある場合のGINインデックス検索起動時のパフォーマンス問題が修正されました。
(Tom Lane, Vinod Sridharan)
      <a class="ulink" href="https://postgr.es/c/9094eb25b" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/8c153fcfa" target="_top">§</a>
     </p><p>
<span class="original">
      An indexable clause with many keys (for example, &lt;literal&gt;jsonbcol
      ?| array[...]&lt;/literal&gt; with tens of thousands of array elements)
      took O(N&lt;superscript&gt;2&lt;/superscript&gt;) time to start up, and was
      uncancelable for that interval too.
</span>
多数のキーを持つインデックス可能な句（例えば、数万の配列要素を持つ<code class="literal">jsonbcol?| array[...]</code>）は、起動までO(N<sup>2</sup>)時間がかかり、その起動の間でもキャンセルできませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Álvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [17ce344f8] 2025-03-11 12:50:35 +0100
Branch: REL_17_STABLE [ade976f8b] 2025-03-11 12:50:35 +0100
Branch: REL_16_STABLE [e0d8f49a3] 2025-03-11 12:50:35 +0100
Branch: REL_15_STABLE [5d8c58800] 2025-03-11 12:50:35 +0100
Branch: REL_14_STABLE [5144e1f8f] 2025-03-11 12:50:35 +0100
Branch: REL_13_STABLE [f5b4a0b49] 2025-03-11 12:50:35 +0100
</span><p>
<span class="original">
      Detect missing support procedures in a BRIN index operator class,
      and report an error instead of crashing (Álvaro Herrera)
</span>
BRINインデックス演算子クラスでサポートされていないプロシージャを検出し、クラッシュする代わりにエラーを報告するようになりました。
(Álvaro Herrera)
      <a class="ulink" href="https://postgr.es/c/ade976f8b" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [af717317a] 2025-03-12 20:53:09 +0200
Branch: REL_17_STABLE [e731e9d5e] 2025-03-12 20:53:16 +0200
Branch: REL_16_STABLE [004dbbd72] 2025-03-12 20:53:19 +0200
Branch: REL_15_STABLE [d4d34c08c] 2025-03-12 20:53:23 +0200
Branch: REL_14_STABLE [d2fb076be] 2025-03-12 20:53:25 +0200
</span><p>
<span class="original">
      Respond to interrupts (such as query cancel) while waiting for
      asynchronous subplans of an Append plan node (Heikki Linnakangas)
</span>
Appendプランノードの非同期サブプランの待機中に、割り込み（問い合わせキャンセルなどの）に応答するようになりました。
(Heikki Linnakangas)
      <a class="ulink" href="https://postgr.es/c/e731e9d5e" target="_top">§</a>
     </p><p>
<span class="original">
      Previously, nothing would happen until one of the subplans becomes
      ready.
</span>
以前は、サブプランの1つが準備されるまで何も起こりませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [039549d70] 2025-04-08 07:57:19 +0900
Branch: REL_17_STABLE [5cbbe70a9] 2025-04-08 07:58:47 +0900
Branch: REL_16_STABLE [e2a82cd23] 2025-04-08 07:58:50 +0900
</span><p>
<span class="original">
      Report the I/O statistics of active WAL senders more frequently
      (Bertrand Drouvot)
</span>
活動中のWAL送信のI/O統計が、より頻繁に報告されるようになりました。
(Bertrand Drouvot)
      <a class="ulink" href="https://postgr.es/c/5cbbe70a9" target="_top">§</a>
     </p><p>
<span class="original">
      Previously, the &lt;structname&gt;pg_stat_io&lt;/structname&gt; view failed to
      accumulate I/O performed by a WAL sender until that process exited.
      Now such I/O will be reported after at most one second's delay.
</span>
以前は、<code class="structname">pg_stat_io</code>ビューはWAL送信プロセスが終了するまで、そのプロセスによって実行されたI/Oを集計することができませんでした。
今後はそのようなI/Oは、最大1秒遅れで報告されます。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [2e5779083] 2025-04-11 10:00:21 +0900
Branch: REL_17_STABLE [3339847cc] 2025-04-11 10:02:15 +0900
Branch: REL_16_STABLE [c922ae2c4] 2025-04-11 10:02:17 +0900
Branch: REL_15_STABLE [ec59500a1] 2025-04-11 10:02:18 +0900
Branch: REL_14_STABLE [873aff945] 2025-04-11 10:02:20 +0900
Branch: REL_13_STABLE [e2f42f812] 2025-04-11 10:02:21 +0900
</span><p>
<span class="original">
      Fix race condition in handling
      of &lt;varname&gt;synchronous_standby_names&lt;/varname&gt; immediately after
      startup (Melnikov Maksim, Michael Paquier)
</span>
起動直後の<code class="varname">synchronous_standby_names</code>設定の扱いについて、競合状態が解消されました。
(Melnikov Maksim, Michael Paquier)
      <a class="ulink" href="https://postgr.es/c/3339847cc" target="_top">§</a>
     </p><p>
<span class="original">
      For a short period after system startup, backends might fail to wait
      for synchronous commit even
      though &lt;varname&gt;synchronous_standby_names&lt;/varname&gt; is enabled.
</span>
システム起動後の短時間において、<code class="varname">synchronous_standby_names</code>が有効になっているにもかかわらず、バックエンドが同期コミットを待機しない場合がありました。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [75da2bece] 2025-03-13 15:43:34 +1300
Branch: REL_17_STABLE [e27346807] 2025-03-13 15:48:02 +1300
</span><p>
<span class="original">
      Cope with possible intra-query changes
      of &lt;varname&gt;io_combine_limit&lt;/varname&gt; (Thomas Munro)
</span>
問い合わせ内での<code class="varname">io_combine_limit</code>の変更に対応するようになりました。
(Thomas Munro)
      <a class="ulink" href="https://postgr.es/c/e27346807" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Richard Guo &lt;rguo@postgresql.org&gt;
Branch: master [7c82b4f71] 2025-03-26 17:46:51 +0900
Branch: REL_17_STABLE [34fbfe1f5] 2025-03-26 17:49:57 +0900
Branch: REL_16_STABLE [de1484736] 2025-03-26 17:51:44 +0900
</span><p>
<span class="original">
      Avoid infinite loop if &lt;varname&gt;scram_iterations&lt;/varname&gt; is set to
      &lt;systemitem&gt;INT_MAX&lt;/systemitem&gt; (Kevin K Biju)
</span>
<code class="varname">scram_iterations</code>が<span class="systemitem">INT_MAX</span>に設定されている場合に無限ループしないようになりました。
(Kevin K Biju)
      <a class="ulink" href="https://postgr.es/c/34fbfe1f5" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e33f2335a] 2025-04-05 12:13:35 -0400
Branch: REL_17_STABLE [717e8a1e5] 2025-04-05 12:13:35 -0400
Branch: REL_16_STABLE [ca54f9b70] 2025-04-05 12:13:35 -0400
</span><p>
<span class="original">
      Avoid possible crashes due to double transformation
      of &lt;function&gt;json_array()&lt;/function&gt;'s subquery (Tom Lane)
</span>
<code class="function">json_array()</code>の副問い合わせの二重変換によるクラッシュの可能性が回避されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/717e8a1e5" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [00d61a08c] 2025-03-01 14:22:56 -0500
Branch: REL_17_STABLE [d69c78108] 2025-03-01 14:22:56 -0500
Branch: REL_16_STABLE [5c64ece8a] 2025-03-01 14:22:56 -0500
Branch: REL_15_STABLE [c7303f01c] 2025-03-01 14:22:56 -0500
Branch: REL_14_STABLE [76fbb38ef] 2025-03-01 14:22:56 -0500
Branch: REL_13_STABLE [ebe919e95] 2025-03-01 14:22:56 -0500
</span><p>
<span class="original">
      Fix &lt;function&gt;pg_strtof()&lt;/function&gt; to not crash with null endptr
      (Alexander Lakhin, Tom Lane)
</span>
<code class="function">pg_strtof()</code>がNULLのendptrでクラッシュしないように修正されました。
(Alexander Lakhin, Tom Lane)
      <a class="ulink" href="https://postgr.es/c/d69c78108" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Daniel Gustafsson &lt;dgustafsson@postgresql.org&gt;
Branch: master [058b5152f] 2025-03-27 22:57:34 +0100
Branch: REL_17_STABLE [8afec4ef6] 2025-03-27 22:57:34 +0100
Branch: REL_16_STABLE [8d48e84c5] 2025-03-27 22:57:34 +0100
</span><p>
<span class="original">
      Fix crash after out-of-memory in certain GUC assignments (Daniel
      Gustafsson)
</span>
特定のGUC割り当てでメモリ不足になった後に発生するクラッシュが回避されました。
(Daniel Gustafsson)
      <a class="ulink" href="https://postgr.es/c/8afec4ef6" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b464e51ab] 2025-02-18 21:13:54 -0500
Branch: REL_17_STABLE [7edd2cbc5] 2025-02-18 21:23:59 -0500
Branch: REL_16_STABLE [c0c364fa1] 2025-02-18 21:23:59 -0500
Branch: REL_15_STABLE [9c46d902b] 2025-02-18 21:23:59 -0500
Branch: REL_14_STABLE [8388cae55] 2025-02-18 21:24:12 -0500
Branch: REL_13_STABLE [197427fb3] 2025-02-18 21:24:12 -0500
</span><p>
<span class="original">
      Avoid crash when a Snowball stemmer encounters an out-of-memory
      condition (Maksim Korotkov)
</span>
Snowball語幹処理でメモリ不足が発生したときのクラッシュが回避されました。
(Maksim Korotkov)
      <a class="ulink" href="https://postgr.es/c/7edd2cbc5" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Richard Guo &lt;rguo@postgresql.org&gt;
Branch: master [c39392eba] 2025-02-19 10:02:32 +0900
Branch: REL_17_STABLE [727bc6ac3] 2025-02-19 10:04:44 +0900
</span><p>
<span class="original">
      Fix over-enthusiastic freeing of SpecialJoinInfo structs during
      planning (Richard Guo)
</span>
実行計画作成中にSpecialJoinInfo構造体を過剰に解放した後に発生するクラッシュが修正されました。
(Richard Guo)
      <a class="ulink" href="https://postgr.es/c/727bc6ac3" target="_top">§</a>
     </p><p>
<span class="original">
      This led to crashes during planning if partitionwise joining is
      enabled.
</span>
これにより、パーティション同士の結合が有効な場合、実行計画作成中にクラッシュが発生していました。
     </p></li><li class="listitem"><span class="original">
Author: Masahiko Sawada &lt;msawada@postgresql.org&gt;
Branch: master [fd09c1316] 2025-04-03 10:30:00 -0700
Branch: REL_17_STABLE [a4309e85f] 2025-04-03 10:30:02 -0700
Branch: REL_16_STABLE [87e8599e0] 2025-04-03 10:30:05 -0700
</span><p>
<span class="original">
      Disallow copying of invalidated replication slots (Shlok Kyal)
</span>
無効化されたレプリケーションスロットのコピーが禁止されました。
(Shlok Kyal)
      <a class="ulink" href="https://postgr.es/c/a4309e85f" target="_top">§</a>
     </p><p>
<span class="original">
      This prevents trouble when the invalid slot points to WAL that's
      already been removed.
</span>
これにより、無効なスロットがすでに削除されたWALを指している場合に発生するトラブルを防ぐことができます。
     </p></li><li class="listitem"><span class="original">
Author: Masahiko Sawada &lt;msawada@postgresql.org&gt;
Branch: master [48796a98d] 2025-02-24 14:03:04 -0800
Branch: REL_17_STABLE [174952ece] 2025-02-24 14:03:07 -0800
Branch: REL_16_STABLE [cc628f661] 2025-02-24 14:03:10 -0800
</span><p>
<span class="original">
      Disallow restoring logical replication slots on standby servers that
      are not in hot-standby mode (Masahiko Sawada)
</span>
ホットスタンバイモードではないスタンバイサーバ上での論理レプリケーションスロットのリストアが禁止されました。
(Masahiko Sawada)
      <a class="ulink" href="https://postgr.es/c/174952ece" target="_top">§</a>
     </p><p>
<span class="original">
      This prevents a scenario where the slot could remain valid after
      promotion even if &lt;varname&gt;wal_level&lt;/varname&gt; is too low.
</span>
これにより、<code class="varname">wal_level</code>が低すぎる場合でも、昇格後もスロットが有効なままになるシナリオが防止されます。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [aaf9e95e8] 2025-04-28 11:35:54 +0530
Branch: REL_17_STABLE [36148b22e] 2025-04-28 11:22:07 +0530
Branch: REL_16_STABLE [21a7caeeb] 2025-04-28 11:09:27 +0530
Branch: REL_15_STABLE [f6429bd7d] 2025-04-28 10:56:24 +0530
Branch: REL_14_STABLE [1f63b3626] 2025-04-28 10:34:45 +0530
Branch: REL_13_STABLE [d65485b02] 2025-04-28 11:55:00 +0530
</span><p>
<span class="original">
      Prevent over-advancement of catalog xmin in &lt;quote&gt;fast
      forward&lt;/quote&gt; mode of logical decoding (Zhijie Hou)
</span>
ロジカルデコーディングの<span class="quote">「<span class="quote">fast forward</span>」</span>モードでカタログのxminが過度に進むのが防止されました。
(Zhijie Hou)
      <a class="ulink" href="https://postgr.es/c/36148b22e" target="_top">§</a>
     </p><p>
<span class="original">
      This mistake could allow deleted catalog entries to be vacuumed away
      even though they were still potentially needed by the WAL-reading
      process.
</span>
この間違いにより、削除されたカタログエントリが、WAL読み取りプロセスでまだ必要になる可能性があるにもかかわらず、バキュームされる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [4909b38af] 2025-04-10 13:14:40 +0530
Branch: REL_17_STABLE [cadaf0ac4] 2025-04-10 12:57:10 +0530
Branch: REL_16_STABLE [9a2f8b4f0] 2025-04-10 12:44:11 +0530
Branch: REL_15_STABLE [9f21be08e] 2025-04-10 12:31:14 +0530
Branch: REL_14_STABLE [0434033e8] 2025-04-10 12:22:30 +0530
Branch: REL_13_STABLE [247ee9415] 2025-04-24 10:31:40 +0530
Branch: master [50b8ad30f] 2025-04-25 12:46:02 +0530
Branch: REL_17_STABLE [d96206f25] 2025-04-25 12:32:00 +0530
Branch: REL_16_STABLE [9987c9466] 2025-04-25 12:17:40 +0530
Branch: REL_15_STABLE [90bc4523f] 2025-04-25 12:05:52 +0530
Branch: REL_14_STABLE [bb1bc9fa9] 2025-04-25 11:53:27 +0530
Branch: REL_13_STABLE [4164d6976] 2025-04-25 11:45:40 +0530
</span><p>
<span class="original">
      Avoid data loss when DDL operations that don't take a strong lock
      affect tables that are being logically replicated (Shlok Kyal,
      Hayato Kuroda)
</span>
強力なロックを取得しないDDL操作が、論理的にレプリケートされるテーブルに影響を与える場合のデータ損失が回避されました。
(Shlok Kyal, Hayato Kuroda)
      <a class="ulink" href="https://postgr.es/c/cadaf0ac4" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/d96206f25" target="_top">§</a>
     </p><p>
<span class="original">
      The catalog changes caused by the DDL command were not reflected
      into WAL-decoding processes, allowing them to decode subsequent
      changes using stale catalog data, probably resulting in data
      corruption.
</span>
DDLコマンドによって発生したカタログの変更がWALデコード処理に反映されなかったため、古いカタログデータを使用して後続の変更をデコードできてしまった結果、データ破損の可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [0e091ce40] 2025-04-23 11:08:24 +0530
Branch: REL_17_STABLE [05676d87e] 2025-04-23 10:52:36 +0530
Branch: REL_16_STABLE [0de091a4b] 2025-04-23 10:35:54 +0530
</span><p>
<span class="original">
      Prevent incorrect reset of replication origin when an apply worker
      encounters an error but the error is caught and does not result in
      worker exit (Hayato Kuroda)
</span>
applyワーカーでエラーが発生し、そのエラーが捕捉されワーカーが終了しない場合に、レプリケーションオリジンが誤ってリセットされるのが防止されました。
(Hayato Kuroda)
      <a class="ulink" href="https://postgr.es/c/05676d87e" target="_top">§</a>
     </p><p>
<span class="original">
      This mistake could allow duplicate data to be applied.
</span>
この間違いにより、重複データが適用される可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9ff68679b] 2025-02-19 16:35:15 -0500
Branch: REL_17_STABLE [788baa9a2] 2025-02-19 16:35:15 -0500
</span><p>
<span class="original">
      Fix crash in logical replication if the subscriber's partitioned
      table has a BRIN index (Tom Lane)
</span>
サブスクライバーのパーティションテーブルにBRINインデックスがある場合に論理レプリケーションで発生するクラッシュが修正されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/788baa9a2" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [236750317] 2025-03-10 17:07:38 +0200
Branch: REL_17_STABLE [c1dd3a944] 2025-03-10 17:07:59 +0200
Branch: REL_16_STABLE [8171d2dae] 2025-03-10 17:08:02 +0200
Branch: REL_15_STABLE [50c589992] 2025-03-10 17:08:05 +0200
Branch: REL_14_STABLE [2ef048855] 2025-03-10 17:08:07 +0200
Branch: REL_13_STABLE [9b3914f18] 2025-03-10 17:08:10 +0200
Branch: master [f7c566a1a] 2025-03-10 18:58:10 +0200
Branch: REL_17_STABLE [f1ef111a0] 2025-03-10 19:00:08 +0200
Branch: REL_16_STABLE [324e0b656] 2025-03-10 19:01:51 +0200
Branch: REL_15_STABLE [d765226cb] 2025-03-10 19:01:58 +0200
Branch: REL_14_STABLE [136e68b46] 2025-03-10 19:02:02 +0200
Branch: REL_13_STABLE [6c1e79589] 2025-03-10 19:02:08 +0200
</span><p>
<span class="original">
      Avoid duplicate snapshot creation in logical replication index
      lookups (Heikki Linnakangas)
</span>
論理レプリケーションのインデックス検索で重複したスナップショットの作成を回避するようになりました。
(Heikki Linnakangas)
      <a class="ulink" href="https://postgr.es/c/c1dd3a944" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/f1ef111a0" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [b4e0d0c53] 2025-02-21 14:34:40 +0530
Branch: REL_17_STABLE [0ae1245e0] 2025-02-21 14:21:29 +0530
Branch: REL_16_STABLE [1c2a2354c] 2025-02-21 14:08:27 +0530
</span><p>
<span class="original">
      Improve detection of mixed-origin subscriptions
      (Hou Zhijie, Shlok Kyal)
</span>
オリジンが一致しないサブスクリプションの検知が改善されました。
(Hou Zhijie, Shlok Kyal)
      <a class="ulink" href="https://postgr.es/c/0ae1245e0" target="_top">§</a>
     </p><p>
<span class="original">
      Subscription creation gives a warning if a subscribed-to table is
      also being followed through other publications, since that could
      cause duplicate data to be received.  This change improves that
      logic to also detect cases where a partition parent or child table
      is the one being followed through another publication.
</span>
サブスクリプションの作成では、サブスクライブされたテーブルが他のパブリケーションでもフォローされている場合、重複データが受信される可能性があるため警告が表示されます。
今回の変更により、パーティションの親テーブルまたは子テーブルが別のパブリケーションを通してフォローされている場合も検出できるようにロジックが改善されました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [71f17823b] 2025-02-20 10:42:20 +0900
Branch: REL_17_STABLE [29cce279b] 2025-02-20 10:43:35 +0900
Branch: REL_16_STABLE [b4969a296] 2025-02-20 10:43:38 +0900
Branch: REL_15_STABLE [62bed7bb0] 2025-02-20 10:43:40 +0900
</span><p>
<span class="original">
      Fix wrong checkpoint details in error message about incorrect
      recovery timeline choice (David Steele)
</span>
不適切なリカバリータイムラインの選択に関するエラーメッセージでの誤ったチェックポイント詳細が修正されました。
(David Steele)
      <a class="ulink" href="https://postgr.es/c/29cce279b" target="_top">§</a>
     </p><p>
<span class="original">
      If the requested recovery timeline is not reachable, the reported
      checkpoint and timeline should be the values read from the
      backup_label, if there is one.  This message previously reported
      values from the control file, which is correct when recovering from
      the control file without a backup_label, but not when there is a
      backup_label.
</span>
要求されたリカバリタイムラインに到達できない場合、報告されるチェックポイントとタイムラインは、存在する場合はbackup_labelから読み込まれた値である必要があります。
このメッセージは、以前にpg_controlファイルからの値を報告していましたが、これはbackup_labelのないpg_controlファイルからリカバリする場合は正しいのですが、backup_labelがある場合は正しくありません。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [499faf906] 2025-03-18 14:04:44 -0400
Branch: REL_17_STABLE [ee578921b] 2025-03-18 13:44:10 -0400
</span><p>
<span class="original">
      Fix order of operations in &lt;function&gt;smgropen()&lt;/function&gt;
      (Andres Freund)
</span>
<code class="function">smgropen()</code>内の処理順序が修正されました。
(Andres Freund)
      <a class="ulink" href="https://postgr.es/c/ee578921b" target="_top">§</a>
     </p><p>
<span class="original">
      Ensure that the SMgrRelation object is fully initialized before
      calling the smgr_open callback, so that it can be cleaned up
      properly if the callback fails.
</span>
smgr_openコールバックを呼び出す前にSMgrRelationオブジェクトが完全に初期化されていることを確認するようになりました。これによりコールバックが失敗した場合に適切にクリーンアップできるようになりました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [1f7878c33] 2025-04-23 13:53:29 +0900
Branch: REL_17_STABLE [4b6331e0f] 2025-04-23 13:54:53 +0900
Branch: REL_16_STABLE [e9ab8677b] 2025-04-23 13:54:56 +0900
Branch: REL_15_STABLE [c1201ffcf] 2025-04-23 13:54:57 +0900
</span><p>
<span class="original">
      Remove incorrect assertion
      in &lt;function&gt;pgstat_report_stat()&lt;/function&gt; (Michael Paquier)
</span>
<code class="function">pgstat_report_stat()</code>の誤ったアサーションが削除されました。
(Michael Paquier)
      <a class="ulink" href="https://postgr.es/c/4b6331e0f" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [7afca7ede] 2025-04-04 13:49:00 +0300
Branch: REL_17_STABLE [6526d0794] 2025-04-04 13:49:21 +0300
Branch: REL_16_STABLE [419321398] 2025-04-04 13:49:51 +0300
Branch: REL_15_STABLE [3c0fe75c4] 2025-04-04 13:50:00 +0300
Branch: REL_14_STABLE [a749c6f18] 2025-04-04 13:50:12 +0300
Branch: REL_13_STABLE [b92482dc3] 2025-04-04 13:50:52 +0300
</span><p>
<span class="original">
      Fix overly-strict assertion
      in &lt;function&gt;gistFindCorrectParent()&lt;/function&gt; (Heikki Linnakangas)
</span>
<code class="function">gistFindCorrectParent()</code>の厳密すぎるアサーションが修正されました。
(Heikki Linnakangas)
      <a class="ulink" href="https://postgr.es/c/6526d0794" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Masahiko Sawada &lt;msawada@postgresql.org&gt;
Branch: master [f4290f20d] 2025-03-18 16:37:02 -0700
Branch: REL_17_STABLE [a38dce3c4] 2025-03-18 16:36:59 -0700
</span><p>
<span class="original">
      Avoid assertion failure in parallel vacuum
      when &lt;varname&gt;maintenance_work_mem&lt;/varname&gt; has a very small value
      (Masahiko Sawada)
</span>
<code class="varname">maintenance_work_mem</code>の値が非常に小さい場合、並列バキュームでのアサーションエラーが回避されるようになりました。
(Masahiko Sawada)
      <a class="ulink" href="https://postgr.es/c/a38dce3c4" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [2817525f0] 2025-03-23 20:41:16 +0200
Branch: REL_17_STABLE [302ce5bd9] 2025-03-23 20:41:52 +0200
Branch: REL_16_STABLE [2f33de3cd] 2025-03-23 20:41:54 +0200
Branch: REL_15_STABLE [b30c77a0e] 2025-03-23 20:41:57 +0200
Branch: REL_14_STABLE [66235baab] 2025-03-23 20:41:59 +0200
</span><p>
<span class="original">
      Fix rare assertion failure in standby servers when the primary is
      restarted (Heikki Linnakangas)
</span>
プライマリの再起動時にスタンバイサーバで稀に発生するアサーションエラーが修正されました。
(Heikki Linnakangas)
      <a class="ulink" href="https://postgr.es/c/302ce5bd9" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [7fe312f60] 2025-03-21 11:30:42 -0400
Branch: REL_17_STABLE [1353b1161] 2025-03-21 11:30:42 -0400
Branch: REL_16_STABLE [a28c1fb61] 2025-03-21 11:30:42 -0400
Branch: REL_15_STABLE [5e56efa7c] 2025-03-21 11:30:42 -0400
Branch: REL_14_STABLE [c196c610b] 2025-03-21 11:30:42 -0400
Branch: REL_13_STABLE [0f60e1fba] 2025-03-21 11:30:42 -0400
</span><p>
<span class="original">
      In PL/pgSQL, avoid &lt;quote&gt;unexpected plan node type&lt;/quote&gt; error
      when a scrollable cursor is defined on a
      simple &lt;literal&gt;SELECT &lt;replaceable&gt;expression&lt;/replaceable&gt;&lt;/literal&gt;
      query (Andrei Lepikhov)
</span>
PL/pgSQLで、単純な<code class="literal">SELECT <em class="replaceable"><code>expression</code></em></code>問い合わせでスクロール可能なカーソルが定義されている場合の<span class="quote">「<span class="quote">unexpected plan node type</span>」</span>エラーが回避されました。
(Andrei Lepikhov)
      <a class="ulink" href="https://postgr.es/c/1353b1161" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [1fc340362] 2025-04-16 13:31:59 -0400
Branch: REL_17_STABLE [3424c1075] 2025-04-16 13:31:44 -0400
Branch: REL_16_STABLE [a25f21d99] 2025-04-16 13:31:44 -0400
Branch: REL_15_STABLE [7144cd538] 2025-04-16 13:31:44 -0400
Branch: REL_14_STABLE [148cc0105] 2025-04-16 13:31:44 -0400
Branch: REL_13_STABLE [6a3e57865] 2025-04-16 13:31:44 -0400
</span><p>
<span class="original">
      Don't try to drop individual index partitions
      in &lt;application&gt;pg_dump&lt;/application&gt;'s &lt;option&gt;&amp;#45;-clean&lt;/option&gt;
      mode (Jian He)
</span>
<span class="application">pg_dump</span>の<code class="option">--clean</code>モードで個々のインデックスパーティションを削除しないようになりました。
(Jian He)
      <a class="ulink" href="https://postgr.es/c/3424c1075" target="_top">§</a>
     </p><p>
<span class="original">
      The server rejects such &lt;command&gt;DROP&lt;/command&gt; commands.  That has
      no real consequences, since the partitions will go away anyway in
      the subsequent &lt;command&gt;DROP&lt;/command&gt;s of either their parent
      tables or their partitioned index.  However, the error reported for
      the attempted drop causes problems when restoring
      in &lt;option&gt;&amp;#45;-single-transaction&lt;/option&gt; mode.
</span>
サーバはこのような<code class="command">DROP</code>コマンドを拒否します。
パーティションは、親テーブルまたはパーティションインデックスのいずれかの後続の<code class="command">DROP</code>でいずれにしても削除されるため、実際には何の影響もありません。
ただし、試行されたDROPに対して報告されたエラーは、<code class="option">--single-transaction</code>モードでリストアするときに問題を引き起こしていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [29d75b25b] 2025-02-21 13:37:15 -0500
Branch: REL_17_STABLE [16eff4261] 2025-02-21 13:37:15 -0500
Branch: REL_16_STABLE [d850a6600] 2025-02-21 13:37:16 -0500
Branch: REL_15_STABLE [6df3be415] 2025-02-21 13:37:16 -0500
Branch: REL_14_STABLE [ce1475acd] 2025-02-21 13:37:16 -0500
Branch: REL_13_STABLE [5302ff95c] 2025-02-21 13:37:12 -0500
</span><p>
<span class="original">
      In &lt;application&gt;pg_dumpall&lt;/application&gt;, avoid emitting invalid
      role &lt;command&gt;GRANT&lt;/command&gt; commands
      if &lt;structname&gt;pg_auth_members&lt;/structname&gt; contains invalid role
      OIDs (Tom Lane)
</span>
<span class="application">pg_dumpall</span>で、<code class="structname">pg_auth_members</code>に無効なロールのOIDが含まれている場合、無効なロールに対する<code class="command">GRANT</code>コマンドが出力されないようになりました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/16eff4261" target="_top">§</a>
     </p><p>
<span class="original">
      Instead, print a warning and skip the entry.  This copes better with
      catalog corruption that has been seen to occur in back branches as a
      result of race conditions between &lt;command&gt;GRANT&lt;/command&gt;
      and &lt;command&gt;DROP ROLE&lt;/command&gt;.
</span>
代わりに、警告を出力してエントリをスキップします。
これにより、<code class="command">GRANT</code>と<code class="command">DROP ROLE</code>の間の競合状態の結果として過去のバージョンで発生するカタログの破損にうまく対処されます。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [2a083ab80] 2025-02-28 10:15:29 +0900
Branch: REL_17_STABLE [ee78823ff] 2025-02-28 10:15:32 +0900
Branch: REL_16_STABLE [9ca2145b0] 2025-02-28 10:15:34 +0900
Author: Jeff Davis &lt;jdavis@postgresql.org&gt;
Branch: master [945126234] 2025-04-03 11:04:37 -0700
Branch: REL_17_STABLE [0851b6573] 2025-04-06 09:13:43 -0700
Branch: REL_16_STABLE [57467ec7b] 2025-04-06 09:14:42 -0700
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [48e4ae9a0] 2025-02-27 14:05:51 +0900
Branch: REL_17_STABLE [f903d4da9] 2025-02-27 14:05:55 +0900
Branch: REL_16_STABLE [816149dc6] 2025-02-27 14:05:57 +0900
Branch: REL_15_STABLE [ec741d480] 2025-02-27 14:05:58 +0900
Branch: REL_14_STABLE [35a591a04] 2025-02-27 14:06:00 +0900
</span><p>
<span class="original">
      In &lt;application&gt;pg_amcheck&lt;/application&gt;
      and &lt;application&gt;pg_upgrade&lt;/application&gt;, use the correct function
      to free allocations made by &lt;application&gt;libpq&lt;/application&gt;
      (Michael Paquier, Ranier Vilela)
</span>
<span class="application">pg_amcheck</span>と<span class="application">pg_upgrade</span>では、<span class="application">libpq</span>によって作成された割り当てを解放するために正しい関数を使用するようになりました。
(Michael Paquier, Ranier Vilela)
      <a class="ulink" href="https://postgr.es/c/ee78823ff" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/0851b6573" target="_top">§</a>
      <a class="ulink" href="https://postgr.es/c/f903d4da9" target="_top">§</a>
     </p><p>
<span class="original">
      These oversights could result in crashes in certain Windows build
      configurations, such as a debug build
      of &lt;application&gt;libpq&lt;/application&gt; used by a non-debug build of the
      calling application.
</span>
これらの見落としにより、非デバッグビルドの呼び出し元アプリケーションで使用されるデバッグビルドの<span class="application">libpq</span>のような、特定のWindowsビルド構成でクラッシュが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [682c5be25] 2025-03-16 13:29:15 +0200
Branch: REL_17_STABLE [09ef2f8df] 2025-03-16 13:29:20 +0200
</span><p>
<span class="original">
      Fix &lt;application&gt;reindexdb&lt;/application&gt;'s scheduling of parallel
      reindex operations (Alexander Korotkov)
</span>
<span class="application">reindexdb</span>の並列再インデックス操作のスケジューリングが修正されました。
(Alexander Korotkov)
      <a class="ulink" href="https://postgr.es/c/09ef2f8df" target="_top">§</a>
     </p><p>
<span class="original">
      The original coding failed to achieve the expected amount of
      parallelism.
</span>
元のコーディングでは、指定された並列度を達成できませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d05996340] 2025-04-19 16:37:42 -0400
Branch: REL_17_STABLE [ecb8e5641] 2025-04-19 16:37:42 -0400
Branch: REL_16_STABLE [2d33cf7b8] 2025-04-19 16:37:42 -0400
Branch: REL_15_STABLE [90a3fd811] 2025-04-19 16:37:42 -0400
Branch: REL_14_STABLE [3c2ea65bd] 2025-04-19 16:37:43 -0400
Branch: REL_13_STABLE [3f9132ed2] 2025-04-19 16:37:43 -0400
</span><p>
<span class="original">
      Avoid crashing with corrupt input data
      in &lt;filename&gt;contrib/pageinspect&lt;/filename&gt;'s
      &lt;function&gt;heap_page_items()&lt;/function&gt; (Dmitry Kovalenko)
</span>
<code class="filename">contrib/pageinspect</code>の<code class="function">heap_page_items()</code>において、破損した入力データによるクラッシュが回避されました。
(Dmitry Kovalenko)
      <a class="ulink" href="https://postgr.es/c/ecb8e5641" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4623d7144] 2025-03-27 13:20:23 -0400
Branch: REL_17_STABLE [51d038da8] 2025-03-27 13:20:23 -0400
Branch: REL_16_STABLE [41ed749e4] 2025-03-27 13:20:23 -0400
Branch: REL_15_STABLE [0e86bad38] 2025-03-27 13:20:23 -0400
Branch: REL_14_STABLE [5ff827389] 2025-03-27 13:20:23 -0400
Branch: REL_13_STABLE [db8238da4] 2025-03-27 13:20:23 -0400
</span><p>
<span class="original">
      Prevent assertion failure
      in &lt;filename&gt;contrib/pg_freespacemap&lt;/filename&gt;'s
      &lt;function&gt;pg_freespacemap()&lt;/function&gt; (Tender Wang)
</span>
<code class="filename">contrib/pg_freespacemap</code>の<code class="function">pg_freespacemap()</code>でのアサーションエラーが回避されました。
(Tender Wang)
      <a class="ulink" href="https://postgr.es/c/51d038da8" target="_top">§</a>
     </p><p>
<span class="original">
      Applying &lt;function&gt;pg_freespacemap()&lt;/function&gt; to a relation
      lacking storage (such as a view) caused an assertion failure,
      although there was no ill effect in non-assert builds.
      Add an error check to reject that case.
</span>
ビューのようなストレージを持たないリレーションに<code class="function">pg_freespacemap()</code>を適用すると、アサート無しのビルドでは問題がなかったにもかかわらず、アサーションエラーが発生していました。
この問題を回避するためのエラーチェックが追加されました。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [023fb5127] 2025-03-25 05:49:47 +0200
Branch: REL_17_STABLE [729fe699e] 2025-03-25 05:50:39 +0200
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/postgres_fdw&lt;/filename&gt;, avoid pulling up
      restriction conditions from subqueries (Alexander Pyhalov)
</span>
<code class="filename">contrib/postgres_fdw</code>で、副問い合わせからの制限条件を引き出さないようになりました。
(Alexander Pyhalov)
      <a class="ulink" href="https://postgr.es/c/729fe699e" target="_top">§</a>
     </p><p>
<span class="original">
      This fix prevents rare cases of &lt;quote&gt;unexpected expression in
      subquery output&lt;/quote&gt; errors.
</span>
この修正により、まれに発生する<span class="quote">「<span class="quote">unexpected expression in subquery output</span>」</span>エラーが回避されます。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [cb36f8ec2] 2025-03-25 20:03:56 -0400
Branch: REL_17_STABLE [f186f90e5] 2025-03-25 20:03:56 -0400
</span><p>
<span class="original">
      Fix build failure when an old version
      of &lt;filename&gt;libpq_fe.h&lt;/filename&gt; is present in system include
      directories (Tom Lane)
</span>
システムインクルードディレクトリに古いバージョンの<code class="filename">libpq_fe.h</code>が存在する場合のビルド失敗が修正されました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/f186f90e5" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [6da2ba1d8] 2025-04-01 16:50:09 -0400
Branch: REL_17_STABLE [915e88968] 2025-04-01 16:49:51 -0400
Branch: REL_16_STABLE [a39eb9c77] 2025-04-01 16:49:51 -0400
Branch: REL_15_STABLE [0de9560ba] 2025-04-01 16:49:51 -0400
Branch: REL_14_STABLE [71790aef1] 2025-04-01 16:49:51 -0400
Branch: REL_13_STABLE [e4440a73c] 2025-04-01 16:49:51 -0400
</span><p>
<span class="original">
      Fix build failure on macOS 15.4 (Tom Lane, Peter Eisentraut)
</span>
macOS 15.4でのビルド失敗が修正されました。
(Tom Lane, Peter Eisentraut)
      <a class="ulink" href="https://postgr.es/c/915e88968" target="_top">§</a>
     </p><p>
<span class="original">
      This macOS update broke our configuration probe
      for &lt;function&gt;strchrnul()&lt;/function&gt;.
</span>
このmacOSアップデートにより、<code class="function">strchrnul()</code>の設定プローブが壊れてしまいました。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [2a8a00674] 2025-02-15 13:14:03 +1300
Branch: master [2509b857c] 2025-02-18 14:44:59 +1300
Branch: REL_17_STABLE [57dca6faa] 2025-02-21 15:16:37 +1300
</span><p>
<span class="original">
      Fix valgrind labeling of per-buffer data of read streams
      (Thomas Munro)
</span>
読み取りストリームのバッファ単位データのvalgrindラベル付けが修正されました。
(Thomas Munro)
      <a class="ulink" href="https://postgr.es/c/57dca6faa" target="_top">§</a>
     </p><p>
<span class="original">
      This affects no core code in released versions
      of &lt;productname&gt;PostgreSQL&lt;/productname&gt;, but an extension using the
      per-buffer data feature might have encountered spurious failures
      when being tested under valgrind.
</span>
これは<span class="productname">PostgreSQL</span>のリリース版のコアコードには影響しませんが、バッファ単位のデータ機能を使用する拡張が、valgrindでテスト中に誤ったエラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: John Naylor &lt;john.naylor@postgresql.org&gt;
Branch: master [0600d276d] 2025-02-24 18:03:29 +0700
Branch: REL_17_STABLE [fde7c0164] 2025-02-24 18:03:48 +0700
</span><p>
<span class="original">
      Avoid valgrind complaints about string hashing code (John Naylor)
</span>
文字列ハッシュコードに関するvalgrindの警告が回避されました。
(John Naylor)
      <a class="ulink" href="https://postgr.es/c/fde7c0164" target="_top">§</a>
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [368c3fbf9] 2025-04-30 11:13:49 -0400
Branch: REL_17_STABLE [5d5970b9f] 2025-04-30 11:14:01 -0400
Branch: REL_16_STABLE [e076120d9] 2025-04-30 11:14:06 -0400
Branch: REL_15_STABLE [a144cf145] 2025-04-30 11:14:10 -0400
Branch: REL_14_STABLE [fa4244a43] 2025-04-30 11:14:15 -0400
Branch: REL_13_STABLE [9da548df3] 2025-04-30 11:14:19 -0400
</span><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt;
      release 2025b for DST law changes in Chile, plus historical
      corrections for Iran (Tom Lane)
</span>
タイムゾーンデータファイルをチリの夏時間法の変更に加え、イランの歴史的修正に対応するため<span class="application">tzdata</span>リリース2025bに更新しました。
(Tom Lane)
      <a class="ulink" href="https://postgr.es/c/5d5970b9f" target="_top">§</a>
     </p><p>
<span class="original">
      There is a new time zone America/Coyhaique for Chile's Aysén Region,
      to account for it changing to UTC-03 year-round and thus diverging
      from America/Santiago.
</span>
チリのアイセン州が年間を通じてUTC-03に変更されてAmerica/Santiagoとの差異が生じるため、新しいタイムゾーンAmerica/Coyhaiqueが追加されました。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-17-6.html" title="E.1. Release 17.6">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-17-4.html" title="E.3. リリース17.4">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.1. Release 17.6 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 17.6文書">ホーム</a></td><td width="40%" align="right" valign="top"> E.3. リリース17.4</td></tr></table></div></body></html>