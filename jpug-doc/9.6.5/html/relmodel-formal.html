<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リレーショナルデータモデルの形式</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="SQL"
HREF="sql-intro.html"><LINK
REL="PREVIOUS"
TITLE="リレーショナルデータモデル"
HREF="rel-model.html"><LINK
REL="NEXT"
TITLE="リレーショナルデータモデルの操作"
HREF="relmodel-oper.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-09-22T12:33:25"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リレーショナルデータモデル"
HREF="rel-model.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-intro.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>第 16章SQL</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リレーショナルデータモデルの操作"
HREF="relmodel-oper.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELMODEL-FORMAL"
>16.2. リレーショナルデータモデルの形式</A
></H1
><P
>リレーショナルモデルの基礎をなしている数学的な概念は、ドメインのリストの直積の部分集合である、集合理論的な<I
CLASS="FIRSTTERM"
>リレーション</I
>です。
リレーショナルモデル（<I
CLASS="FIRSTTERM"
>エンティティリレーションモデル</I
>でのリレーションと混同しないでください）という名前は、この集合理論のリレーションという言葉からきています。
外見的には、ドメインは単に値の集合です。
例えば、整数の集合はドメインです。
長さ20の文字列と、実数の集合もまたドメインの例と言えます。
   </P
><P
><TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
>, <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
>, ... <TT
CLASS="PARAMETER"
>D<SUB
>k</SUB
></TT
>というドメインの<I
CLASS="FIRSTTERM"
>直積</I
>は<TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
> &times; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
> &times;... &times; <TT
CLASS="PARAMETER"
>D<SUB
>k</SUB
></TT
>というように記述されます。
これは<TT
CLASS="PARAMETER"
>v<SUB
>1</SUB
></TT
>, <TT
CLASS="PARAMETER"
>v<SUB
>2</SUB
></TT
>, ... <TT
CLASS="PARAMETER"
>v<SUB
>k</SUB
></TT
> が <TT
CLASS="PARAMETER"
>v<SUB
>1</SUB
></TT
> &isin; <TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
>, <TT
CLASS="PARAMETER"
>v<SUB
>2</SUB
></TT
>  &isin; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
>, ... <TT
CLASS="PARAMETER"
>v<SUB
>k</SUB
></TT
> &isin; <TT
CLASS="PARAMETER"
>D<SUB
>k</SUB
></TT
> であるようなk個のタプル全ての集合です。
   </P
><P
>例えば
<TT
CLASS="PARAMETER"
>k</TT
>=2で<TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
>=<TT
CLASS="LITERAL"
>{0,1}</TT
>で<TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
>=<TT
CLASS="LITERAL"
>{a,b,c}</TT
>ならば<TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
> &times; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
>は<TT
CLASS="LITERAL"
>{(0,a),(0,b),(0,c),(1,a),(1,b),(1,c)}</TT
>となります。
   </P
><P
>リレーションは、1つ以上のドメインの直積の任意の部分集合です。
つまり、<TT
CLASS="PARAMETER"
>R</TT
> &sube; <TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
> &times; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
> &times; ... &times; <TT
CLASS="PARAMETER"
>D<SUB
>k</SUB
></TT
>となります。
   </P
><P
>例えば<TT
CLASS="LITERAL"
>{(0,a),(0,b),(1,a)}</TT
>はリレーションです。
これは実際に、上で挙げた<TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
> &times; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
>の部分集合になっています。
   </P
><P
>リレーションの要素はタプルと呼ばれます。
ある直積<TT
CLASS="PARAMETER"
>D<SUB
>1</SUB
></TT
> &times; <TT
CLASS="PARAMETER"
>D<SUB
>2</SUB
></TT
> &times; ... &times; <TT
CLASS="PARAMETER"
>D<SUB
>k</SUB
></TT
>のリレーションは要素数が<TT
CLASS="LITERAL"
>k</TT
>個であると言い、<TT
CLASS="LITERAL"
>k</TT
>タプルの集合になっています。
   </P
><P
>リレーションは（これまでに見たように）テーブルとしてみなすことができます。
<A
HREF="rel-model.html#AEN29431"
><I
>納入業者と部品のデータベース</I
></A
>を思い出してください。各タプルは行によって表現され、各列はタプルの中の1つの要素に対応していました。
列に名前（属性と呼ばれます）を付けることは<I
CLASS="FIRSTTERM"
>リレーションスキーム</I
>の定義に通じています。
   </P
><P
><I
CLASS="FIRSTTERM"
>リレーションスキーム</I
> <TT
CLASS="LITERAL"
>R</TT
>は、<TT
CLASS="PARAMETER"
>A<SUB
>1</SUB
></TT
>, <TT
CLASS="PARAMETER"
>A<SUB
>2</SUB
></TT
>, ... <TT
CLASS="PARAMETER"
>A<SUB
>k</SUB
></TT
>という属性の有限集合です。
各属性<TT
CLASS="PARAMETER"
>A<SUB
>i</SUB
></TT
>の 1 &lt;= <TT
CLASS="LITERAL"
>i</TT
> &lt;= <TT
CLASS="LITERAL"
>k</TT
>に対してドメイン<TT
CLASS="PARAMETER"
>D<SUB
>i</SUB
></TT
>が存在し、各属性の値は対応するドメインの要素になります。
リレーションスキームは<TT
CLASS="LITERAL"
>R(<TT
CLASS="PARAMETER"
>A<SUB
>1</SUB
></TT
>,<TT
CLASS="PARAMETER"
>A<SUB
>2</SUB
></TT
>, ... <TT
CLASS="PARAMETER"
>A<SUB
>k</SUB
></TT
>)</TT
>のように記述されます。

    </P><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
><I
CLASS="FIRSTTERM"
>リレーションスキーム</I
>はテンプレートの一種に過ぎないのですが、<I
CLASS="FIRSTTERM"
>リレーション</I
>は<I
CLASS="FIRSTTERM"
>リレーションスキーム</I
>のインスタンスです。
リレーションはタプルの集まりからなります（そして、テーブルとしても見えます）。 リレーションスキームとの違いを意識してください。
     </P
></BLOCKQUOTE
></DIV
><P>
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN29542"
>16.2.1. ドメインとデータ型</A
></H2
><P
>前節で<I
CLASS="FIRSTTERM"
>ドメイン</I
>についてしばしば言及しました。
正式にはドメインとは単なる値の集合（例えば、整数や実数の集合）であるということを思い出してください。
データベースシステムの世界では、ドメインの代わりに<I
CLASS="FIRSTTERM"
>データ型</I
>という言葉もよく使われます。
テーブルを作成する時には、そこにどのような属性を含めるかを決定しなければいけません。
さらに、属性値をどのような種類のデータを格納するのかも決定しなければいけません。
例えば、<CODE
CLASS="CLASSNAME"
>SUPPLIER</CODE
>テーブルの<CODE
CLASS="CLASSNAME"
>SNAME</CODE
>の値は文字列ですし、<CODE
CLASS="CLASSNAME"
>SNO</CODE
>は整数を格納するでしょう。
データの型を各属性に割り当てることによってこれを定義します。
<CODE
CLASS="CLASSNAME"
>SNAME</CODE
>の型は<TT
CLASS="TYPE"
>VARCHAR(20)</TT
>(これは20文字以下の文字列を扱うための<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>の型)であり、<CODE
CLASS="CLASSNAME"
>SNO</CODE
>の型は<TT
CLASS="TYPE"
>INTEGER</TT
>となります。
データ型を指定することで、属性のドメインも選択したことになります。
<CODE
CLASS="CLASSNAME"
>SNAME</CODE
>のドメインは、20文字以下の文字列全ての集合で、<CODE
CLASS="CLASSNAME"
>SNO</CODE
>のドメインは整数値全ての集合となります。
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="rel-model.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="relmodel-oper.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リレーショナルデータモデル</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-intro.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リレーショナルデータモデルの操作</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>