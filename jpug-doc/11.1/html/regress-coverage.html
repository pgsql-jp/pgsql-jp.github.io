<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>33.5. テストが網羅する範囲の検証</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="regress-tap.html" title="33.4. TAPテスト" /><link rel="next" href="client-interfaces.html" title="パート IV. クライアントインタフェース" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="regress.html" title="第33章 リグレッションテスト">第33章 リグレッションテスト</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      regress-coverage.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="regress-tap.html" title="33.4. TAPテスト">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="regress.html" title="第33章 リグレッションテスト">上へ</a></td><td width="60%" align="center">33.5. テストが網羅する範囲の検証</td><td width="20%" align="right"> <a accesskey="n" href="client-interfaces.html" title="パート IV. クライアントインタフェース">次へ</a></td></tr></table><hr /></div><div class="sect1" id="REGRESS-COVERAGE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">33.5. テストが網羅する範囲の検証</h2></div></div></div><span class="original">
   &lt;title&gt;Test Coverage Examination&lt;/title&gt;
</span><p>
<span class="original">
    The PostgreSQL source code can be compiled with coverage testing
    instrumentation, so that it becomes possible to examine which
    parts of the code are covered by the regression tests or any other
    test suite that is run with the code.  This is currently supported
    when compiling with GCC and requires the &lt;command&gt;gcov&lt;/command&gt;
    and &lt;command&gt;lcov&lt;/command&gt; programs.
</span>
PostgreSQLソースコードは、カバレッジテストツールとともにコンパイルすることができるため、リグレッションテスト、あるいはその他のテストスィートによって、コードのどの部分が網羅されているかを評価することができます。
これは現在、GCCを使用してコンパイルした時にサポートされ、<code class="command">gcov</code>および<code class="command">lcov</code>プログラムを必要とします。
   </p><p>
<span class="original">
    A typical workflow would look like this:
</span>
典型的な作業の流れは以下のようになります。
</p><pre class="screen">
./configure --enable-coverage ... OTHER OPTIONS ...
make
make check # or other test suite
make coverage-html
</pre><p>
<span class="original">
    Then point your HTML browser
    to &lt;filename&gt;coverage/index.html&lt;/filename&gt;.
    The &lt;command&gt;make&lt;/command&gt; commands also work in subdirectories.
</span>
そして、HTMLブラウザで<code class="filename">coverage/index.html</code>を参照します。
<code class="command">gmake</code>コマンドはサブディレクトリ内においても同様に動作します。
   </p><p>
    If you don't have <code class="command">lcov</code> or prefer text output over an
    HTML report, you can also run
</p><pre class="screen">
make coverage
</pre><p>
    instead of <code class="literal">make coverage-html</code>, which will
    produce <code class="filename">.gcov</code> output files for each source file
    relevant to the test.  (<code class="literal">make coverage</code> and <code class="literal">make
    coverage-html</code> will overwrite each other's files, so mixing them
    might be confusing.)
   </p><p>
<span class="original">
    To reset the execution counts between test runs, run:
</span>
複数回の試験を実行する時、実行回数をリセットするためには以下を実行します。
</p><pre class="screen">
make coverage-clean
</pre><p>
   </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="regress-tap.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="regress.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="client-interfaces.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">33.4. TAPテスト </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> パート IV. クライアントインタフェース</td></tr></table></div></body></html>