<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. Release 11.1</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release.html" title="付録E リリースノート" /><link rel="next" href="release-11.html" title="E.2. Release 11" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-11-1.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.1. Release 11.1</td><td width="20%" align="right"> <a accesskey="n" href="release-11.html" title="E.2. Release 11">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-11-1"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. Release 11.1</h2></div></div></div><p><strong>Release date: </strong>2018-11-08</p><p>
   This release contains a variety of fixes from 11.0.
   For information about new features in major release 11, see
   <a class="xref" href="release-11.html" title="E.2. Release 11">E.2</a>.
  </p><div class="sect2" id="id-1.11.6.5.4"><div class="titlepage"><div><div><h3 class="title">E.1.1. Migration to Version 11.1</h3></div></div></div><p>
    A dump/restore is not required for those running 11.X.
   </p><p>
    However, if you use the <code class="filename">pg_stat_statements</code> extension,
    see the changelog entry below about that.
   </p></div><div class="sect2" id="id-1.11.6.5.5"><div class="titlepage"><div><div><h3 class="title">E.1.2. Changes</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [350410be4] 2018-10-19 00:50:16 -0400
Branch: REL_11_STABLE [06292bb94] 2018-10-19 00:50:16 -0400
Branch: REL_10_STABLE [09397f0ed] 2018-10-19 00:50:17 -0400
</span><p>
      Ensure proper quoting of transition table names
      when <span class="application">pg_dump</span> emits <code class="command">CREATE TRIGGER
      ... REFERENCING</code> commands (Tom Lane)
     </p><p>
      This oversight could be exploited by an unprivileged user to gain
      superuser privileges during the next dump/reload
      or <span class="application">pg_upgrade</span> run.  (CVE-2018-16850)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [dfa608141] 2018-11-03 13:25:19 -0300
Branch: REL_11_STABLE [33e6c34c3] 2018-11-03 13:25:29 -0300
</span><p>
      Apply the tablespace specified for a partitioned index when creating a
      child index (Álvaro Herrera)
     </p><p>
      Previously, child indexes were always created in the default
      tablespace.
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [1ce4a807e] 2018-11-03 11:05:35 +1300
Branch: REL_11_STABLE [fd6449aa3] 2018-11-03 11:08:03 +1300
</span><p>
      Fix NULL handling in parallel hashed multi-batch left joins (Andrew
      Gierth, Thomas Munro)
     </p><p>
      Outer-relation rows with null values of the hash key were omitted from
      the join result.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [14a158f9b] 2018-10-30 15:26:11 -0400
Branch: REL_11_STABLE [2bd6dcdef] 2018-10-30 15:26:11 -0400
</span><p>
      Fix incorrect processing of an array-type coercion expression
      appearing within a <code class="literal">CASE</code> clause that has a constant
      test expression (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Andrew Dunstan &lt;andrew@dunslane.net&gt;
Branch: master [040a1df61] 2018-10-24 10:56:27 -0400
Branch: REL_11_STABLE [372102b81] 2018-10-24 10:57:35 -0400
</span><p>
      Fix incorrect expansion of tuples lacking recently-added columns
      (Andrew Dunstan, Amit Langote)
     </p><p>
      This is known to lead to crashes in triggers on tables with
      recently-added columns, and could have other symptoms as well.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [15c729347] 2018-11-04 13:25:39 -0500
Branch: REL_11_STABLE [4b0c3712c] 2018-11-04 13:25:39 -0500
Branch: master [9b6fb9fbb] 2018-11-04 14:50:55 -0500
Branch: REL_11_STABLE [d358da814] 2018-11-04 14:50:55 -0500
</span><p>
      Fix bugs with named or defaulted arguments in <code class="command">CALL</code>
      argument lists (Tom Lane, Pavel Stehule)
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [4c640f4f3] 2018-11-03 14:48:42 -0700
Branch: REL_11_STABLE [fd59b29c8] 2018-11-03 14:48:42 -0700
Branch: master [793beab37] 2018-11-03 15:55:23 -0700
Branch: REL_11_STABLE [6eb31cedb] 2018-11-03 16:00:00 -0700
</span><p>
      Fix strictness check for strict aggregates with <code class="literal">ORDER
      BY</code> columns (Andrew Gierth, Andres Freund)
     </p><p>
      The strictness logic incorrectly ignored rows for which
      the <code class="literal">ORDER BY</code> value(s) were null.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [5d28c9bd7] 2018-11-06 18:33:28 -0500
Branch: REL_11_STABLE [05f84605d] 2018-11-06 18:33:33 -0500
</span><p>
      Disable <code class="varname">recheck_on_update</code> optimization (Tom Lane)
     </p><p>
      This new-in-v11 feature turns out not to have been ready for prime
      time.  Disable it until something can be done about it.
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [dc3e436b1] 2018-11-05 11:04:02 +0900
Branch: REL_11_STABLE [7c222d5e5] 2018-11-05 11:04:14 +0900
Branch: REL_10_STABLE [8aad248f7] 2018-11-05 11:04:20 +0900
</span><p>
      Prevent creation of a partition in a trigger attached to its parent
      table (Amit Langote)
     </p><p>
      Ideally we'd allow that, but for the moment it has to be blocked to
      avoid crashes.
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [4bc772e2a] 2018-11-05 09:14:33 +0900
Branch: REL_11_STABLE [948af5232] 2018-11-05 09:15:08 +0900
Branch: REL_10_STABLE [70c38e708] 2018-11-05 09:15:25 +0900
</span><p>
      Fix problems with applying <code class="literal">ON COMMIT DELETE ROWS</code> to
      a partitioned temporary table (Amit Langote)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [981dc2baa] 2018-11-03 13:56:10 -0400
Branch: REL_11_STABLE [bf4a9562e] 2018-11-03 13:56:10 -0400
Branch: REL_10_STABLE [f7ba6e951] 2018-11-03 13:56:10 -0400
Branch: REL9_6_STABLE [73dbaed93] 2018-11-03 13:56:10 -0400
Branch: REL9_5_STABLE [6e6092989] 2018-11-03 13:56:10 -0400
Branch: REL9_4_STABLE [0ae902e39] 2018-11-03 13:56:10 -0400
Branch: REL9_3_STABLE [33c697e9d] 2018-11-03 13:56:10 -0400
</span><p>
      Fix character-class checks to not fail on Windows for Unicode
      characters above U+FFFF (Tom Lane, Kenji Uno)
     </p><p>
      This bug affected full-text-search operations, as well
      as <code class="filename">contrib/ltree</code>
      and <code class="filename">contrib/pg_trgm</code>.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [2ddb9149d] 2018-10-19 21:39:21 -0400
Branch: REL_11_STABLE [7aaeb7b45] 2018-10-19 21:39:21 -0400
Branch: REL_10_STABLE [3bdef6d21] 2018-10-19 21:39:21 -0400
Branch: REL9_6_STABLE [cbab94077] 2018-10-19 21:39:22 -0400
Branch: REL9_5_STABLE [f4941666a] 2018-10-19 21:39:22 -0400
</span><p>
      Ensure that the server will process
      already-received <code class="literal">NOTIFY</code>
      and <code class="literal">SIGTERM</code> interrupts before waiting for client
      input (Jeff Janes, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [696b0c5fd] 2018-10-31 17:05:03 -0400
Branch: REL_11_STABLE [2493e2c2d] 2018-10-31 17:04:42 -0400
Branch: REL_10_STABLE [92e371f9b] 2018-10-31 17:04:43 -0400
Branch: REL9_6_STABLE [558571afc] 2018-10-31 17:04:43 -0400
Branch: REL9_5_STABLE [156a737a6] 2018-10-31 17:04:43 -0400
Branch: REL9_4_STABLE [95015b1f8] 2018-10-31 17:04:43 -0400
Branch: REL9_3_STABLE [82dd1c271] 2018-10-31 17:04:43 -0400
</span><p>
      Fix memory leak in repeated SP-GiST index scans (Tom Lane)
     </p><p>
      This is only known to amount to anything significant in cases where
      an exclusion constraint using SP-GiST receives many new index entries
      in a single command.
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [691d79a07] 2018-10-31 15:46:39 -0700
Branch: REL_11_STABLE [c33a01c79] 2018-10-31 15:46:40 -0700
Branch: REL_10_STABLE [021e1c329] 2018-10-31 15:46:40 -0700
Branch: REL9_6_STABLE [d35fd17cb] 2018-10-31 15:46:40 -0700
Branch: REL9_5_STABLE [679cb44e4] 2018-10-31 15:46:40 -0700
Branch: REL9_4_STABLE [cf358a2c0] 2018-10-31 15:46:40 -0700
</span><p>
      Prevent starting the server with <code class="varname">wal_level</code> set
      to too low a value to support an existing replication slot (Andres
      Freund)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4247db625] 2018-10-19 22:22:57 -0400
Branch: REL_11_STABLE [d30d27a52] 2018-10-19 22:22:57 -0400
Branch: REL_10_STABLE [ecc59e31a] 2018-10-19 22:22:57 -0400
Branch: REL9_6_STABLE [34aad21cb] 2018-10-19 22:22:57 -0400
Branch: REL9_5_STABLE [ac3be116a] 2018-10-19 22:22:57 -0400
</span><p>
      Fix <span class="application">psql</span>, as well as documentation
      examples, to call <code class="function">PQconsumeInput()</code> before
      each <code class="function">PQnotifies()</code> call (Tom Lane)
     </p><p>
      This fixes cases in which <span class="application">psql</span> would not
      report receipt of a <code class="literal">NOTIFY</code> message until after the
      next command.
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [d55241af7] 2018-10-19 22:44:12 +0900
Branch: REL_11_STABLE [cc7f27eae] 2018-10-19 22:45:07 +0900
</span><p>
      Fix <span class="application">pg_verify_checksums</span>'s determination of
      which files to check the checksums of (Michael Paquier)
     </p><p>
      In some cases it complained about files that are not expected to have
      checksums.
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [edb979766] 2018-09-25 09:55:44 +0900
Branch: REL_11_STABLE Release: REL_11_0 [a3bb831ef] 2018-09-25 09:56:41 +0900
Branch: REL_10_STABLE [90a1f9786] 2018-09-25 09:56:57 +0900
</span><p>
      In <code class="filename">contrib/pg_stat_statements</code>, disallow
      the <code class="literal">pg_read_all_stats</code> role from
      executing <code class="function">pg_stat_statements_reset()</code>
      (Haribabu Kommi)
     </p><p>
      <code class="literal">pg_read_all_stats</code> is only meant to grant permission
      to read statistics, not to change them, so this grant was incorrect.
     </p><p>
      To cause this change to take effect, run <code class="literal">ALTER EXTENSION
      pg_stat_statements UPDATE</code> in each database
      where <code class="filename">pg_stat_statements</code> has been installed.
      (A database freshly created in 11.0 should not need this, but a
      database upgraded from a previous release probably still contains
      the old version of <code class="filename">pg_stat_statements</code>.  The
      <code class="literal">UPDATE</code> command is harmless if the module was
      already updated.)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [003c68a3b] 2018-11-06 13:25:24 -0500
Branch: REL_11_STABLE [1f28ec6be] 2018-11-06 13:25:24 -0500
Branch: REL_10_STABLE [b2e754c14] 2018-11-06 13:25:24 -0500
</span><p>
      Rename red-black tree support functions to use <code class="literal">rbt</code>
      prefix not <code class="literal">rb</code> prefix (Tom Lane)
     </p><p>
      This avoids name collisions with Ruby functions, which broke
      PL/Ruby.  It's hoped that there are no other affected extensions.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [1440c461f] 2018-11-02 18:54:00 -0400
Branch: REL_11_STABLE [df1d749a7] 2018-11-02 18:54:00 -0400
Branch: REL_10_STABLE [229a5c8ad] 2018-11-02 18:54:00 -0400
Branch: REL9_6_STABLE [401202b79] 2018-11-02 18:54:00 -0400
Branch: REL9_5_STABLE [94ea1cf73] 2018-11-02 18:54:00 -0400
Branch: REL9_4_STABLE [1b5e8b408] 2018-11-02 18:54:00 -0400
Branch: REL9_3_STABLE [1aad3a724] 2018-11-02 18:54:00 -0400
Branch: master [e74dd00f5] 2018-10-18 14:55:23 -0400
Branch: REL_11_STABLE [d1e869d1e] 2018-10-18 14:55:23 -0400
Branch: REL_10_STABLE [34f9944c2] 2018-10-18 14:55:23 -0400
Branch: REL9_6_STABLE [1b92ca9e2] 2018-10-18 14:55:23 -0400
Branch: REL9_5_STABLE [021b355cd] 2018-10-18 14:55:23 -0400
Branch: REL9_4_STABLE [0749acca5] 2018-10-18 14:55:23 -0400
Branch: REL9_3_STABLE [015fd381f] 2018-10-18 14:55:23 -0400
Branch: master [68fc227dd] 2018-10-16 16:27:15 -0400
Branch: REL_11_STABLE [1a69f738d] 2018-10-16 16:27:15 -0400
Branch: REL_10_STABLE [ee6c08b01] 2018-10-16 16:27:15 -0400
Branch: REL9_6_STABLE [5777a9ff8] 2018-10-16 16:27:15 -0400
Branch: REL9_5_STABLE [d0ab588cc] 2018-10-16 16:27:15 -0400
Branch: REL9_4_STABLE [486e6f8d9] 2018-10-16 16:27:15 -0400
Branch: REL9_3_STABLE [19ac2cb2a] 2018-10-16 16:27:15 -0400
Branch: master [5e2217131] 2018-09-25 13:23:29 -0400
Branch: REL_11_STABLE Release: REL_11_0 [9590f7d6c] 2018-09-25 13:23:29 -0400
Branch: REL_10_STABLE [736c3a48c] 2018-09-25 13:23:29 -0400
Branch: REL9_6_STABLE [0a4456a70] 2018-09-25 13:23:29 -0400
Branch: REL9_5_STABLE [6dc28d291] 2018-09-25 13:23:29 -0400
Branch: REL9_4_STABLE [a5361b593] 2018-09-25 13:23:29 -0400
Branch: REL9_3_STABLE [6019247a5] 2018-09-25 13:23:29 -0400
</span><p>
      Fix build problems on macOS 10.14 (Mojave) (Tom Lane)
     </p><p>
      Adjust <span class="application">configure</span> to add
      an <code class="option">-isysroot</code> switch to <code class="varname">CPPFLAGS</code>;
      without this, PL/Perl and PL/Tcl fail to configure or build on macOS
      10.14.  The specific sysroot used can be overridden at configure time
      or build time by setting the <code class="varname">PG_SYSROOT</code> variable in
      the arguments of <span class="application">configure</span>
      or <span class="application">make</span>.
     </p><p>
      It is now recommended that Perl-related extensions
      write <code class="literal">$(perl_includespec)</code> rather
      than <code class="literal">-I$(perl_archlibexp)/CORE</code> in their compiler
      flags.  The latter continues to work on most platforms, but not recent
      macOS.
     </p><p>
      Also, it should no longer be necessary to
      specify <code class="option">--with-tclconfig</code> manually to get PL/Tcl to
      build on recent macOS releases.
     </p></li><li class="listitem"><span class="original">
Author: Andrew Dunstan &lt;andrew@dunslane.net&gt;
Branch: master [1df92eeaf] 2018-10-28 12:22:32 -0400
Branch: REL_11_STABLE [8cb5e67d1] 2018-10-28 12:23:19 -0400
Branch: REL_10_STABLE [a71f55652] 2018-10-28 12:25:10 -0400
Branch: REL9_6_STABLE [9fd6d4eae] 2018-10-28 12:25:56 -0400
Branch: REL9_5_STABLE [ba103dc87] 2018-10-28 12:26:05 -0400
Branch: REL9_4_STABLE [698255147] 2018-10-28 12:26:14 -0400
Branch: REL9_3_STABLE [075641fd0] 2018-10-28 12:27:58 -0400
</span><p>
      Fix MSVC build and regression-test scripts to work on recent Perl
      versions (Andrew Dunstan)
     </p><p>
      Perl no longer includes the current directory in its search path
      by default; work around that.
     </p></li><li class="listitem"><span class="original">
Author: Andrew Dunstan &lt;andrew@dunslane.net&gt;
Branch: master [ce5d3424d] 2018-10-20 09:02:36 -0400
Branch: REL_11_STABLE [a0a8671a6] 2018-10-20 09:10:02 -0400
Branch: REL_10_STABLE [f4b67efdc] 2018-10-20 09:10:18 -0400
Branch: REL9_6_STABLE [42a93da25] 2018-10-20 09:10:54 -0400
Branch: REL9_5_STABLE [cc02db82c] 2018-10-20 09:11:18 -0400
</span><p>
      On Windows, allow the regression tests to be run by an Administrator
      account (Andrew Dunstan)
     </p><p>
      To do this safely, <span class="application">pg_regress</span> now gives up
      any such privileges at startup.
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [5c2e0ca5f] 2018-10-31 08:35:50 -0400
Branch: REL_11_STABLE [58c45fdaa] 2018-10-31 08:36:06 -0400
Branch: REL_10_STABLE [671f43d88] 2018-10-31 08:36:15 -0400
Branch: REL9_6_STABLE [bb761c6a0] 2018-10-31 08:36:22 -0400
Branch: REL9_5_STABLE [811d8cb87] 2018-10-31 08:36:29 -0400
Branch: REL9_4_STABLE [d651e9e7c] 2018-10-31 08:36:35 -0400
Branch: REL9_3_STABLE [3bf4edace] 2018-10-31 08:36:41 -0400
Branch: master [13877d30f] 2018-10-19 17:01:34 -0400
Branch: REL_11_STABLE [d2259c26b] 2018-10-19 17:01:49 -0400
Branch: REL_10_STABLE [5777c93af] 2018-10-19 17:01:56 -0400
Branch: REL9_6_STABLE [185f135c9] 2018-10-19 17:02:05 -0400
Branch: REL9_5_STABLE [56170609b] 2018-10-19 17:02:12 -0400
Branch: REL9_4_STABLE [9abbfc35c] 2018-10-19 17:02:20 -0400
Branch: REL9_3_STABLE [84261eb10] 2018-10-19 17:02:26 -0400
</span><p>
      Update time zone data files to <span class="application">tzdata</span>
      release 2018g for DST law changes in Chile, Fiji, Morocco, and Russia
      (Volgograd), plus historical corrections for China, Hawaii, Japan,
      Macau, and North Korea.
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-11.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">付録E リリースノート </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.2. Release 11</td></tr></table></div></body></html>