<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.1. リリース15.4</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release.html" title="付録E リリースノート" /><link rel="next" href="release-15-3.html" title="E.2. リリース15.3" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 15.4文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 15.4 : release-15-4.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.1. リリース15.4</td><td width="20%" align="right"> <a accesskey="n" href="release-15-3.html" title="E.2. リリース15.3">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-15-4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.1. リリース15.4</h2></div></div></div><span class="original">
  &lt;title&gt;Release 15.4&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2023-08-10</p><p>
<span class="original">
   This release contains a variety of fixes from 15.3.
   For information about new features in major release 15, see
   &lt;xref linkend="release-15"/&gt;.
</span>
このリリースは15.3に対し、様々な不具合を修正したものです。
15メジャーリリースにおける新機能については、<a class="xref" href="release-15.html" title="E.5. リリース 15">E.5</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.5.4"><div class="titlepage"><div><div><h3 class="title">E.1.1. バージョン15.4への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 15.4&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 15.X.
</span>
15.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you use BRIN indexes, it may be advisable to reindex them;
    see the third changelog entry below.
</span>
しかしながら、BRINインデックスを使用している場合は、インデックスを再作成することをお勧めします。
以下の変更点の3番目のエントリを参照してください。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 15.1,
    see &lt;xref linkend="release-15-1"/&gt;.
</span>
また、15.1より前のバージョンからアップグレードする場合は、<a class="xref" href="release-15-1.html" title="E.4. Release 15.1">E.4</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.5.5"><div class="titlepage"><div><div><h3 class="title">E.1.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [cd5f2a357] 2023-08-07 06:05:56 -0700
Branch: REL_16_STABLE [f53511010] 2023-08-07 06:05:59 -0700
Branch: REL_15_STABLE [de494ec14] 2023-08-07 06:06:00 -0700
Branch: REL_14_STABLE [d4648a74b] 2023-08-07 06:06:00 -0700
Branch: REL_13_STABLE [b1b585e0f] 2023-08-07 06:06:00 -0700
Branch: REL_12_STABLE [eb044d8f0] 2023-08-07 06:06:00 -0700
Branch: REL_11_STABLE [919ebb023] 2023-08-07 06:06:01 -0700
</span><p>
<span class="original">
      Disallow substituting a schema or owner name into an extension script
      if the name contains a quote, backslash, or dollar sign (Noah Misch)
</span>
スキーマ名や所有者名にクオート、バックスラッシュ、ドル記号が含まれている場合、拡張のスクリプトでその名前に置き換えることが禁止されました。
(Noah Misch)
     </p><p>
<span class="original">
      This restriction guards against SQL-injection hazards for trusted
      extensions.
</span>
この制限は、信頼された拡張に対するSQLインジェクションを防ぎます。
     </p><p>
<span class="original">
      The &lt;productname&gt;PostgreSQL&lt;/productname&gt; Project thanks Micah Gate,
      Valerie Woolard, Tim Carey-Smith, and Christoph Berg for reporting
      this problem.
      (CVE-2023-39417)
</span>
<span class="productname">PostgreSQL</span>プロジェクトは、本問題を報告してくれたMicah Gate、Valerie Woolard、Tim Carey-Smith、Christoph Bergに感謝します。
(CVE-2023-39417)
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [c2e08b04c] 2023-08-07 09:28:47 +0100
Branch: REL_16_STABLE [67a007dc0] 2023-08-07 09:27:09 +0100
Branch: REL_15_STABLE [cb2ae5741] 2023-08-07 09:24:27 +0100
</span><p>
<span class="original">
      Fix &lt;command&gt;MERGE&lt;/command&gt; to enforce row security policies
      properly (Dean Rasheed)
</span>
行セキュリティポリシーを適切に実施するように<code class="command">MERGE</code>コマンドを修正しました。
(Dean Rasheed)
     </p><p>
<span class="original">
      When &lt;command&gt;MERGE&lt;/command&gt; performs an &lt;literal&gt;UPDATE&lt;/literal&gt;
      action, it should enforce any &lt;literal&gt;UPDATE&lt;/literal&gt; or
      &lt;literal&gt;SELECT&lt;/literal&gt; RLS policies defined on the target table,
      to be consistent with the way that a plain &lt;command&gt;UPDATE&lt;/command&gt;
      with a &lt;literal&gt;WHERE&lt;/literal&gt; clause works.  Instead it was
      enforcing &lt;literal&gt;INSERT&lt;/literal&gt; RLS policies for both
      &lt;literal&gt;INSERT&lt;/literal&gt; and &lt;literal&gt;UPDATE&lt;/literal&gt; actions.
</span>
<code class="command">MERGE</code>コマンドが<code class="literal">UPDATE</code>アクションを実行する場合、<code class="literal">WHERE</code>句を持つ単純な<code class="command">UPDATE</code>の動作方法と一貫性を保つように、ターゲットテーブルで定義された<code class="literal">UPDATE</code>または<code class="literal">SELECT</code>RLSポリシーを強制する必要があります。
その代わりに、<code class="literal">INSERT</code>と<code class="literal">UPDATE</code>アクションの両方に<code class="literal">INSERT</code>RLSポリシーを実施していました。
     </p><p>
<span class="original">
      In addition, when &lt;command&gt;MERGE&lt;/command&gt; performs a &lt;literal&gt;DO
      NOTHING&lt;/literal&gt; action, it applied the target table's
      &lt;literal&gt;DELETE&lt;/literal&gt; RLS policies to existing rows, even though
      those rows are not being deleted.  While it's not a security
      problem, this could result in unwanted errors.
</span>
さらに、<code class="command">MERGE</code>が<code class="literal">DO NOTHING</code>アクションを実行すると、行が削除されていない場合でも、ターゲットテーブルの<code class="literal">DELETE</code>RLSポリシーが既存の行に適用されます。
これはセキュリティの問題ではありませんが、望ましくないエラーが発生する可能性があります。
     </p><p>
<span class="original">
      The &lt;productname&gt;PostgreSQL&lt;/productname&gt; Project thanks
      Dean Rasheed for reporting this problem.
      (CVE-2023-39418)
</span>
<span class="productname">PostgreSQL</span>プロジェクトは、本問題を報告してくれたDean Rasheedに感謝します。
(CVE-2023-39418)
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master Release: REL_16_BR [3581cbdcd] 2023-05-19 01:29:44 +0200
Branch: REL_15_STABLE [e18769323] 2023-05-19 00:15:13 +0200
Branch: REL_14_STABLE [40d465caf] 2023-05-19 00:15:00 +0200
Branch: REL_13_STABLE [6c512fc6e] 2023-05-19 00:14:05 +0200
Branch: REL_12_STABLE [d78a66d92] 2023-05-19 00:16:13 +0200
Branch: REL_11_STABLE [fc7dc728d] 2023-05-19 00:21:05 +0200
Branch: master Release: REL_16_BR [3ec8a3bfb] 2023-05-18 23:33:23 +0200
Branch: REL_15_STABLE [80f64b900] 2023-05-18 23:33:45 +0200
Branch: REL_14_STABLE [3f1356e5d] 2023-05-18 23:34:10 +0200
Branch: REL_13_STABLE [2b1ab28b9] 2023-05-18 23:34:35 +0200
Branch: REL_12_STABLE [d42ffda68] 2023-05-18 23:34:56 +0200
Branch: REL_11_STABLE [b511d7323] 2023-05-18 23:35:16 +0200
</span><p>
<span class="original">
      Fix confusion between empty (no rows) ranges and all-NULL ranges in
      BRIN indexes, as well as incorrect merging of all-NULL summaries
      (Tomas Vondra)
</span>
BRINインデックスでの行のない空の範囲と全てがNULL範囲との混同と、全てがNULLの要約の誤ったマージを修正しました。
(Tomas Vondra)
     </p><p>
<span class="original">
      Each of these oversights could result in forgetting that a BRIN
      index range contains any NULL values, potentially allowing
      subsequent queries that should return NULL values to miss doing so.
</span>
これらの見落としの結果、BRINインデックス範囲にNULL値があることを忘れてしまう可能性があり、NULL値を返すべき後続のクエリがNULL値を返さない可能性がありました。
     </p><p>
<span class="original">
      This fix will not in itself correct faulty BRIN entries.
      It's recommended to &lt;command&gt;REINDEX&lt;/command&gt; any BRIN indexes that
      may be used to search for nulls.
</span>
この修正自体は、誤ったBRINエントリを修正しません。
NULLの検索に使用されるBRINインデックスに対して<code class="command">REINDEX</code>することをお勧めします。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [c66a7d75e] 2023-07-13 13:03:28 -0700
Branch: REL_16_STABLE [a4b4cc1d6] 2023-07-13 13:03:30 -0700
Branch: REL_15_STABLE [f66403749] 2023-07-13 13:04:45 -0700
Branch: REL_14_STABLE [d11efe830] 2023-07-13 13:03:33 -0700
Branch: REL_13_STABLE [81ce00006] 2023-07-13 13:03:34 -0700
Branch: REL_12_STABLE [034a9fcd2] 2023-07-13 13:03:36 -0700
Branch: REL_11_STABLE [1c38e7ae1] 2023-07-13 13:03:37 -0700
</span><p>
<span class="original">
      Avoid leaving a corrupted database behind when &lt;command&gt;DROP
      DATABASE&lt;/command&gt; is interrupted (Andres Freund)
</span>
<code class="command">DROP DATABASE</code>が中断されたときに、破損したデータベースを放置しないようになりました。
(Andres Freund)
     </p><p>
<span class="original">
      If &lt;command&gt;DROP DATABASE&lt;/command&gt; was interrupted after it had
      already begun taking irreversible steps, the target database
      remained accessible (because the removal of
      its &lt;structname&gt;pg_database&lt;/structname&gt; row would roll back),
      but it would have corrupt contents.  Fix by marking the database
      as inaccessible before we begin to perform irreversible operations.
      A failure after that will leave the database still partially
      present, but nothing can be done with it except to issue
      another &lt;command&gt;DROP DATABASE&lt;/command&gt;.
</span>
<code class="command">DROP DATABASE</code>がすでに元に戻せない処理を開始した後に中断された場合、ターゲットデータベースはアクセス可能なままですが（<code class="structname">pg_database</code>行の削除がロールバックされるため）、データベースの内容は破損していました。
元に戻せない操作を開始する前に、データベースをアクセス不能とマーキングする修正をしました。
その後に障害が発生すると、データベースは部分的に残ったままになりますが、別の<code class="command">DROP DATABASE</code>を発行する以外には何もできません。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [cfc43aeb3] 2023-06-30 13:54:48 +0900
Branch: REL_16_STABLE [f4691e2e7] 2023-06-30 13:54:53 +0900
Branch: REL_15_STABLE [cb4ac3e56] 2023-06-30 13:54:55 +0900
Branch: REL_14_STABLE [663b35f2d] 2023-06-30 13:54:56 +0900
Branch: REL_13_STABLE [537b70b82] 2023-06-30 13:54:59 +0900
Branch: REL_12_STABLE [dbe0e5c56] 2023-06-30 13:55:02 +0900
Branch: REL_11_STABLE [c75c33de5] 2023-06-30 13:55:07 +0900
</span><p>
<span class="original">
      Ensure that partitioned indexes are correctly marked as valid or not
      at creation (Michael Paquier)
</span>
パーティションインデックスが作成時に有効または無効として正しくマークされるようになりました。
(Michael Paquier)
     </p><p>
<span class="original">
      If a new partitioned index matches an existing but invalid index on
      one of the partitions, the partitioned index could end up being
      marked valid prematurely.  This could lead to misbehavior or
      assertion failures in subsequent queries on the partitioned table.
</span>
新しいパーティションインデックスが、いずれかのパーティション上の既存の無効なインデックスと一致する場合、そのパーティションインデックスは途中で有効とマークされる可能性がありました。
これにより、パーティションテーブルに対する後続の問い合わせで誤動作やアサーションエラーが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [fc55c7ff8] 2023-06-28 15:57:31 +0900
Branch: REL_15_STABLE [7aa17b498] 2023-06-28 15:57:43 +0900
Branch: REL_14_STABLE [6160e221d] 2023-06-28 15:57:48 +0900
Branch: REL_13_STABLE [f42844069] 2023-06-28 15:57:51 +0900
Branch: REL_12_STABLE [63b292e73] 2023-06-28 15:57:53 +0900
Branch: REL_11_STABLE [e90e9275f] 2023-06-28 15:57:55 +0900
</span><p>
<span class="original">
      Ignore invalid child indexes when matching partitioned indexes to
      child indexes during &lt;command&gt;ALTER TABLE ATTACH PARTITION&lt;/command&gt;
      (Michael Paquier)
</span>
<code class="command">ALTER TABLE ATTACH PARTITION</code>の実行中にパーティションインデックスを子インデックスと照合するとき、無効な子インデックスを無視するようになりました。
(Michael Paquier)
     </p><p>
<span class="original">
      Such an index will now be ignored, and a new child index created
      instead.
</span>
このようなインデックスは無視され、代わりに新しい子インデックスが作成されるようになりました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [38ea6aa90] 2023-07-14 10:12:48 +0900
Branch: REL_16_STABLE [31f9d41d6] 2023-07-14 10:13:14 +0900
Branch: REL_15_STABLE [c0dc97c7b] 2023-07-14 10:13:15 +0900
Branch: REL_14_STABLE [954cc2139] 2023-07-14 10:13:17 +0900
Branch: REL_13_STABLE [c89d74c18] 2023-07-14 10:13:20 +0900
Branch: REL_12_STABLE [f1d6bcdd8] 2023-07-14 10:13:21 +0900
Branch: REL_11_STABLE [ed2b58c15] 2023-07-14 10:13:22 +0900
</span><p>
<span class="original">
      Fix possible failure when marking a partitioned index valid after
      all of its partitions have been attached (Michael Paquier)
</span>
すべてのパーティションがアタッチされた後、パーティションインデックスを有効とマーキングする時に発生する可能性があった障害を修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      The update of the index's &lt;structname&gt;pg_index&lt;/structname&gt; entry
      could use stale data for other columns.  One reported symptom is
      an &lt;quote&gt;attempted to update invisible tuple&lt;/quote&gt; error.
</span>
インデックスの<code class="structname">pg_index</code>エントリの更新は、他の列に対して古いデータを使用する可能性がありました。
報告されている症状の1つは、<span class="quote">「<span class="quote">attempted to update invisible tuple</span>」</span>エラーです。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [bd5ddbe86] 2023-07-10 09:40:07 +0900
Branch: REL_16_STABLE [55c95f24c] 2023-07-10 09:40:12 +0900
Branch: REL_15_STABLE [d1e0f408c] 2023-07-10 09:40:14 +0900
Branch: REL_14_STABLE [235e716bc] 2023-07-10 09:40:15 +0900
Branch: REL_13_STABLE [f5b075adc] 2023-07-10 09:40:17 +0900
Branch: REL_12_STABLE [02021f1b2] 2023-07-10 09:40:22 +0900
Branch: REL_11_STABLE [914e72e6e] 2023-07-10 09:40:24 +0900
</span><p>
<span class="original">
      Fix &lt;command&gt;ALTER EXTENSION SET SCHEMA&lt;/command&gt; to complain if the
      extension contains any objects outside the extension's schema
      (Michael Paquier, Heikki Linnakangas)
</span>
拡張に拡張のスキーマ外のオブジェクトが含まれている場合にエラーが発生するように<code class="command">ALTER EXTENSION SET SCHEMA</code>を修正しました。
(Michael Paquier, Heikki Linnakangas)
     </p><p>
<span class="original">
      Erroring out if the extension contains objects in multiple schemas
      was always intended; but the check was mis-coded so that it would
      fail to detect some cases, leading to surprising behavior.
</span>
拡張に複数スキーマのオブジェクトが含まれている場合にエラーが発生するのは常に意図されていましたが、チェックのコーディングが誤っていたため、一部のケースを検出できず、予期しない動作が発生しました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [97d891010] 2023-06-30 07:49:01 +0900
Branch: REL_15_STABLE [93401ec02] 2023-06-30 07:49:07 +0900
</span><p>
<span class="original">
      Fix tracking of tables' access method dependencies (Michael Paquier)
</span>
テーブルのアクセスメソッド依存関係の追跡を修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      &lt;command&gt;ALTER TABLE ... SET ACCESS METHOD&lt;/command&gt; failed to
      update relevant &lt;structname&gt;pg_depend&lt;/structname&gt; entries when
      changing a table's access method.  When using non-built-in access
      methods, this creates a risk that an access method could be dropped
      even though tables still depend on it.  This fix corrects the logic
      in &lt;command&gt;ALTER TABLE&lt;/command&gt;, but it will not adjust any
      already-missing &lt;structname&gt;pg_depend&lt;/structname&gt; entries.
</span>
<code class="command">ALTER TABLE ... SET ACCESS METHOD</code>は、テーブルのアクセスメソッドを変更するときに関連する<code class="structname">pg_depend</code>エントリの更新に失敗しました。
組み込みでないアクセスメソッドを使用する場合、テーブルが依然としてアクセスメソッドに依存していても、そのアクセスメソッドが削除される可能性があるというリスクが生じます。
この修正は、<code class="command">ALTER TABLE</code>のロジックを修正しますが、すでに欠落している<code class="structname">pg_depend</code>エントリは修復されません。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master Release: REL_16_BR [7fcd7ef2a] 2023-06-19 13:00:42 +1200
Branch: REL_15_STABLE [8f2ec8cc7] 2023-06-19 13:01:29 +1200
Branch: REL_14_STABLE [73f1c17fc] 2023-06-19 13:01:58 +1200
Branch: REL_13_STABLE [06286f8a2] 2023-06-19 13:02:24 +1200
Branch: REL_12_STABLE [dcef5b052] 2023-06-19 13:02:52 +1200
Branch: REL_11_STABLE [f6345f03f] 2023-06-19 13:03:17 +1200
</span><p>
<span class="original">
      Don't use partial unique indexes for uniqueness proofs in the
      planner (David Rowley)
</span>
プランナでの一意性の証明に一意な部分インデックスを使用しないようにしました。
(David Rowley)
     </p><p>
<span class="original">
      This could give rise to incorrect plans, since the presumed
      uniqueness of rows read from a table might not hold if the index in
      question isn't used to scan the table.
</span>
問題のインデックスがテーブルのスキャンに使用されない場合、テーブルから読み込まれた行の推定される一意性が保持されない可能性があるため、これは誤った計画を引き起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [990c3650c] 2023-08-07 22:14:21 +1200
Branch: REL_16_STABLE [ae89129aa] 2023-08-07 22:14:54 +1200
Branch: REL_15_STABLE [71662373b] 2023-08-07 22:15:23 +1200
Branch: REL_14_STABLE [bf315354e] 2023-08-07 22:15:50 +1200
</span><p>
<span class="original">
      Don't Memoize lateral joins with volatile join conditions
      (Richard Guo)
</span>
揮発性の結合条件を含むラテラル結合で、Memoizeを使わないようにしました。
(Richard Guo)
     </p><p>
<span class="original">
      Applying Memoize to a sub-plan that contains volatile filter
      conditions is likely to lead to wrong answers.  The check to avoid
      doing this missed some cases that can arise when
      using &lt;literal&gt;LATERAL&lt;/literal&gt;.
</span>
揮発性のフィルタ条件を含むサブプランにMemoizeを適用すると、間違った結果につながる可能性があります。
これを回避するためのチェックは、<code class="literal">LATERAL</code>を使用するときに発生する可能性のあるいくつかのケースを見逃していました。
     </p></li><li class="listitem"><span class="original">
Author: Etsuro Fujita &lt;efujita@postgresql.org&gt;
Branch: master [6f80a8d9c] 2023-07-28 15:45:00 +0900
Branch: REL_16_STABLE [695f5deb7] 2023-07-28 15:45:01 +0900
Branch: REL_15_STABLE [d1ef5631e] 2023-07-28 15:45:02 +0900
Branch: REL_14_STABLE [b0e390e6d] 2023-07-28 15:45:04 +0900
Branch: REL_13_STABLE [730f983ef] 2023-07-28 15:45:06 +0900
Branch: REL_12_STABLE [9edf72aa7] 2023-07-28 15:45:08 +0900
Branch: REL_11_STABLE [db01f2696] 2023-07-28 15:45:09 +0900
</span><p>
<span class="original">
      Avoid producing incorrect plans for foreign joins with
      pseudoconstant join clauses (Etsuro Fujita)
</span>
疑似定数のJOIN句を伴う外部結合に対して誤った計画を作成しないようにしました。
(Etsuro Fujita)
     </p><p>
<span class="original">
      The planner currently lacks support for attaching pseudoconstant
      join clauses to a pushed-down remote join, so disable generation
      of remote joins in such cases.  (A better solution will require
      ABI-breaking changes of planner data structures, so it will have to
      wait for a future major release.)
</span>
現在、プランナにはプッシュダウンされたリモート結合に疑似定数のJOIN句を付加するサポートがないため、このような場合にはリモート結合の生成を無効にしました。
（より優れたソリューションには、プランナデータ構造のABIを破壊する変更が必要になるため、将来のメジャーリリースを待つ必要があります。）
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [792213f2e] 2023-06-13 15:58:43 -0400
Branch: REL_15_STABLE [cc6974df1] 2023-06-13 15:58:37 -0400
Branch: REL_14_STABLE [d1423c52e] 2023-06-13 15:58:37 -0400
Branch: REL_13_STABLE [a36d0014f] 2023-06-13 15:58:37 -0400
Branch: REL_12_STABLE [b4110bdbf] 2023-06-13 15:58:37 -0400
Branch: REL_11_STABLE [13192a324] 2023-06-13 15:58:37 -0400
</span><p>
<span class="original">
      Correctly handle sub-SELECTs in RLS policy expressions and
      security-barrier views when expanding rule actions (Tom Lane)
</span>
ルールアクションを展開するときに、RLS(行単位セキュリティ)のポリシー式およびセキュリティバリアビューでサブSELECTが正しく処理されるようになりました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [126552c85] 2023-07-04 09:07:31 +1200
Branch: REL_16_STABLE [12529028a] 2023-07-04 09:04:35 +1200
Branch: REL_15_STABLE [d34aa0a2f] 2023-07-04 09:10:37 +1200
Branch: REL_14_STABLE [fb663f387] 2023-07-04 09:14:16 +1200
Branch: REL_13_STABLE [fc1547384] 2023-07-04 09:20:55 +1200
Branch: REL_12_STABLE [255a925d3] 2023-07-04 09:21:33 +1200
Branch: REL_11_STABLE [13f127800] 2023-07-04 09:40:30 +1200
Branch: master [bcc93a389] 2023-07-04 09:07:31 +1200
Branch: REL_16_STABLE [d03d9a261] 2023-07-04 09:04:35 +1200
Branch: REL_15_STABLE [ab265e985] 2023-07-04 09:10:37 +1200
Branch: REL_14_STABLE [3f7d3a77e] 2023-07-04 09:14:16 +1200
Branch: REL_13_STABLE [8976ac5c5] 2023-07-04 09:20:55 +1200
Branch: REL_12_STABLE [17b8887c2] 2023-07-04 09:21:33 +1200
Branch: REL_11_STABLE [814f3c8e4] 2023-07-04 09:40:30 +1200
Branch: master [f9b7fc651] 2023-07-04 09:07:31 +1200
Branch: REL_16_STABLE [0cb1fb2c9] 2023-07-04 09:04:35 +1200
Branch: REL_15_STABLE [0f275b0ee] 2023-07-04 09:10:37 +1200
Branch: REL_14_STABLE [ae6d536ed] 2023-07-04 09:14:16 +1200
Branch: REL_13_STABLE [8f705d7b9] 2023-07-04 09:20:55 +1200
Branch: REL_12_STABLE [fe88497b4] 2023-07-04 09:21:33 +1200
Branch: REL_11_STABLE [0048c3b51] 2023-07-04 09:27:00 +1200
</span><p>
<span class="original">
      Fix race conditions in conflict detection
      for &lt;literal&gt;SERIALIZABLE&lt;/literal&gt; isolation mode
      (Thomas Munro)
</span>
<code class="literal">SERIALIZABLE</code>分離モードのコンフリクト検出における競合条件を修正しました。
(Thomas Munro)
     </p><p>
<span class="original">
      Conflicts could be missed when using bitmap heap scans, when using
      GIN indexes, and when examining an initially-empty btree index.
      All these cases could lead to serializability failures due to
      improperly allowing conflicting transactions to commit.
</span>
ビットマップヒープスキャンとGINインデックスを使用して、最初に空のbtreeインデックスを調べる場合に、競合が見逃される可能性がありました。
これらのケースはすべて、競合するトランザクションのコミットを不適切に許可するために、シリアライザブル可能性の障害につながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [70b42f279] 2023-05-19 14:26:40 -0400
Branch: REL_15_STABLE [4729d1e8a] 2023-05-19 14:26:34 -0400
Branch: REL_14_STABLE [f8320cc72] 2023-05-19 14:26:34 -0400
</span><p>
<span class="original">
      Fix misbehavior of EvalPlanQual checks with inherited or partitioned
      target tables (Tom Lane)
</span>
継承テーブルまたはパーティションテーブルを対象としたEvalPlanQualチェックの誤動作を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      This oversight could lead to update or delete actions
      in &lt;literal&gt;READ COMMITTED&lt;/literal&gt; isolation mode getting
      performed when they should have been skipped because of a
      conflicting concurrent update.
</span>
この見落としは、<code class="literal">READ COMMITTED</code>分離モードのUPDATEまたはDELETEアクションが、同時更新と衝突しているためにスキップされるべきときに実行される可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [45392626c] 2023-06-20 17:47:53 -0400
Branch: REL_15_STABLE [c2f974fff] 2023-06-20 17:47:53 -0400
Branch: REL_14_STABLE [d911dce14] 2023-06-20 17:47:36 -0400
Branch: REL_13_STABLE [2f97105e9] 2023-06-20 17:47:36 -0400
Branch: REL_12_STABLE [9529b1eb1] 2023-06-20 17:47:36 -0400
</span><p>
<span class="original">
      Fix hash join with an inner-side hash key that contains Params
      coming from an outer nested loop (Tom Lane)
</span>
外側のネストループからのパラメータを含む内側ハッシュキーを使用したハッシュ結合を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      When rescanning the join after the values of such Params have
      changed, we must rebuild the hash table, but neglected to do so.
      This could result in missing join output rows.
</span>
そのようなパラメータの値が変更された後に結合を再スキャンする場合、ハッシュテーブルを再構築する必要がありますが、それを怠っていました。
その結果、結合の出力行が欠落する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [43af714de] 2023-06-29 10:19:10 -0400
Branch: REL_15_STABLE [cc8cca3c2] 2023-06-29 10:19:10 -0400
Branch: REL_14_STABLE [0789b82a9] 2023-06-29 10:19:10 -0400
Branch: REL_13_STABLE [d0ab203bc] 2023-06-29 10:19:10 -0400
Branch: REL_12_STABLE [53b93e853] 2023-06-29 10:19:10 -0400
Branch: REL_11_STABLE [7f11b7a9c] 2023-06-29 10:19:10 -0400
</span><p>
<span class="original">
      Fix intermittent failures when trying to update a field of a
      composite column (Tom Lane)
</span>
複合型列のフィールドを更新しようとしたときに時々発生する障害を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      If the overall value of the composite column is wide enough to
      require out-of-line toasting, then an unluckily-timed cache flush
      could cause errors or server crashes.
</span>
複合型列の全体の値が、TOAST外部格納を必要とするほど大きい場合、タイミングの悪いキャッシュフラッシュにより、エラーやサーバクラッシュを引き起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master Release: REL_16_BR [f24523672] 2023-06-07 18:54:34 +0200
Branch: REL_15_STABLE [ee87f8b63] 2023-06-07 18:52:21 +0200
Branch: REL_14_STABLE [7f528e96c] 2023-06-07 18:53:04 +0200
Branch: REL_13_STABLE [c504aa857] 2023-06-07 18:53:16 +0200
Branch: REL_12_STABLE [54e1b8587] 2023-06-07 18:53:30 +0200
Branch: master [ce5aaea8c] 2023-07-02 22:21:02 +0200
Branch: REL_16_STABLE [9cf85093b] 2023-07-02 22:22:31 +0200
Branch: REL_15_STABLE [7ae4e7868] 2023-07-02 22:22:50 +0200
Branch: REL_14_STABLE [260dbf19a] 2023-07-02 22:23:04 +0200
Branch: REL_13_STABLE [984c23f6f] 2023-07-02 22:23:20 +0200
</span><p>
<span class="original">
      Prevent query-lifespan memory leaks in some &lt;command&gt;UPDATE&lt;/command&gt;
      queries with triggers (Tomas Vondra)
</span>
トリガを使用した一部の<code class="command">UPDATE</code>クエリでのクエリ存続期間のメモリリークを防止しました。
(Tomas Vondra)
     </p></li><li class="listitem"><span class="original">
Author: Tomas Vondra &lt;tomas.vondra@postgresql.org&gt;
Branch: master [98640f960] 2023-07-02 20:03:30 +0200
Branch: REL_16_STABLE [9ae7b5d1f] 2023-07-02 20:04:16 +0200
Branch: REL_15_STABLE [0c5fe4ff6] 2023-07-02 20:04:40 +0200
Branch: REL_14_STABLE [c1affa38c] 2023-07-02 20:05:14 +0200
Branch: REL_13_STABLE [3ce761d5c] 2023-07-02 20:05:35 +0200
</span><p>
<span class="original">
      Prevent query-lifespan memory leaks when an Incremental Sort plan
      node is rescanned (James Coleman, Laurenz Albe, Tom Lane)
</span>
増分ソート実行プランノードが再スキャンされる際に、メモリがクエリ処理が終了するまで解放されないメモリリークを防止しました。
(James Coleman, Laurenz Albe, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [7398e2722] 2023-06-12 10:54:44 -0400
Branch: REL_15_STABLE [bd590d1fe] 2023-06-12 10:54:28 -0400
Branch: REL_14_STABLE [5eaa05f63] 2023-06-12 10:54:28 -0400
Branch: REL_13_STABLE [6f23b5f74] 2023-06-12 10:54:28 -0400
</span><p>
<span class="original">
      Accept fractional seconds in the input to &lt;type&gt;jsonpath&lt;/type&gt;'s
      &lt;function&gt;datetime()&lt;/function&gt; method (Tom Lane)
</span>
<code class="type">jsonpath</code>の<code class="function">datetime()</code>メソッドへの入力として小数点以下の秒を受け入れるようにしました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [691594acd] 2023-06-24 17:18:08 -0400
Branch: REL_15_STABLE [a77d90171] 2023-06-24 17:18:08 -0400
Branch: REL_14_STABLE [4c61afa47] 2023-06-24 17:18:08 -0400
Branch: REL_13_STABLE [b6ab18a99] 2023-06-24 17:18:08 -0400
Branch: REL_12_STABLE [3b4580f5c] 2023-06-24 17:18:08 -0400
Branch: REL_11_STABLE [c7f33a197] 2023-06-24 17:18:08 -0400
</span><p>
<span class="original">
      Prevent stack-overflow crashes with very complex text search
      patterns (Tom Lane)
</span>
極めて複雑なテキスト検索パターンでのスタックオーバーフローによるクラッシュを防止しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [38df84c65] 2023-07-27 11:56:35 -0400
Branch: REL_16_STABLE [de3f0e3fe] 2023-07-27 11:56:35 -0400
Branch: REL_15_STABLE [313ceda2f] 2023-07-27 12:07:48 -0400
Branch: REL_14_STABLE [341996248] 2023-07-27 12:07:48 -0400
Branch: REL_13_STABLE [288b4288c] 2023-07-27 12:07:48 -0400
Branch: REL_12_STABLE [0660f74e8] 2023-07-27 12:07:48 -0400
Branch: REL_11_STABLE [1d031ad54] 2023-07-27 12:07:48 -0400
</span><p>
<span class="original">
      Allow tokens up to 10240 bytes long
      in &lt;filename&gt;pg_hba.conf&lt;/filename&gt;
      and &lt;filename&gt;pg_ident.conf&lt;/filename&gt; (Tom Lane)
</span>
<code class="filename">pg_hba.conf</code>と<code class="filename">pg_ident.conf</code>で最大10240バイトのトークンを使えるようにしました。
(Tom Lane)
     </p><p>
<span class="original">
      The previous limit of 256 bytes has been found insufficient for some
      use-cases.
</span>
一部のユースケースでは、以前の256バイトの制限では不十分であることが判明していました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: REL_15_STABLE [a5f312c58] 2023-07-06 13:05:25 +0300
</span><p>
<span class="original">
      Ensure that all existing placeholders are checked for matches when
      an extension declares its GUC prefix to be reserved (Karina
      Litskevich, Ekaterina Sokolova)
</span>
拡張がGUCプレフィックスの予約を宣言したときに、既存のすべてのプレースホルダが一致するかどうかチェックされるようにしました。
(Karina Litskevich, Ekaterina Sokolova)
     </p><p>
<span class="original">
      Faulty loop logic could cause some entries to be skipped.
</span>
ループロジックの欠陥で、一部の項目がスキップされる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [4f4d73466] 2023-07-05 13:13:13 +0300
Branch: REL_16_STABLE [dc0b58417] 2023-07-05 13:25:59 +0300
Branch: REL_15_STABLE [fa96a74a0] 2023-07-05 13:13:30 +0300
Branch: REL_14_STABLE [bfb493dba] 2023-07-05 13:13:35 +0300
Branch: REL_13_STABLE [59c2a6fe9] 2023-07-05 13:13:39 +0300
Branch: REL_12_STABLE [162aa47c3] 2023-07-05 13:14:24 +0300
Branch: REL_11_STABLE [2316ff1ae] 2023-07-05 13:14:33 +0300
</span><p>
<span class="original">
      Fix mishandling of C++ out-of-memory conditions (Heikki Linnakangas)
</span>
C++のout of memory条件の誤った処理を修正しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      If JIT is in use, running out of memory in a
      C++ &lt;function&gt;new&lt;/function&gt; call would lead to
      a &lt;productname&gt;PostgreSQL&lt;/productname&gt; FATAL error, instead of the
      expected C++ exception.
</span>
JITが使用されている場合、C++の<code class="function">new</code>呼び出しでメモリが不足すると、想定されたC++例外ではなく代わりに<span class="productname">PostgreSQL</span>のFATALエラーが発生していました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9089287aa] 2023-07-20 14:23:46 -0400
Branch: REL_16_STABLE [c0f531396] 2023-07-20 14:23:46 -0400
Branch: REL_15_STABLE [fbaf65cd6] 2023-07-20 14:23:46 -0400
Branch: REL_14_STABLE [10fd061bb] 2023-07-20 14:23:46 -0400
Branch: REL_13_STABLE [291c02540] 2023-07-20 14:23:46 -0400
</span><p>
<span class="original">
      Fix rare null-pointer crash in &lt;filename&gt;plancache.c&lt;/filename&gt;
      (Tom Lane)
</span>
<code class="filename">plancache.c</code>での稀なNULLポインタのクラッシュを修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Masahiko Sawada &lt;msawada@postgresql.org&gt;
Branch: master [68a59f9e9] 2023-07-05 14:49:46 +0900
Branch: REL_16_STABLE [be8cae7e2] 2023-07-05 14:49:58 +0900
Branch: REL_15_STABLE [66f8a1397] 2023-07-05 14:49:53 +0900
</span><p>
<span class="original">
      Avoid leaking a stats entry for a subscription when it is dropped
      (Masahiko Sawada)
</span>
サブスクリプションがドロップされた時にそのサブスクリプションの統計エントリをリークしないようにしました。
(Masahiko Sawada)
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [03f80daac] 2023-07-04 15:16:47 +1200
Branch: REL_16_STABLE [af8f9ec66] 2023-07-04 15:21:36 +1200
Branch: REL_15_STABLE [9ffb10f18] 2023-07-04 15:24:42 +1200
Branch: REL_14_STABLE [b7ec66731] 2023-07-04 15:26:42 +1200
Branch: REL_13_STABLE [a0003572f] 2023-07-04 15:28:29 +1200
Branch: REL_12_STABLE [74ad9b0d1] 2023-07-04 15:29:41 +1200
Branch: REL_11_STABLE [1605623ec] 2023-07-04 16:13:12 +1200
</span><p>
<span class="original">
      Avoid losing track of possibly-useful shared memory segments when a
      page free results in coalescing ranges of free space (Dongming Liu)
</span>
ページの解放によって空き領域の範囲が結合された場合に、役立つ可能性のある共有メモリセグメントの追跡を失うことを回避しました。
(Dongming Liu)
     </p><p>
<span class="original">
      Ensure that the segment is moved into the
      appropriate &lt;quote&gt;bin&lt;/quote&gt; for its new amount of free space, so
      that it will be found by subsequent searches.
</span>
セグメントは新しい空き容量に応じて適切な<span class="quote">「<span class="quote">bin</span>」</span>に移動され、その後の検索で見つかるようになります。
     </p></li><li class="listitem"><span class="original">
Author: Peter Geoghegan &lt;pg@bowt.ie&gt;
Branch: master Release: REL_16_BR [5f0762f14] 2023-06-21 17:41:58 -0700
Branch: REL_15_STABLE [642bec1f8] 2023-06-21 17:41:56 -0700
Branch: REL_14_STABLE [63fa0deb3] 2023-06-21 17:41:54 -0700
Branch: REL_13_STABLE [b6311824f] 2023-06-21 17:41:52 -0700
Branch: REL_12_STABLE [355917c07] 2023-06-21 17:41:50 -0700
Branch: REL_11_STABLE [7ddba19eb] 2023-06-21 17:41:48 -0700
Branch: master Release: REL_16_BR [5abff197c] 2023-05-25 15:33:00 -0700
Branch: REL_15_STABLE [6983a5112] 2023-05-25 15:32:57 -0700
Branch: REL_14_STABLE [322c9b340] 2023-05-25 15:32:53 -0700
Branch: REL_13_STABLE [8f876d15c] 2023-05-25 15:32:50 -0700
Branch: REL_12_STABLE [188dad680] 2023-05-25 15:32:48 -0700
Branch: REL_11_STABLE [a72b503ca] 2023-05-25 15:32:45 -0700
</span><p>
<span class="original">
      Allow &lt;command&gt;VACUUM&lt;/command&gt; to continue after detecting certain
      types of b-tree index corruption (Peter Geoghegan)
</span>
特定の種類のBツリーインデックスの破損を検出した後に<code class="command">VACUUM</code>の続行が可能となりました。
(Peter Geoghegan)
     </p><p>
<span class="original">
      If an invalid sibling-page link is detected, log the issue and press
      on, rather than throwing an error as before.  Nothing short
      of &lt;command&gt;REINDEX&lt;/command&gt; will fix the broken index, but
      preventing &lt;command&gt;VACUUM&lt;/command&gt; from completing until that is
      done risks making matters far worse.
</span>
無効な兄弟ページリンクが検出された場合は、以前のようにエラーを起こすのではなく、問題をログに記録して続行します。
<code class="command">REINDEX</code>以外に壊れたインデックスを修正するものはありませんが、それが完了するまで<code class="command">VACUUM</code>が完了しないようにすると、事態がさらに悪化するリスクがありました。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [83ecfa9fa] 2023-07-13 13:03:28 -0700
Branch: REL_16_STABLE [03ccc9569] 2023-07-13 13:03:30 -0700
Branch: REL_15_STABLE [82e97b864] 2023-07-13 13:03:31 -0700
Branch: REL_14_STABLE [e246fd423] 2023-07-13 13:03:33 -0700
Branch: REL_13_STABLE [53336e8f6] 2023-07-13 13:03:34 -0700
Branch: REL_12_STABLE [7aec84e4c] 2023-07-13 13:03:36 -0700
Branch: REL_11_STABLE [1386f0987] 2023-07-13 13:03:37 -0700
</span><p>
<span class="original">
      Ensure that &lt;varname&gt;WrapLimitsVacuumLock&lt;/varname&gt; is released
      after &lt;command&gt;VACUUM&lt;/command&gt; detects invalid data
      in &lt;structname&gt;pg_database&lt;/structname&gt;.&lt;structfield&gt;datfrozenxid&lt;/structfield&gt;
      or &lt;structname&gt;pg_database&lt;/structname&gt;.&lt;structfield&gt;datminmxid&lt;/structfield&gt;
      (Andres Freund)
</span>
<code class="command">VACUUM</code>が<code class="structname">pg_database</code>.<code class="structfield">datfrozenxid</code>または<code class="structname">pg_database</code>.<code class="structfield">datminmxid</code>で無効なデータを検出した後に<code class="varname">WrapLimitsVacuumLock</code>が確実に解放されるようにしました。
(Andres Freund)
     </p><p>
<span class="original">
      Failure to release this lock could lead to a deadlock later,
      although the lock would be cleaned up if the session exits or
      encounters some other error.
</span>
このロックはセッションが終了するか他のエラーが発生するとクリーンアップされますが、このロックの解放に失敗すると、後でデッドロックにつながる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [cb0cca188] 2023-07-18 13:43:44 +0900
Branch: REL_16_STABLE [f88bc9f38] 2023-07-18 13:44:27 +0900
Branch: REL_15_STABLE [a878eff6b] 2023-07-18 13:44:29 +0900
Branch: REL_14_STABLE [442749100] 2023-07-18 13:44:31 +0900
Branch: REL_13_STABLE [db59108a2] 2023-07-18 13:44:33 +0900
Branch: REL_12_STABLE [d2ee542a2] 2023-07-18 13:44:34 +0900
Branch: REL_11_STABLE [bc0581f8f] 2023-07-18 13:44:35 +0900
Branch: master [4e465aac3] 2023-07-18 14:04:31 +0900
Branch: REL_16_STABLE [926aa6d11] 2023-07-18 14:04:46 +0900
Branch: REL_15_STABLE [f6ecd2622] 2023-07-18 14:04:48 +0900
Branch: REL_14_STABLE [763d26205] 2023-07-18 14:04:50 +0900
Branch: REL_13_STABLE [b3ca4f0a5] 2023-07-18 14:04:51 +0900
Branch: REL_12_STABLE [410a0d6bd] 2023-07-18 14:04:52 +0900
Branch: REL_11_STABLE [6c7bffc09] 2023-07-18 14:04:54 +0900
</span><p>
<span class="original">
      Avoid double replay of prepared transactions during crash
      recovery (suyu.cmj, Michael Paquier)
</span>
クラッシュリカバリ時に準備されたトランザクションの二重リプレイを回避しました。
(suyu.cmj, Michael Paquier)
     </p><p>
<span class="original">
      After a crash partway through a checkpoint with some two-phase
      transaction state data already flushed to disk by this checkpoint,
      crash recovery could attempt to replay the prepared transaction(s)
      twice, leading to a fatal error such as &lt;quote&gt;lock is already
      held&lt;/quote&gt; in the startup process.
</span>
このチェックポイントによって2相トランザクション状態データがすでにディスクにフラッシュされている状態で、チェックポイントが途中でクラッシュした後、クラッシュリカバリは準備されたトランザクションを2回リプレイしようとして、起動プロセスで<span class="quote">「<span class="quote">lock is already held</span>」</span>のような致命的エラーが発生していました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [4b4798e13] 2023-07-04 17:57:03 +0300
Branch: REL_16_STABLE [d431644b4] 2023-07-04 18:04:27 +0300
Branch: REL_15_STABLE [e24c02e4d] 2023-07-04 18:07:27 +0300
Branch: REL_14_STABLE [d85bf0719] 2023-07-04 18:07:46 +0300
Branch: REL_13_STABLE [acc8cdff4] 2023-07-04 18:08:08 +0300
Branch: REL_12_STABLE [1b4f1c6f8] 2023-07-04 18:08:26 +0300
Branch: REL_11_STABLE [6377f705c] 2023-07-04 18:08:40 +0300
</span><p>
<span class="original">
      Ensure that a newly created, but still empty table
      is &lt;function&gt;fsync&lt;/function&gt;'ed at the next checkpoint (Heikki
      Linnakangas)
</span>
新しく作成されたがまだ空のテーブルが次のチェックポイントで<code class="function">fsync</code>されるようにしました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      Without this, if there is an operating system crash causing the
      empty file to disappear, subsequent operations on the table might
      fail with &lt;quote&gt;could not open file&lt;/quote&gt; errors.
</span>
これを行なわないと、オペレーティングシステムのクラッシュによって空のファイルが消える原因となる場合、テーブルに対する後続の操作は<span class="quote">「<span class="quote">could not open file</span>」</span>エラーで失敗する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [3142a8845] 2023-07-06 17:25:29 +0300
Branch: REL_16_STABLE [bf7b70e6b] 2023-07-06 17:28:50 +0300
Branch: REL_15_STABLE [25624c5d3] 2023-07-06 17:29:12 +0300
Branch: REL_14_STABLE [32f327f68] 2023-07-06 17:29:13 +0300
Branch: REL_13_STABLE [c50b869ed] 2023-07-06 17:29:14 +0300
Branch: REL_12_STABLE [80abec387] 2023-07-06 17:29:15 +0300
Branch: REL_11_STABLE [988719b88] 2023-07-06 17:29:16 +0300
</span><p>
<span class="original">
      Ensure that creation of the init fork of an unlogged index is
      WAL-logged (Heikki Linnakangas)
</span>
UNLOGGEDインデックスの初期フォーク作成が必ずWALログに記録されるようにしました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      While an unlogged index's main data fork is not WAL-logged, its init
      fork should be, to ensure that we have a consistent state to restore
      the index to after a crash.  This step was missed if the init fork
      contains no data, which is a case not used by any standard index AM;
      but perhaps some extension behaves that way.
</span>
UNLOGGEDインデックスのメインデータフォークはWALログに記録されませんが、クラッシュ後にインデックスをリストアするための一貫した状態を確保するために、その初期フォークはWALログに記録される必要があります。
初期フォークにデータが含まれていない場合、このステップは省略されていましたが、標準のインデックスAMでは使用されていないケースで、おそらく一部の拡張ではそのように動作します。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [4637a6ac0] 2023-07-03 11:16:27 +1200
Branch: REL_16_STABLE [76d5966b3] 2023-07-03 11:21:56 +1200
Branch: REL_15_STABLE [f50200c01] 2023-07-03 11:22:10 +1200
</span><p>
<span class="original">
      Silence bogus &lt;quote&gt;missing contrecord&lt;/quote&gt; errors (Thomas Munro)
</span>
偽性の<span class="quote">「<span class="quote">missing contrecord</span>」</span>エラーを出ないようにしました。
(Thomas Munro)
     </p><p>
<span class="original">
      Treat this case as plain end-of-WAL to avoid logging inaccurate
      complaints from &lt;application&gt;pg_waldump&lt;/application&gt;
      and &lt;application&gt;walsender&lt;/application&gt;.
</span>
<span class="application">pg_waldump</span>と<span class="application">walsender</span>からの不正確な苦情がログに記録されるのを避けるために、このケースを単純なWAL終了として扱うようにしました。
     </p></li><li class="listitem"><span class="original">
Author: David Rowley &lt;drowley@postgresql.org&gt;
Branch: master [deae1657e] 2023-08-02 01:39:47 +1200
Branch: REL_16_STABLE [b25acc302] 2023-08-02 01:40:27 +1200
Branch: REL_15_STABLE [67f3a697b] 2023-08-02 01:40:56 +1200
Branch: REL_14_STABLE [f457f2ef1] 2023-08-02 01:41:21 +1200
Branch: REL_13_STABLE [74a5bf1b6] 2023-08-02 01:41:55 +1200
Branch: REL_12_STABLE [668990980] 2023-08-02 01:44:31 +1200
</span><p>
<span class="original">
      Fix overly strict assertion in &lt;type&gt;jsonpath&lt;/type&gt; code
      (David Rowley)
</span>
<code class="type">jsonpath</code>コードでの過度に厳密なアサーションを修正しました。
(David Rowley)
     </p><p>
<span class="original">
      This assertion failed if a query applied
      the &lt;literal&gt;.type()&lt;/literal&gt; operator to
      a &lt;literal&gt;like_regex&lt;/literal&gt; result.
      There was no bug in non-assert builds.
</span>
問い合わせが<code class="literal">like_regex</code>の結果に<code class="literal">.type()</code>演算子を適用した場合、このアサーションは失敗していました。
非アサートビルドにはバグがありませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [555b929bb] 2023-06-21 11:07:24 -0400
Branch: REL_15_STABLE [cb74f7bec] 2023-06-21 11:07:11 -0400
Branch: REL_14_STABLE [120ea65b8] 2023-06-21 11:07:11 -0400
Branch: REL_13_STABLE [d1fc0f382] 2023-06-21 11:07:11 -0400
Branch: REL_12_STABLE [a98a04005] 2023-06-21 11:07:11 -0400
Branch: REL_11_STABLE [a8be2356c] 2023-06-21 11:07:11 -0400
</span><p>
<span class="original">
      Avoid assertion failure when processing an empty statement via the
      extended query protocol in an already-aborted transaction (Tom Lane)
</span>
すでにアボートされたトランザクションで拡張クエリプロトコルを介して空のステートメントを処理する場合のアサート失敗を回避しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [605994651] 2023-05-10 11:24:30 +0900
Branch: REL_15_STABLE [ccd21e1cf] 2023-05-10 11:24:40 +0900
</span><p>
<span class="original">
      Avoid assertion failure when
      the &lt;varname&gt;stats_fetch_consistency&lt;/varname&gt; setting is changed
      intra-transaction (Kyotaro Horiguchi)
</span>
トランザクション内で<code class="varname">stats_fetch_consistency</code>設定が変更された場合のアサート失敗を回避しました。
(Kyotaro Horiguchi)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [1d369c9e9] 2023-05-16 10:53:42 -0400
Branch: REL_15_STABLE [eaf99e4c4] 2023-05-16 10:53:42 -0400
Branch: REL_14_STABLE [ccd362325] 2023-05-16 10:53:42 -0400
Branch: REL_13_STABLE [0409c7fc7] 2023-05-16 10:53:42 -0400
Branch: REL_12_STABLE [0966291a4] 2023-05-16 10:53:42 -0400
Branch: REL_11_STABLE [8084bf9a4] 2023-05-16 10:53:42 -0400
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/fuzzystrmatch&lt;/filename&gt;'s
      Soundex &lt;function&gt;difference()&lt;/function&gt; function to handle empty
      input sanely (Alexander Lakhin, Tom Lane)
</span>
<code class="filename">contrib/fuzzystrmatch</code>のSoundexの<code class="function">difference()</code>関数が空の入力を正常に処理できるように修正しました。
(Alexander Lakhin, Tom Lane)
     </p><p>
<span class="original">
      An input string containing no alphabetic characters resulted in
      unpredictable output.
</span>
アルファベット文字を含まない入力文字列を使用すると、予期しない出力が発生していました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [d522b05c8] 2023-06-12 09:14:03 +0900
Branch: REL_15_STABLE [3a5222a43] 2023-06-12 09:14:13 +0900
Branch: REL_14_STABLE [e0e682945] 2023-06-12 09:14:14 +0900
Branch: REL_13_STABLE [78bf0a256] 2023-06-12 09:14:17 +0900
Branch: REL_12_STABLE [edf1de65e] 2023-06-12 09:14:19 +0900
Branch: REL_11_STABLE [bbfc26d86] 2023-06-12 09:14:20 +0900
</span><p>
<span class="original">
      Tighten whitespace checks in &lt;filename&gt;contrib/hstore&lt;/filename&gt;
      input (Evan Jones)
</span>
<code class="filename">contrib/hstore</code>で入力の空白チェックを強化しました。
(Evan Jones)
     </p><p>
<span class="original">
      In some cases, characters would be falsely recognized as whitespace
      and hence discarded.
</span>
場合によっては、文字が誤って空白として認識され、破棄されることがありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [c00fbe89d] 2023-06-15 13:45:34 +0900
Branch: REL_15_STABLE [4be308ede] 2023-06-15 13:45:38 +0900
Branch: REL_14_STABLE [019a40d61] 2023-06-15 13:45:40 +0900
Branch: REL_13_STABLE [ae9aac64a] 2023-06-15 13:45:41 +0900
Branch: REL_12_STABLE [6ecc1c02a] 2023-06-15 13:45:42 +0900
Branch: REL_11_STABLE [ab40b0395] 2023-06-15 13:45:44 +0900
</span><p>
<span class="original">
      Disallow oversize input arrays
      with &lt;filename&gt;contrib/intarray&lt;/filename&gt;'s
      &lt;literal&gt;gist__int_ops&lt;/literal&gt; index opclass (Ankit Kumar Pandey,
      Alexander Lakhin)
</span>
<code class="filename">contrib/intarray</code>の<code class="literal">GiST__int_ops</code>インデックス演算子クラスを使用したオーバーサイズの入力配列を禁止しました。
(Ankit Kumar Pandey, Alexander Lakhin)
     </p><p>
<span class="original">
      Previously this code would report a &lt;literal&gt;NOTICE&lt;/literal&gt; but
      press on anyway, creating an invalid index entry that presents a
      risk of crashes when the index is read.
</span>
以前、このコードは<code class="literal">NOTICE</code>を報告していましたが、とにかく続行すると、無効なインデックスエントリが作成され、インデックスが読み込まれたときにクラッシュする危険性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [8aac9759b] 2023-07-13 13:07:51 -0400
Branch: REL_16_STABLE [e27f3f52c] 2023-07-13 13:08:08 -0400
Branch: REL_15_STABLE [5cb461989] 2023-07-13 13:08:17 -0400
Branch: REL_14_STABLE [a6991f763] 2023-07-13 13:08:23 -0400
Branch: REL_13_STABLE [7fffcc2ee] 2023-07-13 13:08:28 -0400
Branch: REL_12_STABLE [8d8f37149] 2023-07-13 13:08:33 -0400
Branch: REL_11_STABLE [9f70f6d4c] 2023-07-13 13:08:40 -0400
</span><p>
<span class="original">
      Avoid useless double decompression of GiST index entries
      in &lt;filename&gt;contrib/intarray&lt;/filename&gt; (Konstantin Knizhnik,
      Matthias van de Meent, Tom Lane)
</span>
<code class="filename">contrib/intarray</code>のGiSTインデックスエントリの無駄な二重展開を回避しました。
(Konstantin Knizhnik, Matthias van de Meent, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_16_BR [e7bff46e5] 2023-05-19 12:37:58 +0900
Branch: REL_15_STABLE [2dd778221] 2023-05-19 12:38:15 +0900
Branch: REL_14_STABLE [e72580232] 2023-05-19 12:38:18 +0900
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/pageinspect&lt;/filename&gt;'s
      &lt;function&gt;gist_page_items()&lt;/function&gt; function to work when there
      are included index columns (Alexander Lakhin, Michael Paquier)
</span>
<code class="filename">contrib/pageinspect</code>の<code class="function">GiST_page_items()</code>関数が、INCLUDE句で列が含まれている場合に動作するよう修正しました。
(Alexander Lakhin, Michael Paquier)
     </p><p>
<span class="original">
      Previously, if the index has included
      columns, &lt;function&gt;gist_page_items()&lt;/function&gt; would fail to
      display those values on index leaf pages, or crash outright on
      non-leaf pages.
</span>
以前は、インデックスにINCLUDE句で列が含まれている場合、<code class="function">gist_page_items()</code>はインデックスリーフページでこれらの値を表示できなかったり、非リーフページでは完全にクラッシュしていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [51b2c0879] 2023-05-12 16:11:14 -0400
Branch: REL_15_STABLE [bc478a0a8] 2023-05-12 16:11:14 -0400
</span><p>
<span class="original">
      In &lt;application&gt;psql&lt;/application&gt;, ignore
      the &lt;envar&gt;PSQL_WATCH_PAGER&lt;/envar&gt; environment variable when
      stdin/stdout are not a terminal (Tom Lane)
</span>
<span class="application">psql</span>で標準入出力が端末でない場合に、<code class="envar">PSQL_WATCH_PAGER</code>環境変数を無視するようにしました。
(Tom Lane)

     </p><p>
<span class="original">
      This corresponds to the treatment of &lt;envar&gt;PSQL_PAGER&lt;/envar&gt; in
      commands besides &lt;command&gt;\watch&lt;/command&gt;.
</span>
これは、<code class="command">\watch</code>以外のコマンドでの<code class="envar">PSQL_PAGER</code>と同じ扱いになります。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [016107478] 2023-06-04 13:05:54 -0400
Branch: REL_15_STABLE [ca9e79274] 2023-06-04 13:05:54 -0400
Branch: REL_14_STABLE [d6f549d7a] 2023-06-04 13:05:54 -0400
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_dump&lt;/application&gt; to correctly handle new-style
      SQL-language functions whose bodies require parse-time dependencies
      on unique indexes (Tom Lane)
</span>
一意のインデックスに対するパース時の依存関係を必要とする本体を持つ新しいスタイルのSQL言語関数を正しく処理するように<span class="application">pg_dump</span>を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Such cases can arise from &lt;literal&gt;GROUP BY&lt;/literal&gt;
      and &lt;literal&gt;ON CONFLICT&lt;/literal&gt; clauses, for example.  The
      function must then be postponed until after the unique index in the
      dump output, but &lt;application&gt;pg_dump&lt;/application&gt; did not do that
      and instead printed a warning about &lt;quote&gt;could not resolve
      dependency loop&lt;/quote&gt;.
</span>
このようなケースは<code class="literal">GROUP BY</code>句や<code class="literal">ON CONFLICT</code>句で発生することがあります。
この場合、一意インデックスが作成された後に関数のダンプを延期する必要がありますが、<span class="application">pg_dump</span>はそれを行わず、代わりに<span class="quote">「<span class="quote">could not resolve dependency loop</span>」</span>という警告を出力していました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_16_BR [b3f32a6c3] 2023-06-04 11:22:05 -0400
Branch: REL_15_STABLE [751ba1a7c] 2023-06-04 11:22:05 -0400
</span><p>
<span class="original">
      Improve &lt;application&gt;pg_dump&lt;/application&gt;'s display of details
      about dependency-loop problems (Tom Lane)
</span>
<span class="application">pg_dump</span>で、依存関係ループ問題の詳細情報の表示を改善しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_16_BR [8f5e42d33] 2023-05-25 12:36:18 +0200
Branch: REL_15_STABLE [34f511965] 2023-05-25 12:36:18 +0200
</span><p>
<span class="original">
      Avoid crash in &lt;application&gt;pgbench&lt;/application&gt; with an empty
      pipeline and prepared mode (&amp;Aacute;lvaro Herrera)
</span>
<span class="application">pgbench</span>で、空のパイプラインとプリペアモードで生じるクラッシュを回避しました。
(Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [a5ea825f9] 2023-07-14 11:15:34 +0900
Branch: REL_16_STABLE [27da47122] 2023-07-14 11:16:03 +0900
Branch: REL_15_STABLE [eb3abec4b] 2023-07-14 11:16:06 +0900
Branch: REL_14_STABLE [7af65523a] 2023-07-14 11:16:08 +0900
Branch: REL_13_STABLE [bdaaf1bf1] 2023-07-14 11:16:10 +0900
Branch: REL_12_STABLE [7d27493b7] 2023-07-14 11:16:11 +0900
Branch: REL_11_STABLE [db9813819] 2023-07-14 11:16:13 +0900
</span><p>
<span class="original">
      Ensure
      that &lt;structname&gt;pg_index&lt;/structname&gt;.&lt;structfield&gt;indisreplident&lt;/structfield&gt;
      is kept up-to-date in relation cache entries (Shruthi Gowda)
</span>
<code class="structname">pg_index</code>.<code class="structfield">indisreplident</code>がリレーションキャッシュのエントリ内で常に最新となるようにしました。
(Shruthi Gowda)
     </p><p>
<span class="original">
      This value could be stale in some cases.  There is no core code that
      relies on the relation cache's copy, so this is only a latent bug as
      far as Postgres itself is concerned; but there may be extensions for
      which it is a live bug.
</span>
場合によっては、値が古くなることがありました。
リレーションキャッシュのコピーに依存しているコアコードはないため、PostgreSQLに限って言えば、潜在的なバグに過ぎませんが、これに起因して拡張でバグが発生する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tatsuo Ishii &lt;ishii@postgresql.org&gt;
Branch: master Release: REL_16_BR [ae66716bf] 2023-06-14 11:02:50 +0900
Branch: REL_15_STABLE [af26f28b9] 2023-06-14 11:11:18 +0900
</span><p>
<span class="original">
      Fix &lt;application&gt;make_etags&lt;/application&gt; script to work with
      non-Exuberant &lt;application&gt;ctags&lt;/application&gt; (Masahiko Sawada)
</span>
Exuberant以外の<span class="application">ctags</span>で動作するように<span class="application">make_etags</span>スクリプトを修正しました。
(Masahiko Sawada)
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release.html" title="付録E リリースノート">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-15-3.html" title="E.2. リリース15.3">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">付録E リリースノート </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 15.4文書">ホーム</a></td><td width="40%" align="right" valign="top"> E.2. リリース15.3</td></tr></table></div></body></html>