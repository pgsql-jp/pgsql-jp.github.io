<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>52.19. pg_replication_slots</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="view-pg-replication-origin-status.html" title="52.18. pg_replication_origin_status" /><link rel="next" href="view-pg-roles.html" title="52.20. pg_roles" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 17beta3文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="views.html" title="第52章 システムビュー">第52章 システムビュー</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 17beta3 : view-pg-replication-slots.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-replication-origin-status.html" title="52.18. pg_replication_origin_status">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="views.html" title="第52章 システムビュー">上へ</a></td><td width="60%" align="center">52.19. <code class="structname">pg_replication_slots</code></td><td width="20%" align="right"> <a accesskey="n" href="view-pg-roles.html" title="52.20. pg_roles">次へ</a></td></tr></table><hr /></div><div class="sect1" id="VIEW-PG-REPLICATION-SLOTS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">52.19. <code class="structname">pg_replication_slots</code> <a href="#VIEW-PG-REPLICATION-SLOTS" class="id_link">#</a></h2></div></div></div><a id="id-1.10.5.23.2" class="indexterm"></a><p>
<span class="original">
   The &lt;structname&gt;pg_replication_slots&lt;/structname&gt; view provides a listing
   of all replication slots that currently exist on the database cluster,
   along with their current state.
</span>
<code class="structname">pg_replication_slots</code>は、現在存在するデータベースクラスタとその状態、全てのレプリケーションスロットの一覧を提供します。
  </p><p>
<span class="original">
   For more on replication slots,
   see &lt;xref linkend="streaming-replication-slots"/&gt; and &lt;xref linkend="logicaldecoding"/&gt;.
</span>
レプリケーションスロットに関する詳細は、<a class="xref" href="warm-standby.html#STREAMING-REPLICATION-SLOTS" title="26.2.6. レプリケーションスロット">26.2.6</a>と<a class="xref" href="logicaldecoding.html" title="第47章 ロジカルデコーディング">第47章</a>を参照してください。
  </p><div class="table" id="id-1.10.5.23.5"><p class="title"><strong>表52.19 <code class="structname">pg_replication_slots</code>の列</strong></p><div class="table-contents"><span class="original">
   &lt;title&gt;&lt;structname&gt;pg_replication_slots&lt;/structname&gt; Columns&lt;/title&gt;
</span><table class="table" summary="pg_replication_slotsの列" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">
<span class="original">
       Column Type
</span>
列 型
      </p>
      <p>
<span class="original">
       Description
</span>
説明
      </p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">slot_name</code> <code class="type">name</code>
      </p>
      <p>
<span class="original">
       A unique, cluster-wide identifier for the replication slot
</span>
クラスタ間で一意なレプリケーションスロットの識別子
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">plugin</code> <code class="type">name</code>
      </p>
      <p>
<span class="original">
       The base name of the shared object containing the output plugin this logical slot is using, or null for physical slots.
</span>
出力プラグインに使用されている論理スロットまたは物理スロットの場合はNULL、を含む共有オブジェクトの基底名。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">slot_type</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       The slot type: &lt;literal&gt;physical&lt;/literal&gt; or &lt;literal&gt;logical&lt;/literal&gt;
</span>
スロットのタイプ：<code class="literal">physical</code>または<code class="literal">logical</code>
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">datoid</code> <code class="type">oid</code>
<span class="original">
       (references &lt;link linkend="catalog-pg-database"&gt;&lt;structname&gt;pg_database&lt;/structname&gt;&lt;/link&gt;.&lt;structfield&gt;oid&lt;/structfield&gt;)
</span>
（参照先 <a class="link" href="catalog-pg-database.html" title="51.15. pg_database"><code class="structname">pg_database</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<span class="original">
       The OID of the database this slot is associated with, or
       null. Only logical slots have an associated database.
</span>
このスロットと関連しているデータベースのOID、またはNULL。論理スロットだけがデータベースと関連を持つことができます。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">database</code> <code class="type">name</code>
<span class="original">
       (references &lt;link linkend="catalog-pg-database"&gt;&lt;structname&gt;pg_database&lt;/structname&gt;&lt;/link&gt;.&lt;structfield&gt;datname&lt;/structfield&gt;)
</span>
（参照先 <a class="link" href="catalog-pg-database.html" title="51.15. pg_database"><code class="structname">pg_database</code></a>.<code class="structfield">datname</code>）
      </p>
      <p>
<span class="original">
       The name of the database this slot is associated with, or
       null. Only logical slots have an associated database.
</span>
このスロットと関連しているデータベース名、またはNULL。論理スロットだけがデータベースと関連を持つことができます。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">temporary</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if this is a temporary replication slot. Temporary slots are
       not saved to disk and are automatically dropped on error or when
       the session has finished.
</span>
trueの場合は、これが一時レプリケーションスロットである。
一時スロットはディスクに保存されず、エラーのとき、またはセッションが終了したときには自動的に削除されます。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">active</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if this slot is currently actively being used
</span>
trueの場合は、このスロットが現在アクティブで使用されている
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">active_pid</code> <code class="type">int4</code>
      </p>
      <p>
<span class="original">
       The process ID of the session using this slot if the slot
       is currently actively being used. &lt;literal&gt;NULL&lt;/literal&gt; if
       inactive.
</span>
このスロットが現在アクティブで使用されている場合は、スロットを使用しているセッションのプロセスID。アクティブでなければ<code class="literal">NULL</code>。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">xmin</code> <code class="type">xid</code>
      </p>
      <p>
<span class="original">
       The oldest transaction that this slot needs the database to
       retain.  &lt;literal&gt;VACUUM&lt;/literal&gt; cannot remove tuples deleted
       by any later transaction.
</span>
このスロットがデータベースとの接続を必要としている最も古いトランザクション。
<code class="literal">VACUUM</code> は後でトランザクションによって削除されたタプルを除去できません。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">catalog_xmin</code> <code class="type">xid</code>
      </p>
      <p>
<span class="original">
       The oldest transaction affecting the system catalogs that this
       slot needs the database to retain.  &lt;literal&gt;VACUUM&lt;/literal&gt; cannot
       remove catalog tuples deleted by any later transaction.
</span>
このスロットがデータベースとの接続を必要としている、システムカタログに影響する最も古いトランザクション。
<code class="literal">VACUUM</code>は後でトランザクションによって削除されたカタログのタプルを除去できません。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">restart_lsn</code> <code class="type">pg_lsn</code>
      </p>
      <p>
<span class="original">
       The address (&lt;literal&gt;LSN&lt;/literal&gt;) of oldest WAL which still
       might be required by the consumer of this slot and thus won't be
       automatically removed during checkpoints unless this LSN
       gets behind more than &lt;xref linkend="guc-max-slot-wal-keep-size"/&gt;
       from the current LSN.  &lt;literal&gt;NULL&lt;/literal&gt;
       if the &lt;literal&gt;LSN&lt;/literal&gt; of this slot has never been reserved.
</span>
消費者のスロットによって必要とされており、LSNが現在のLSNから<a class="xref" href="runtime-config-replication.html#GUC-MAX-SLOT-WAL-KEEP-SIZE">max_slot_wal_keep_size</a>以上遅れていない限り、チェックポイント中に自動的に削除されない最古のアドレス（<code class="literal">LSN</code>）です。
このスロットの<code class="literal">LSN</code>が保存されていなければ<code class="literal">NULL</code>です。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">confirmed_flush_lsn</code> <code class="type">pg_lsn</code>
      </p>
      <p>
<span class="original">
       The address (&lt;literal&gt;LSN&lt;/literal&gt;) up to which the logical
       slot's consumer has confirmed receiving data. Data corresponding to the
       transactions committed before this &lt;literal&gt;LSN&lt;/literal&gt; is not
       available anymore. &lt;literal&gt;NULL&lt;/literal&gt; for physical slots.
</span>
利用者がデータの受信を確認できている論理スロットのアドレス（<code class="literal">LSN</code>）。
この<code class="literal">LSN</code>より前にコミットされたトランザクションに対応するデータは、もはや有効ではありません。
物理スロットの場合は<code class="literal">NULL</code>。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">wal_status</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       Availability of WAL files claimed by this slot.
       Possible values are:
</span>
このスロットが報告するWALファイルの入手可能性。
可能な値は以下です。
       </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
         &lt;para&gt;&lt;literal&gt;reserved&lt;/literal&gt; means that the claimed files
          are within &lt;varname&gt;max_wal_size&lt;/varname&gt;.&lt;/para&gt;
</span><p><code class="literal">reserved</code>。報告されたファイルは<code class="varname">max_wal_size</code>内であることを意味します。</p></li><li class="listitem"><span class="original">
         &lt;para&gt;&lt;literal&gt;extended&lt;/literal&gt; means
          that &lt;varname&gt;max_wal_size&lt;/varname&gt; is exceeded but the files are
          still retained, either by the replication slot or
          by &lt;varname&gt;wal_keep_size&lt;/varname&gt;.
</span><p><code class="literal">extended</code>。<code class="varname">max_wal_size</code>は超えているものの、ファイルはレプリケーションスロットあるいは<code class="varname">wal_keep_size</code>によって保存されていることを意味します。
         </p></li><li class="listitem"><p>
<span class="original">
          &lt;literal&gt;unreserved&lt;/literal&gt; means that the slot no longer
          retains the required WAL files and some of them are to be removed at
          the next checkpoint.  This state can return
          to &lt;literal&gt;reserved&lt;/literal&gt; or &lt;literal&gt;extended&lt;/literal&gt;.
</span>
<code class="literal">unreserved</code>。そのスロットはもはや要求されたWALファイルが保存されず、次のチェックポイントでそのうちいくつかは削除される予定であることを意味します。
この状態は<code class="literal">reserved</code>または<code class="literal">extended</code>に戻すことができます。
         </p></li><li class="listitem"><p>
<span class="original">
          &lt;literal&gt;lost&lt;/literal&gt; means that some required WAL files have
          been removed and this slot is no longer usable.
</span>
<code class="literal">lost</code>。必要なWALファイルの一部が削除されており、このスロットはもはや利用可能ではないことを意味します。
         </p></li></ul></div><p>
<span class="original">
       The last two states are seen only when
       &lt;xref linkend="guc-max-slot-wal-keep-size"/&gt; is
       non-negative. If &lt;structfield&gt;restart_lsn&lt;/structfield&gt; is NULL, this
       field is null.
</span>
最後の2つの状態は、<a class="xref" href="runtime-config-replication.html#GUC-MAX-SLOT-WAL-KEEP-SIZE">max_slot_wal_keep_size</a>が非負の場合にのみ起こります。
<code class="structfield">restart_lsn</code>がNULLなら、このフィールドはNULLです。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">safe_wal_size</code> <code class="type">int8</code>
      </p>
      <p>
<span class="original">
       The number of bytes that can be written to WAL such that this slot
       is not in danger of getting in state "lost".  It is NULL for lost
       slots, as well as if &lt;varname&gt;max_slot_wal_keep_size&lt;/varname&gt;
       is &lt;literal&gt;-1&lt;/literal&gt;.
</span>
「ロスト」状態に陥る危険性のないスロットにおいて、WALに書き込むことのできるバイト数です。
失われたスロットに対して、あるいは<code class="varname">max_slot_wal_keep_size</code>が<code class="literal">-1</code>ならNULLです。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">two_phase</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if the slot is enabled for decoding prepared transactions.  Always
       false for physical slots.
</span>
trueの場合は、準備されたトランザクションのデコーディングのためにスロットが有効。
物理スロットでは常にfalse。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">inactive_since</code> <code class="type">timestamptz</code>
      </p>
      <p>
<span class="original">
        The time since the slot has become inactive.
        &lt;literal&gt;NULL&lt;/literal&gt; if the slot is currently being used.
        Note that for slots on the standby that are being synced from a
        primary server (whose &lt;structfield&gt;synced&lt;/structfield&gt; field is
        &lt;literal&gt;true&lt;/literal&gt;), the
        &lt;structfield&gt;inactive_since&lt;/structfield&gt; indicates the last
        synchronization (see
        &lt;xref linkend="logicaldecoding-replication-slots-synchronization"/&gt;)
        time.
</span>
《機械翻訳》スロットが非アクティブになってからの時間。
スロットが現在使用中の場合は<code class="literal">NULL</code>。
スタンバイ側のスロットがプライマリサーバから同期されている場合（その<code class="structfield">synced</code>フィールドが<code class="literal">true</code>である）、<code class="structfield">inactive_since</code>は最後の同期時間を示します（<a class="xref" href="logicaldecoding-explanation.html#LOGICALDECODING-REPLICATION-SLOTS-SYNCHRONIZATION" title="47.2.3. Replication Slot Synchronization">47.2.3</a>を参照）。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">conflicting</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if this logical slot conflicted with recovery (and so is now
       invalidated). When this column is true, check
       &lt;structfield&gt;invalidation_reason&lt;/structfield&gt; column for the conflict
       reason. Always NULL for physical slots.
</span>
《機械翻訳》この論理スロットがリカバリと競合した場合は真(true)です（したがって、無効になりました）。
この列が真の場合、競合理由を<code class="structfield">invalidation_reason</code>列で確認します。
物理スロットの場合は常にNULLです。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">invalidation_reason</code> <code class="type">text</code>
      </p>
      <p>
<span class="original">
       The reason for the slot's invalidation. It is set for both logical and
       physical slots. &lt;literal&gt;NULL&lt;/literal&gt; if the slot is not invalidated.
       Possible values are:
</span>
《機械翻訳》スロットが無効化された理由。
論理スロットと物理スロットの両方に設定されます。
スロットが無効化されない場合は<code class="literal">NULL</code>。
指定可能な値は以下のとおりです。
       </p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
          &lt;literal&gt;wal_removed&lt;/literal&gt; means that the required WAL has been
          removed.
</span>
《機械翻訳》<code class="literal">wal_removed</code>は、必要なWALが削除されたことを意味します。
         </p></li><li class="listitem"><p>
<span class="original">
          &lt;literal&gt;rows_removed&lt;/literal&gt; means that the required rows have
          been removed. It is set only for logical slots.
</span>
《機械翻訳》<code class="literal">rows_removed</code>は、必要な行が削除されたことを意味します。
これは論理スロットに対してのみ設定されます。
         </p></li><li class="listitem"><p>
<span class="original">
          &lt;literal&gt;wal_level_insufficient&lt;/literal&gt; means that the
          primary doesn't have a &lt;xref linkend="guc-wal-level"/&gt; sufficient to
          perform logical decoding.  It is set only for logical slots.
</span>
《機械翻訳》<code class="literal">wal_level_insufficient</code>は、プライマリが論理デコードを実行するのに十分な<a class="xref" href="runtime-config-wal.html#GUC-WAL-LEVEL">wal_level</a>を持っていないことを意味します。
これは論理スロットに対してのみ設定されます。
         </p></li></ul></div><p>
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">failover</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if this is a logical slot enabled to be synced to the standbys
       so that logical replication can be resumed from the new primary
       after failover. Always false for physical slots.
</span>
《機械翻訳》これが、フェイルオーバー後に新しいプライマリからの論理レプリケーションを再開できるように、スタンバイと同期できるように有効化された論理スロットである場合は、true。
物理スロットの場合は、常にfalse。
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">synced</code> <code class="type">bool</code>
      </p>
      <p>
<span class="original">
       True if this is a logical slot that was synced from a primary server.
       On a hot standby, the slots with the synced column marked as true can
       neither be used for logical decoding nor dropped manually. The value
       of this column has no meaning on the primary server; the column value on
       the primary is default false for all slots but may (if leftover from a
       promoted standby) also be true.
</span>
《機械翻訳》これがプライマリ サーバから同期された論理スロットである場合は true。
ホットスタンバイでは、同期されたカラムが true とマークされているスロットは、論理デコードにも手動でドロップすることもできません。
このカラムの値はプライマリ サーバでは意味を持ちません。
プライマリのカラム値は、すべてのスロットに対して false ですが、（昇格したスタンバイから残っている場合）true になる場合もあります。
      </p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-replication-origin-status.html" title="52.18. pg_replication_origin_status">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="views.html" title="第52章 システムビュー">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-roles.html" title="52.20. pg_roles">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">52.18. <code class="structname">pg_replication_origin_status</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 17beta3文書">ホーム</a></td><td width="40%" align="right" valign="top"> 52.20. <code class="structname">pg_roles</code></td></tr></table></div></body></html>